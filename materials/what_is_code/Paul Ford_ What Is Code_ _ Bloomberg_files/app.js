!function s(a,o,l){function u(t,e){if(!o[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=o[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,s,a,o,l)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e}},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},{}],3:[function(e,t,r){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],4:[function(e,t,r){function l(e,t,r,n,i,s,a){try{var o=e[s](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,i)}t.exports=function(o){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=o.apply(e,a);function i(e){l(n,t,r,i,s,"next",e)}function s(e){l(n,t,r,i,s,"throw",e)}i(void 0)})}}},{}],5:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],6:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},{}],7:[function(e,t,r){t.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{}],8:[function(e,n,t){var s=e("./superPropBase");function i(e,t,r){return"undefined"!=typeof Reflect&&Reflect.get?n.exports=i=Reflect.get:n.exports=i=function(e,t,r){var n=s(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},i(e,t,r||e)}n.exports=i},{"./superPropBase":20}],9:[function(e,t,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},{}],10:[function(e,t,r){var n=e("./setPrototypeOf");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},{"./setPrototypeOf":18}],11:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],12:[function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}t.exports=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}}return r.default=e,t&&t.set(e,r),r}},{}],13:[function(e,t,r){t.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},{}],14:[function(e,t,r){t.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r}}},{}],15:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],16:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],17:[function(e,t,r){var n=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},{"../helpers/typeof":22,"./assertThisInitialized":3}],18:[function(e,r,t){function n(e,t){return r.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.exports=n},{}],19:[function(e,t,r){var n=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),s=e("./nonIterableRest");t.exports=function(e,t){return n(e)||i(e,t)||s()}},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(e,t,r){var n=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},{"./getPrototypeOf":9}],21:[function(e,t,r){var n=e("./arrayWithoutHoles"),i=e("./iterableToArray"),s=e("./nonIterableSpread");t.exports=function(e){return n(e)||i(e)||s()}},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],22:[function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=i=function(e){return n(e)}:t.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(e)}t.exports=i},{}],23:[function(e,t,r){var n=function(s){"use strict";var l,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function a(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new S(n||[]);return s._invoke=function(s,a,o){var l=d;return function(e,t){if(l===f)throw new Error("Generator is already running");if(l===h){if("throw"===e)throw t;return k()}for(o.method=e,o.arg=t;;){var r=o.delegate;if(r){var n=E(r,o);if(n){if(n===m)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===d)throw l=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=f;var i=c(s,a,o);if("normal"===i.type){if(l=o.done?h:p,i.arg===m)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(l=h,o.method="throw",o.arg=i.arg)}}}(e,r,a),s}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}s.wrap=a;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function o(){}function b(){}function v(){}var y={};y[i]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(T([])));_&&_!==e&&u.call(_,i)&&(y=_);var j=v.prototype=o.prototype=Object.create(y);function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(l){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,i){var s=c(l[e],l,r);if("throw"!==s.type){var a=s.arg,o=a.value;return o&&"object"==typeof o&&u.call(o,"__await")?Promise.resolve(o.__await).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):Promise.resolve(o).then(function(e){a.value=e,n(a)},function(e){return t("throw",e,n,i)})}i(s.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function E(e,t){var r=e.iterator[t.method];if(r===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=l,e.done=!0,e};return n.next=n}}return{next:k}}function k(){return{value:l,done:!0}}return b.prototype=j.constructor=v,v.constructor=b,v[n]=b.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(j),e},s.awrap=function(e){return{__await:e}},C(A.prototype),A.prototype[r]=function(){return this},s.AsyncIterator=A,s.async=function(e,t,r,n){var i=new A(a(e,t,r,n));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(j),j[n]="Generator",j[i]=function(){return this},j.toString=function(){return"[object Generator]"},s.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return s.type="throw",s.arg=r,n.next=e,t&&(n.method="next",n.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],s=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),o=u.call(i,"finallyLoc");if(a&&o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;w(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=l),m}},s}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},{}],24:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":23}],25:[function(e,t,r){"use strict";t.exports=function(e,t,r){if("function"==typeof Array.prototype.findIndex)return e.findIndex(t,r);if("function"!=typeof t)throw new TypeError("predicate must be a function");var n=Object(e),i=n.length;if(0===i)return-1;for(var s=0;s<i;s++)if(t.call(r,n[s],s,n))return s;return-1}},{}],26:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],27:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":81}],28:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/object-create"),s=e("../internals/create-non-enumerable-property"),a=n("unscopables"),o=Array.prototype;null==o[a]&&s(o,a,i(null)),t.exports=function(e){o[a][e]=!0}},{"../internals/create-non-enumerable-property":49,"../internals/object-create":95,"../internals/well-known-symbol":144}],29:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":131}],30:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},{}],31:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":81}],32:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach,i=e("../internals/sloppy-array-method");t.exports=i("forEach")?function(e,t){return n(this,e,1<arguments.length?t:void 0)}:[].forEach},{"../internals/array-iteration":35,"../internals/sloppy-array-method":129}],33:[function(e,t,r){"use strict";var m=e("../internals/bind-context"),b=e("../internals/to-object"),v=e("../internals/call-with-safe-iteration-closing"),y=e("../internals/is-array-iterator-method"),g=e("../internals/to-length"),_=e("../internals/create-property"),j=e("../internals/get-iterator-method");t.exports=function(e,t,r){var n,i,s,a,o,l=b(e),u="function"==typeof this?this:Array,c=arguments.length,d=1<c?t:void 0,p=void 0!==d,f=0,h=j(l);if(p&&(d=m(d,2<c?r:void 0,2)),null==h||u==Array&&y(h))for(i=new u(n=g(l.length));f<n;f++)_(i,f,p?d(l[f],f):l[f]);else for(o=(a=h.call(l)).next,i=new u;!(s=o.call(a)).done;f++)_(i,f,p?v(a,d,[s.value,f],!0):s.value);return i.length=f,i}},{"../internals/bind-context":40,"../internals/call-with-safe-iteration-closing":41,"../internals/create-property":51,"../internals/get-iterator-method":66,"../internals/is-array-iterator-method":78,"../internals/to-length":139,"../internals/to-object":140}],34:[function(e,t,r){function n(o){return function(e,t,r){var n,i=l(e),s=u(i.length),a=c(r,s);if(o&&t!=t){for(;a<s;)if((n=i[a++])!=n)return!0}else for(;a<s;a++)if((o||a in i)&&i[a]===t)return o||a||0;return!o&&-1}}var l=e("../internals/to-indexed-object"),u=e("../internals/to-length"),c=e("../internals/to-absolute-index");t.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":136,"../internals/to-indexed-object":137,"../internals/to-length":139}],35:[function(e,t,r){function n(f){var h=1==f,m=2==f,b=3==f,v=4==f,y=6==f,g=5==f||y;return function(e,t,r,n){for(var i,s,a=C(e),o=j(a),l=_(t,r,3),u=A(o.length),c=0,d=n||E,p=h?d(e,u):m?d(e,0):void 0;c<u;c++)if((g||c in o)&&(s=l(i=o[c],c,a),f))if(h)p[c]=s;else if(s)switch(f){case 3:return!0;case 5:return i;case 6:return c;case 2:P.call(p,i)}else if(v)return!1;return y?-1:b||v?v:p}}var _=e("../internals/bind-context"),j=e("../internals/indexed-object"),C=e("../internals/to-object"),A=e("../internals/to-length"),E=e("../internals/array-species-create"),P=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":39,"../internals/bind-context":40,"../internals/indexed-object":74,"../internals/to-length":139,"../internals/to-object":140}],36:[function(e,t,r){"use strict";var s=e("../internals/to-indexed-object"),a=e("../internals/to-integer"),o=e("../internals/to-length"),n=e("../internals/sloppy-array-method"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,i=n("lastIndexOf");t.exports=c||i?function(e,t){if(c)return u.apply(this,arguments)||0;var r=s(this),n=o(r.length),i=n-1;for(1<arguments.length&&(i=l(i,a(t))),i<0&&(i=n+i);0<=i;i--)if(i in r&&r[i]===e)return i||0;return-1}:u},{"../internals/sloppy-array-method":129,"../internals/to-indexed-object":137,"../internals/to-integer":138,"../internals/to-length":139}],37:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol")("species");t.exports=function(t){return!n(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},{"../internals/fails":60,"../internals/well-known-symbol":144}],38:[function(e,t,r){function n(u){return function(e,t,r,n){c(t);var i=d(e),s=p(i),a=f(i.length),o=u?a-1:0,l=u?-1:1;if(r<2)for(;;){if(o in s){n=s[o],o+=l;break}if(o+=l,u?o<0:a<=o)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=o:o<a;o+=l)o in s&&(n=t(n,s[o],o,i));return n}}var c=e("../internals/a-function"),d=e("../internals/to-object"),p=e("../internals/indexed-object"),f=e("../internals/to-length");t.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":26,"../internals/indexed-object":74,"../internals/to-length":139,"../internals/to-object":140}],39:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/is-array"),s=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[s])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},{"../internals/is-array":79,"../internals/is-object":81,"../internals/well-known-symbol":144}],40:[function(e,t,r){var s=e("../internals/a-function");t.exports=function(n,i,e){if(s(n),void 0===i)return n;switch(e){case 0:return function(){return n.call(i)};case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},{"../internals/a-function":26}],41:[function(e,t,r){var s=e("../internals/an-object");t.exports=function(t,e,r,n){try{return n?e(s(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&s(i.call(t)),e}}},{"../internals/an-object":31}],42:[function(e,t,r){var i=e("../internals/well-known-symbol")("iterator"),s=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){s=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},{"../internals/well-known-symbol":144}],43:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],44:[function(e,t,r){var i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:a?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},{"../internals/classof-raw":43,"../internals/well-known-symbol":144}],45:[function(e,t,r){var o=e("../internals/has"),l=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");t.exports=function(e,t){for(var r=l(t),n=c.f,i=u.f,s=0;s<r.length;s++){var a=r[s];o(e,a)||n(e,a,i(t,a))}}},{"../internals/has":69,"../internals/object-define-property":97,"../internals/object-get-own-property-descriptor":98,"../internals/own-keys":109}],46:[function(e,t,r){var n=e("../internals/well-known-symbol")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(e){}}return!1}},{"../internals/well-known-symbol":144}],47:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":60}],48:[function(e,t,r){"use strict";function i(){return this}var s=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),u=e("../internals/iterators");t.exports=function(e,t,r){var n=t+" Iterator";return e.prototype=a(s,{next:o(1,r)}),l(e,n,!1,!0),u[n]=i,e}},{"../internals/create-property-descriptor":50,"../internals/iterators":86,"../internals/iterators-core":85,"../internals/object-create":95,"../internals/set-to-string-tag":125}],49:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return i.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},{"../internals/create-property-descriptor":50,"../internals/descriptors":55,"../internals/object-define-property":97}],50:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],51:[function(e,t,r){"use strict";var i=e("../internals/to-primitive"),s=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=function(e,t,r){var n=i(t);n in e?s.f(e,n,a(0,r)):e[n]=r}},{"../internals/create-property-descriptor":50,"../internals/object-define-property":97,"../internals/to-primitive":141}],52:[function(e,t,r){"use strict";var n=e("../internals/fails"),i=e("../internals/string-pad").start,s=Math.abs,a=Date.prototype,o=a.getTime,l=a.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-5e13-1))})||!n(function(){l.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+i(s(t),n?6:4,0)+"-"+i(e.getUTCMonth()+1,2,0)+"-"+i(e.getUTCDate(),2,0)+"T"+i(e.getUTCHours(),2,0)+":"+i(e.getUTCMinutes(),2,0)+":"+i(e.getUTCSeconds(),2,0)+"."+i(r,3,0)+"Z"}:l},{"../internals/fails":60,"../internals/string-pad":132}],53:[function(e,t,r){"use strict";function v(){return this}var y=e("../internals/export"),g=e("../internals/create-iterator-constructor"),_=e("../internals/object-get-prototype-of"),j=e("../internals/object-set-prototype-of"),C=e("../internals/set-to-string-tag"),A=e("../internals/create-non-enumerable-property"),E=e("../internals/redefine"),n=e("../internals/well-known-symbol"),P=e("../internals/is-pure"),w=e("../internals/iterators"),i=e("../internals/iterators-core"),S=i.IteratorPrototype,T=i.BUGGY_SAFARI_ITERATORS,k=n("iterator"),R="values",D="entries";t.exports=function(e,t,r,n,i,s,a){g(r,t,n);function o(e){if(e===i&&m)return m;if(!T&&e in f)return f[e];switch(e){case"keys":case R:case D:return function(){return new r(this,e)}}return function(){return new r(this)}}var l,u,c,d=t+" Iterator",p=!1,f=e.prototype,h=f[k]||f["@@iterator"]||i&&f[i],m=!T&&h||o(i),b="Array"==t&&f.entries||h;if(b&&(l=_(b.call(new e)),S!==Object.prototype&&l.next&&(P||_(l)===S||(j?j(l,S):"function"!=typeof l[k]&&A(l,k,v)),C(l,d,!0,!0),P&&(w[d]=v))),i==R&&h&&h.name!==R&&(p=!0,m=function(){return h.call(this)}),P&&!a||f[k]===m||A(f,k,m),w[t]=m,i)if(u={values:o(R),keys:s?m:o("keys"),entries:o(D)},a)for(c in u)!T&&!p&&c in f||E(f,c,u[c]);else y({target:t,proto:!0,forced:T||p},u);return u}},{"../internals/create-iterator-constructor":48,"../internals/create-non-enumerable-property":49,"../internals/export":59,"../internals/is-pure":82,"../internals/iterators":86,"../internals/iterators-core":85,"../internals/object-get-prototype-of":102,"../internals/object-set-prototype-of":106,"../internals/redefine":117,"../internals/set-to-string-tag":125,"../internals/well-known-symbol":144}],54:[function(e,t,r){var n=e("../internals/path"),i=e("../internals/has"),s=e("../internals/wrapped-well-known-symbol"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:s.f(e)})}},{"../internals/has":69,"../internals/object-define-property":97,"../internals/path":112,"../internals/wrapped-well-known-symbol":146}],55:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":60}],56:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/is-object"),s=n.document,a=i(s)&&i(s.createElement);t.exports=function(e){return a?s.createElement(e):{}}},{"../internals/global":68,"../internals/is-object":81}],57:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],58:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],59:[function(e,t,r){var c=e("../internals/global"),d=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/create-non-enumerable-property"),f=e("../internals/redefine"),h=e("../internals/set-global"),m=e("../internals/copy-constructor-properties"),b=e("../internals/is-forced");t.exports=function(e,t){var r,n,i,s,a,o=e.target,l=e.global,u=e.stat;if(r=l?c:u?c[o]||h(o,{}):(c[o]||{}).prototype)for(n in t){if(s=t[n],i=e.noTargetGet?(a=d(r,n))&&a.value:r[n],!b(l?n:o+(u?".":"#")+n,e.forced)&&void 0!==i){if(typeof s==typeof i)continue;m(s,i)}(e.sham||i&&i.sham)&&p(s,"sham",!0),f(r,n,s,e)}}},{"../internals/copy-constructor-properties":45,"../internals/create-non-enumerable-property":49,"../internals/global":68,"../internals/is-forced":80,"../internals/object-get-own-property-descriptor":98,"../internals/redefine":117,"../internals/set-global":123}],60:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],61:[function(e,t,r){"use strict";var d=e("../internals/create-non-enumerable-property"),p=e("../internals/redefine"),f=e("../internals/fails"),h=e("../internals/well-known-symbol"),m=e("../internals/regexp-exec"),b=h("species"),v=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=!f(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]});t.exports=function(r,e,t,n){var i=h(r),s=!f(function(){var e={};return e[i]=function(){return 7},7!=""[r](e)}),a=s&&!f(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===r&&(t.constructor={},t.constructor[b]=function(){return t}),t[i](""),!e});if(!s||!a||"replace"===r&&!v||"split"===r&&!y){var o=/./[i],l=t(i,""[r],function(e,t,r,n,i){return t.exec===m?s&&!i?{done:!0,value:o.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),u=l[0],c=l[1];p(String.prototype,r,u),p(RegExp.prototype,i,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)}),n&&d(RegExp.prototype[i],"sham",!0)}}},{"../internals/create-non-enumerable-property":49,"../internals/fails":60,"../internals/redefine":117,"../internals/regexp-exec":119,"../internals/well-known-symbol":144}],62:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/whitespaces");t.exports=function(e){return n(function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e})}},{"../internals/fails":60,"../internals/whitespaces":145}],63:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":60}],64:[function(e,t,r){var n=e("../internals/shared");t.exports=n("native-function-to-string",Function.toString)},{"../internals/shared":128}],65:[function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=e("../internals/path"),s=e("../internals/global");t.exports=function(e,t){return arguments.length<2?n(i[e])||n(s[e]):i[e]&&i[e][t]||s[e]&&s[e][t]}},{"../internals/global":68,"../internals/path":112}],66:[function(e,t,r){var n=e("../internals/classof"),i=e("../internals/iterators"),s=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[n(e)]}},{"../internals/classof":44,"../internals/iterators":86,"../internals/well-known-symbol":144}],67:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/get-iterator-method");t.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},{"../internals/an-object":31,"../internals/get-iterator-method":66}],68:[function(e,r,t){(function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],70:[function(e,t,r){t.exports={}},{}],71:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},{"../internals/global":68}],72:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("document","documentElement")},{"../internals/get-built-in":65}],73:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/document-create-element");t.exports=!n&&!i(function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":55,"../internals/document-create-element":56,"../internals/fails":60}],74:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/classof-raw"),s="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},{"../internals/classof-raw":43,"../internals/fails":60}],75:[function(e,t,r){var s=e("../internals/is-object"),a=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){var n,i;return a&&"function"==typeof(n=t.constructor)&&n!==r&&s(i=n.prototype)&&i!==r.prototype&&a(e,i),e}},{"../internals/is-object":81,"../internals/object-set-prototype-of":106}],76:[function(e,t,r){function n(e){o(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})}var i=e("../internals/hidden-keys"),s=e("../internals/is-object"),a=e("../internals/has"),o=e("../internals/object-define-property").f,l=e("../internals/uid"),u=e("../internals/freezing"),c=l("meta"),d=0,p=Object.isExtensible||function(){return!0},f=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!p(e))return"F";if(!t)return"E";n(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!p(e))return!0;if(!t)return!1;n(e)}return e[c].weakData},onFreeze:function(e){return u&&f.REQUIRED&&p(e)&&!a(e,c)&&n(e),e}};i[c]=!0},{"../internals/freezing":63,"../internals/has":69,"../internals/hidden-keys":70,"../internals/is-object":81,"../internals/object-define-property":97,"../internals/uid":142}],77:[function(e,t,r){var n,i,s,a=e("../internals/native-weak-map"),o=e("../internals/global"),l=e("../internals/is-object"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),d=e("../internals/shared-key"),p=e("../internals/hidden-keys"),f=o.WeakMap;if(a){var h=new f,m=h.get,b=h.has,v=h.set;n=function(e,t){return v.call(h,e,t),t},i=function(e){return m.call(h,e)||{}},s=function(e){return b.call(h,e)}}else{var y=d("state");p[y]=!0,n=function(e,t){return u(e,y,t),t},i=function(e){return c(e,y)?e[y]:{}},s=function(e){return c(e,y)}}t.exports={set:n,get:i,has:s,enforce:function(e){return s(e)?i(e):n(e,{})},getterFor:function(r){return function(e){var t;if(!l(e)||(t=i(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},{"../internals/create-non-enumerable-property":49,"../internals/global":68,"../internals/has":69,"../internals/hidden-keys":70,"../internals/is-object":81,"../internals/native-weak-map":91,"../internals/shared-key":126}],78:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/iterators"),s=n("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},{"../internals/iterators":86,"../internals/well-known-symbol":144}],79:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"../internals/classof-raw":43}],80:[function(e,t,r){function n(e,t){var r=o[a(e)];return r==u||r!=l&&("function"==typeof t?i(t):!!t)}var i=e("../internals/fails"),s=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(s,".").toLowerCase()},o=n.data={},l=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},{"../internals/fails":60}],81:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],82:[function(e,t,r){t.exports=!1},{}],83:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":43,"../internals/is-object":81,"../internals/well-known-symbol":144}],84:[function(e,t,r){function f(e,t){this.stopped=e,this.result=t}var h=e("../internals/an-object"),m=e("../internals/is-array-iterator-method"),b=e("../internals/to-length"),v=e("../internals/bind-context"),y=e("../internals/get-iterator-method"),g=e("../internals/call-with-safe-iteration-closing");(t.exports=function(e,t,r,n,i){var s,a,o,l,u,c,d,p=v(t,r,n?2:1);if(i)s=e;else{if("function"!=typeof(a=y(e)))throw TypeError("Target is not iterable");if(m(a)){for(o=0,l=b(e.length);o<l;o++)if((u=n?p(h(d=e[o])[0],d[1]):p(e[o]))&&u instanceof f)return u;return new f(!1)}s=a.call(e)}for(c=s.next;!(d=c.call(s)).done;)if("object"==typeof(u=g(s,p,d.value,n))&&u&&u instanceof f)return u;return new f(!1)}).stop=function(e){return new f(!0,e)}},{"../internals/an-object":31,"../internals/bind-context":40,"../internals/call-with-safe-iteration-closing":41,"../internals/get-iterator-method":66,"../internals/is-array-iterator-method":78,"../internals/to-length":139}],85:[function(e,t,r){"use strict";var n,i,s,a=e("../internals/object-get-prototype-of"),o=e("../internals/create-non-enumerable-property"),l=e("../internals/has"),u=e("../internals/well-known-symbol"),c=e("../internals/is-pure"),d=u("iterator"),p=!1;[].keys&&("next"in(s=[].keys())?(i=a(a(s)))!==Object.prototype&&(n=i):p=!0),null==n&&(n={}),c||l(n,d)||o(n,d,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},{"../internals/create-non-enumerable-property":49,"../internals/has":69,"../internals/is-pure":82,"../internals/object-get-prototype-of":102,"../internals/well-known-symbol":144}],86:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],87:[function(e,t,r){var n,i,s,a,o,l,u,c,d=e("../internals/global"),p=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/classof-raw"),h=e("../internals/task").set,m=e("../internals/user-agent"),b=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,g="process"==f(v),_=p(d,"queueMicrotask"),j=_&&_.value;j||(n=function(){var e,t;for(g&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():s=void 0,e}}s=void 0,e&&e.enter()},a=g?function(){v.nextTick(n)}:b&&!/(iphone|ipod|ipad).*applewebkit/i.test(m)?(o=!0,l=document.createTextNode(""),new b(n).observe(l,{characterData:!0}),function(){l.data=o=!o}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,function(){c.call(u,n)}):function(){h.call(d,n)}),t.exports=j||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,a()),s=t}},{"../internals/classof-raw":43,"../internals/global":68,"../internals/object-get-own-property-descriptor":98,"../internals/task":135,"../internals/user-agent":143}],88:[function(e,t,r){var n=e("../internals/global");t.exports=n.Promise},{"../internals/global":68}],89:[function(e,t,r){var n=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},{"../internals/fails":60}],90:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),a=i("iterator");t.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),r=e.searchParams,n="";return e.pathname="c%20d",r.forEach(function(e,t){r.delete("b"),n+=t+e}),s&&!e.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":60,"../internals/is-pure":82,"../internals/well-known-symbol":144}],91:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/function-to-string"),s=n.WeakMap;t.exports="function"==typeof s&&/native code/.test(i.call(s))},{"../internals/function-to-string":64,"../internals/global":68}],92:[function(e,t,r){"use strict";function n(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=i(r),this.reject=i(n)}var i=e("../internals/a-function");t.exports.f=function(e){return new n(e)}},{"../internals/a-function":26}],93:[function(e,t,r){var n=e("../internals/is-regexp");t.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":83}],94:[function(e,t,r){"use strict";var p=e("../internals/descriptors"),n=e("../internals/fails"),f=e("../internals/object-keys"),h=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),b=e("../internals/to-object"),v=e("../internals/indexed-object"),i=Object.assign;t.exports=!i||n(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=i({},e)[r]||f(i({},t)).join("")!=n})?function(e,t){for(var r=b(e),n=arguments.length,i=1,s=h.f,a=m.f;i<n;)for(var o,l=v(arguments[i++]),u=s?f(l).concat(s(l)):f(l),c=u.length,d=0;d<c;)o=u[d++],p&&!a.call(l,o)||(r[o]=l[o]);return r}:i},{"../internals/descriptors":55,"../internals/fails":60,"../internals/indexed-object":74,"../internals/object-get-own-property-symbols":101,"../internals/object-keys":104,"../internals/object-property-is-enumerable":105,"../internals/to-object":140}],95:[function(e,t,r){function n(){}var i=e("../internals/an-object"),s=e("../internals/object-define-properties"),a=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),l=e("../internals/html"),u=e("../internals/document-create-element"),c=e("../internals/shared-key")("IE_PROTO"),d="prototype",p=function(){var e,t=u("iframe"),r=a.length,n="script";for(t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object</"+n+">"),e.close(),p=e.F;r--;)delete p[d][a[r]];return p()};t.exports=Object.create||function(e,t){var r;return null!==e?(n[d]=i(e),r=new n,n[d]=null,r[c]=e):r=p(),void 0===t?r:s(r,t)},o[c]=!0},{"../internals/an-object":31,"../internals/document-create-element":56,"../internals/enum-bug-keys":58,"../internals/hidden-keys":70,"../internals/html":72,"../internals/object-define-properties":96,"../internals/shared-key":126}],96:[function(e,t,r){var n=e("../internals/descriptors"),a=e("../internals/object-define-property"),o=e("../internals/an-object"),l=e("../internals/object-keys");t.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=l(t),i=n.length,s=0;s<i;)a.f(e,r=n[s++],t[r]);return e}},{"../internals/an-object":31,"../internals/descriptors":55,"../internals/object-define-property":97,"../internals/object-keys":104}],97:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),s=e("../internals/an-object"),a=e("../internals/to-primitive"),o=Object.defineProperty;r.f=n?o:function(e,t,r){if(s(e),t=a(t,!0),s(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},{"../internals/an-object":31,"../internals/descriptors":55,"../internals/ie8-dom-define":73,"../internals/to-primitive":141}],98:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),o=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=n?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return s(!i.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":50,"../internals/descriptors":55,"../internals/has":69,"../internals/ie8-dom-define":73,"../internals/object-property-is-enumerable":105,"../internals/to-indexed-object":137,"../internals/to-primitive":141}],99:[function(e,t,r){var n=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},{"../internals/object-get-own-property-names":100,"../internals/to-indexed-object":137}],100:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"../internals/enum-bug-keys":58,"../internals/object-keys-internal":103}],101:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],102:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-object"),s=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),o=s("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},{"../internals/correct-prototype-getter":47,"../internals/has":69,"../internals/shared-key":126,"../internals/to-object":140}],103:[function(e,t,r){var a=e("../internals/has"),o=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys");t.exports=function(e,t){var r,n=o(e),i=0,s=[];for(r in n)!a(u,r)&&a(n,r)&&s.push(r);for(;t.length>i;)a(n,r=t[i++])&&(~l(s,r)||s.push(r));return s}},{"../internals/array-includes":34,"../internals/has":69,"../internals/hidden-keys":70,"../internals/to-indexed-object":137}],104:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"../internals/enum-bug-keys":58,"../internals/object-keys-internal":103}],105:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);r.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},{}],106:[function(e,t,r){var i=e("../internals/an-object"),s=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(e){}return function(e,t){return i(e),s(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},{"../internals/a-possible-prototype":27,"../internals/an-object":31}],107:[function(e,t,r){function n(o){return function(e){for(var t,r=c(e),n=u(r),i=n.length,s=0,a=[];s<i;)t=n[s++],l&&!d.call(r,t)||a.push(o?[t,r[t]]:r[t]);return a}}var l=e("../internals/descriptors"),u=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),d=e("../internals/object-property-is-enumerable").f;t.exports={entries:n(!0),values:n(!1)}},{"../internals/descriptors":55,"../internals/object-keys":104,"../internals/object-property-is-enumerable":105,"../internals/to-indexed-object":137}],108:[function(e,t,r){"use strict";var n=e("../internals/classof"),i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+n(this)+"]"}:i.toString},{"../internals/classof":44,"../internals/well-known-symbol":144}],109:[function(e,t,r){var n=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?t.concat(r(e)):t}},{"../internals/an-object":31,"../internals/get-built-in":65,"../internals/object-get-own-property-names":100,"../internals/object-get-own-property-symbols":101}],110:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/string-trim").trim,s=e("../internals/whitespaces"),a=n.parseFloat,o=1/a(s+"-0")!=-1/0;t.exports=o?function(e){var t=i(String(e)),r=a(t);return 0===r&&"-"==t.charAt(0)?-0:r}:a},{"../internals/global":68,"../internals/string-trim":134,"../internals/whitespaces":145}],111:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/string-trim").trim,s=e("../internals/whitespaces"),a=n.parseInt,o=/^[+-]?0[Xx]/,l=8!==a(s+"08")||22!==a(s+"0x16");t.exports=l?function(e,t){var r=i(String(e));return a(r,t>>>0||(o.test(r)?16:10))}:a},{"../internals/global":68,"../internals/string-trim":134,"../internals/whitespaces":145}],112:[function(e,t,r){t.exports=e("../internals/global")},{"../internals/global":68}],113:[function(e,t,r){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],114:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/is-object"),s=e("../internals/new-promise-capability");t.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},{"../internals/an-object":31,"../internals/is-object":81,"../internals/new-promise-capability":92}],115:[function(e,t,r){"use strict";function v(e){return e+22+75*(e<26)}function y(e,t,r){var n=0;for(e=r?j(e/700):e>>1,e+=j(e/t);455<e;n+=36)e=j(e/35);return j(n+36*e/(e+38))}function s(e){var t,r,n=[],i=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(55296<=i&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}(e)).length,s=128,a=0,o=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(C(r));var l=n.length,u=l;for(l&&n.push("-");u<i;){var c=g;for(t=0;t<e.length;t++)s<=(r=e[t])&&r<c&&(c=r);var d=u+1;if(c-s>j((g-a)/d))throw RangeError(_);for(a+=(c-s)*d,s=c,t=0;t<e.length;t++){if((r=e[t])<s&&++a>g)throw RangeError(_);if(r==s){for(var p=a,f=36;;f+=36){var h=f<=o?1:o+26<=f?26:f-o;if(p<h)break;var m=p-h,b=36-h;n.push(C(v(h+m%b))),p=j(m/b)}n.push(C(v(p))),o=y(a,d,u==l),a=0,++u}}++a,++s}return n.join("")}var g=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,_="Overflow: input needs wider integers to process",j=Math.floor,C=String.fromCharCode;t.exports=function(e){var t,r,n=[],i=e.toLowerCase().replace(o,".").split(".");for(t=0;t<i.length;t++)r=i[t],n.push(a.test(r)?"xn--"+s(r):r);return n.join(".")}},{}],116:[function(e,t,r){var i=e("../internals/redefine");t.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},{"../internals/redefine":117}],117:[function(e,t,r){var o=e("../internals/global"),n=e("../internals/shared"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),c=e("../internals/set-global"),i=e("../internals/function-to-string"),s=e("../internals/internal-state"),a=s.get,d=s.enforce,p=String(i).split("toString");n("inspectSource",function(e){return i.call(e)}),(t.exports=function(e,t,r,n){var i=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||u(r,"name")||l(r,"name",t),d(r).source=p.join("string"==typeof t?t:"")),e!==o?(i?!a&&e[t]&&(s=!0):delete e[t],s?e[t]=r:l(e,t,r)):s?e[t]=r:c(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&a(this).source||i.call(this)})},{"../internals/create-non-enumerable-property":49,"../internals/function-to-string":64,"../internals/global":68,"../internals/has":69,"../internals/internal-state":77,"../internals/set-global":123,"../internals/shared":128}],118:[function(e,t,r){var i=e("./classof-raw"),s=e("./regexp-exec");t.exports=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},{"./classof-raw":43,"./regexp-exec":119}],119:[function(e,t,r){"use strict";var n,i,a=e("./regexp-flags"),o=RegExp.prototype.exec,l=String.prototype.replace,s=o,u=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(s=function(e){var t,r,n,i,s=this;return c&&(r=new RegExp("^"+s.source+"$(?!\\s)",a.call(s))),u&&(t=s.lastIndex),n=o.call(s,e),u&&n&&(s.lastIndex=s.global?n.index+n[0].length:t),c&&n&&1<n.length&&l.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),t.exports=s},{"./regexp-flags":120}],120:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":31}],121:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],122:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],123:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},{"../internals/create-non-enumerable-property":49,"../internals/global":68}],124:[function(e,t,r){"use strict";var n=e("../internals/get-built-in"),i=e("../internals/object-define-property"),s=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),o=s("species");t.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[o]&&r(t,o,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":55,"../internals/get-built-in":65,"../internals/object-define-property":97,"../internals/well-known-symbol":144}],125:[function(e,t,r){var n=e("../internals/object-define-property").f,i=e("../internals/has"),s=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"../internals/has":69,"../internals/object-define-property":97,"../internals/well-known-symbol":144}],126:[function(e,t,r){var n=e("../internals/shared"),i=e("../internals/uid"),s=n("keys");t.exports=function(e){return s[e]||(s[e]=i(e))}},{"../internals/shared":128,"../internals/uid":142}],127:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/set-global"),s="__core-js_shared__",a=n[s]||i(s,{});t.exports=a},{"../internals/global":68,"../internals/set-global":123}],128:[function(e,t,r){var n=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.2",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":82,"../internals/shared-store":127}],129:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!r||!n(function(){r.call(null,t||function(){throw 1},1)})}},{"../internals/fails":60}],130:[function(e,t,r){var i=e("../internals/an-object"),s=e("../internals/a-function"),a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r,n=i(e).constructor;return void 0===n||null==(r=i(n)[a])?t:s(r)}},{"../internals/a-function":26,"../internals/an-object":31,"../internals/well-known-symbol":144}],131:[function(e,t,r){function n(o){return function(e,t){var r,n,i=String(u(e)),s=l(t),a=i.length;return s<0||a<=s?o?"":void 0:(r=i.charCodeAt(s))<55296||56319<r||s+1===a||(n=i.charCodeAt(s+1))<56320||57343<n?o?i.charAt(s):r:o?i.slice(s,s+2):n-56320+(r-55296<<10)+65536}}var l=e("../internals/to-integer"),u=e("../internals/require-object-coercible");t.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":121,"../internals/to-integer":138}],132:[function(e,t,r){function n(u){return function(e,t,r){var n,i,s=String(p(e)),a=s.length,o=void 0===r?" ":String(r),l=c(t);return l<=a||""==o?s:(n=l-a,(i=d.call(o,f(n/o.length))).length>n&&(i=i.slice(0,n)),u?s+i:i+s)}}var c=e("../internals/to-length"),d=e("../internals/string-repeat"),p=e("../internals/require-object-coercible"),f=Math.ceil;t.exports={start:n(!1),end:n(!0)}},{"../internals/require-object-coercible":121,"../internals/string-repeat":133,"../internals/to-length":139}],133:[function(e,t,r){"use strict";var i=e("../internals/to-integer"),s=e("../internals/require-object-coercible");t.exports="".repeat||function(e){var t=String(s(this)),r="",n=i(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},{"../internals/require-object-coercible":121,"../internals/to-integer":138}],134:[function(e,t,r){function n(r){return function(e){var t=String(i(e));return 1&r&&(t=t.replace(a,"")),2&r&&(t=t.replace(o,"")),t}}var i=e("../internals/require-object-coercible"),s="["+e("../internals/whitespaces")+"]",a=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":121,"../internals/whitespaces":145}],135:[function(e,t,r){function n(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}}function i(e){return function(){n(e)}}function s(e){n(e.data)}function a(e){c.postMessage(e+"",v.protocol+"//"+v.host)}var o,l,u,c=e("../internals/global"),d=e("../internals/fails"),p=e("../internals/classof-raw"),f=e("../internals/bind-context"),h=e("../internals/html"),m=e("../internals/document-create-element"),b=e("../internals/user-agent"),v=c.location,y=c.setImmediate,g=c.clearImmediate,_=c.process,j=c.MessageChannel,C=c.Dispatch,A=0,E={},P="onreadystatechange";y&&g||(y=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return E[++A]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},o(A),A},g=function(e){delete E[e]},"process"==p(_)?o=function(e){_.nextTick(i(e))}:C&&C.now?o=function(e){C.now(i(e))}:j&&!/(iphone|ipod|ipad).*applewebkit/i.test(b)?(u=(l=new j).port2,l.port1.onmessage=s,o=f(u.postMessage,u,1)):!c.addEventListener||"function"!=typeof postMessage||c.importScripts||d(a)?o=P in m("script")?function(e){h.appendChild(m("script"))[P]=function(){h.removeChild(this),n(e)}}:function(e){setTimeout(i(e),0)}:(o=a,c.addEventListener("message",s,!1))),t.exports={set:y,clear:g}},{"../internals/bind-context":40,"../internals/classof-raw":43,"../internals/document-create-element":56,"../internals/fails":60,"../internals/global":68,"../internals/html":72,"../internals/user-agent":143}],136:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.max,s=Math.min;t.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):s(r,t)}},{"../internals/to-integer":138}],137:[function(e,t,r){var n=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return n(i(e))}},{"../internals/indexed-object":74,"../internals/require-object-coercible":121}],138:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],139:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"../internals/to-integer":138}],140:[function(e,t,r){var n=e("../internals/require-object-coercible");t.exports=function(e){return Object(n(e))}},{"../internals/require-object-coercible":121}],141:[function(e,t,r){var i=e("../internals/is-object");t.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":81}],142:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},{}],143:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":65}],144:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/shared"),s=e("../internals/uid"),a=e("../internals/native-symbol"),o=n.Symbol,l=i("wks");t.exports=function(e){return l[e]||(l[e]=a&&o[e]||(a?o:s)("Symbol."+e))}},{"../internals/global":68,"../internals/native-symbol":89,"../internals/shared":128,"../internals/uid":142}],145:[function(e,t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},{}],146:[function(e,t,r){r.f=e("../internals/well-known-symbol")},{"../internals/well-known-symbol":144}],147:[function(e,t,r){"use strict";function u(e){if(!a(e))return!1;var t=e[l];return void 0!==t?!!t:s(e)}var n=e("../internals/export"),i=e("../internals/fails"),s=e("../internals/is-array"),a=e("../internals/is-object"),c=e("../internals/to-object"),d=e("../internals/to-length"),p=e("../internals/create-property"),f=e("../internals/array-species-create"),o=e("../internals/array-method-has-species-support"),l=e("../internals/well-known-symbol")("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",b=!i(function(){var e=[];return e[l]=!1,e.concat()[0]!==e}),v=o("concat");n({target:"Array",proto:!0,forced:!b||!v},{concat:function(e){var t,r,n,i,s,a=c(this),o=f(a,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(u(s=-1===t?a:arguments[t])){if(i=d(s.length),h<l+i)throw TypeError(m);for(r=0;r<i;r++,l++)r in s&&p(o,l,s[r])}else{if(h<=l)throw TypeError(m);p(o,l++,s)}return o.length=l,o}})},{"../internals/array-method-has-species-support":37,"../internals/array-species-create":39,"../internals/create-property":51,"../internals/export":59,"../internals/fails":60,"../internals/is-array":79,"../internals/is-object":81,"../internals/to-length":139,"../internals/to-object":140,"../internals/well-known-symbol":144}],148:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").filter;n({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":35,"../internals/array-method-has-species-support":37,"../internals/export":59}],149:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").find,s=e("../internals/add-to-unscopables"),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{find:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),s(a)},{"../internals/add-to-unscopables":28,"../internals/array-iteration":35,"../internals/export":59}],150:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},{"../internals/array-for-each":32,"../internals/export":59}],151:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").includes,s=e("../internals/add-to-unscopables");n({target:"Array",proto:!0},{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),s("includes")},{"../internals/add-to-unscopables":28,"../internals/array-includes":34,"../internals/export":59}],152:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").indexOf,s=e("../internals/sloppy-array-method"),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0,l=s("indexOf");n({target:"Array",proto:!0,forced:o||l},{indexOf:function(e,t){return o?a.apply(this,arguments)||0:i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-includes":34,"../internals/export":59,"../internals/sloppy-array-method":129}],153:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),s=e("../internals/iterators"),a=e("../internals/internal-state"),o=e("../internals/define-iterator"),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=o(Array,"Array",function(e,t){u(this,{type:l,target:n(e),index:0,kind:t})},function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":28,"../internals/define-iterator":53,"../internals/internal-state":77,"../internals/iterators":86,"../internals/to-indexed-object":137}],154:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/indexed-object"),s=e("../internals/to-indexed-object"),a=e("../internals/sloppy-array-method"),o=[].join,l=i!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:l||u},{join:function(e){return o.call(s(this),void 0===e?",":e)}})},{"../internals/export":59,"../internals/indexed-object":74,"../internals/sloppy-array-method":129,"../internals/to-indexed-object":137}],155:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-last-index-of");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},{"../internals/array-last-index-of":36,"../internals/export":59}],156:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").map;n({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":35,"../internals/array-method-has-species-support":37,"../internals/export":59}],157:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-reduce").left;n({target:"Array",proto:!0,forced:e("../internals/sloppy-array-method")("reduce")},{reduce:function(e,t){return i(this,e,arguments.length,1<arguments.length?t:void 0)}})},{"../internals/array-reduce":38,"../internals/export":59,"../internals/sloppy-array-method":129}],158:[function(e,t,r){"use strict";var n=e("../internals/export"),u=e("../internals/is-object"),c=e("../internals/is-array"),d=e("../internals/to-absolute-index"),p=e("../internals/to-length"),f=e("../internals/to-indexed-object"),h=e("../internals/create-property"),i=e("../internals/array-method-has-species-support"),m=e("../internals/well-known-symbol")("species"),b=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!i("slice")},{slice:function(e,t){var r,n,i,s=f(this),a=p(s.length),o=d(e,a),l=d(void 0===t?a:t,a);if(c(s)&&("function"!=typeof(r=s.constructor)||r!==Array&&!c(r.prototype)?u(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return b.call(s,o,l);for(n=new(void 0===r?Array:r)(v(l-o,0)),i=0;o<l;o++,i++)o in s&&h(n,i,s[o]);return n.length=i,n}})},{"../internals/array-method-has-species-support":37,"../internals/create-property":51,"../internals/export":59,"../internals/is-array":79,"../internals/is-object":81,"../internals/to-absolute-index":136,"../internals/to-indexed-object":137,"../internals/to-length":139,"../internals/well-known-symbol":144}],159:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").some;n({target:"Array",proto:!0,forced:e("../internals/sloppy-array-method")("some")},{some:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":35,"../internals/export":59,"../internals/sloppy-array-method":129}],160:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/a-function"),s=e("../internals/to-object"),a=e("../internals/fails"),o=e("../internals/sloppy-array-method"),l=[].sort,u=[1,2,3],c=a(function(){u.sort(void 0)}),d=a(function(){u.sort(null)}),p=o("sort");n({target:"Array",proto:!0,forced:c||!d||p},{sort:function(e){return void 0===e?l.call(s(this)):l.call(s(this),i(e))}})},{"../internals/a-function":26,"../internals/export":59,"../internals/fails":60,"../internals/sloppy-array-method":129,"../internals/to-object":140}],161:[function(e,t,r){"use strict";var n=e("../internals/export"),p=e("../internals/to-absolute-index"),f=e("../internals/to-integer"),h=e("../internals/to-length"),m=e("../internals/to-object"),b=e("../internals/array-species-create"),v=e("../internals/create-property"),i=e("../internals/array-method-has-species-support"),y=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!i("splice")},{splice:function(e,t){var r,n,i,s,a,o,l=m(this),u=h(l.length),c=p(e,u),d=arguments.length;if(0===d?r=n=0:n=1===d?(r=0,u-c):(r=d-2,g(y(f(t),0),u-c)),9007199254740991<u+r-n)throw TypeError("Maximum allowed length exceeded");for(i=b(l,n),s=0;s<n;s++)(a=c+s)in l&&v(i,s,l[a]);if(r<(i.length=n)){for(s=c;s<u-n;s++)o=s+r,(a=s+n)in l?l[o]=l[a]:delete l[o];for(s=u;u-n+r<s;s--)delete l[s-1]}else if(n<r)for(s=u-n;c<s;s--)o=s+r-1,(a=s+n-1)in l?l[o]=l[a]:delete l[o];for(s=0;s<r;s++)l[s+c]=arguments[s+2];return l.length=u-n+r,i}})},{"../internals/array-method-has-species-support":37,"../internals/array-species-create":39,"../internals/create-property":51,"../internals/export":59,"../internals/to-absolute-index":136,"../internals/to-integer":138,"../internals/to-length":139,"../internals/to-object":140}],162:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/date-to-iso-string");n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},{"../internals/date-to-iso-string":52,"../internals/export":59}],163:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/fails"),s=e("../internals/to-object"),a=e("../internals/to-primitive");n({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=s(this),r=a(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"../internals/export":59,"../internals/fails":60,"../internals/to-object":140,"../internals/to-primitive":141}],164:[function(e,t,r){var n=e("../internals/redefine"),i=Date.prototype,s="Invalid Date",a="toString",o=i[a],l=i.getTime;new Date(NaN)+""!=s&&n(i,a,function(){var e=l.call(this);return e==e?o.call(this):s})},{"../internals/redefine":117}],165:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property").f,s=Function.prototype,a=s.toString,o=/^\s*function ([^ (]*)/;!n||"name"in s||i(s,"name",{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},{"../internals/descriptors":55,"../internals/object-define-property":97}],166:[function(e,t,r){"use strict";function n(e){var t,r,n,i,s,a,o,l,u=d(e,!1);if("string"==typeof u&&2<u.length)if(43===(t=(u=v(u)).charCodeAt(0))||45===t){if(88===(r=u.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(a=(s=u.slice(2)).length,o=0;o<a;o++)if((l=s.charCodeAt(o))<48||i<l)return NaN;return parseInt(s,n)}return+u}var i=e("../internals/descriptors"),s=e("../internals/global"),a=e("../internals/is-forced"),o=e("../internals/redefine"),l=e("../internals/has"),u=e("../internals/classof-raw"),c=e("../internals/inherit-if-required"),d=e("../internals/to-primitive"),p=e("../internals/fails"),f=e("../internals/object-create"),h=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,b=e("../internals/object-define-property").f,v=e("../internals/string-trim").trim,y="Number",g=s[y],_=g.prototype,j=u(f(_))==y;if(a(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,A=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof A&&(j?p(function(){_.valueOf.call(r)}):u(r)!=y)?c(new g(n(t)),r,A):n(t)},E=i?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;E.length>P;P++)l(g,C=E[P])&&!l(A,C)&&b(A,C,m(g,C));(A.prototype=_).constructor=A,o(s,y,A)}},{"../internals/classof-raw":43,"../internals/descriptors":55,"../internals/fails":60,"../internals/global":68,"../internals/has":69,"../internals/inherit-if-required":75,"../internals/is-forced":80,"../internals/object-create":95,"../internals/object-define-property":97,"../internals/object-get-own-property-descriptor":98,"../internals/object-get-own-property-names":100,"../internals/redefine":117,"../internals/string-trim":134,"../internals/to-primitive":141}],167:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},{"../internals/export":59,"../internals/object-assign":94}],168:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/descriptors");n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:e("../internals/object-define-properties")})},{"../internals/descriptors":55,"../internals/export":59,"../internals/object-define-properties":96}],169:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/descriptors");n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:e("../internals/object-define-property").f})},{"../internals/descriptors":55,"../internals/export":59,"../internals/object-define-property":97}],170:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/object-to-array").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},{"../internals/export":59,"../internals/object-to-array":107}],171:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/freezing"),s=e("../internals/fails"),a=e("../internals/is-object"),o=e("../internals/internal-metadata").onFreeze,l=Object.freeze;n({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!i},{freeze:function(e){return l&&a(e)?l(o(e)):e}})},{"../internals/export":59,"../internals/fails":60,"../internals/freezing":63,"../internals/internal-metadata":76,"../internals/is-object":81}],172:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),s=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/descriptors"),l=i(function(){a(1)});n({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},{"../internals/descriptors":55,"../internals/export":59,"../internals/fails":60,"../internals/object-get-own-property-descriptor":98,"../internals/to-indexed-object":137}],173:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/descriptors"),l=e("../internals/own-keys"),u=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-descriptor"),d=e("../internals/create-property");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=u(e),i=c.f,s=l(n),a={},o=0;s.length>o;)void 0!==(r=i(n,t=s[o++]))&&d(a,t,r);return a}})},{"../internals/create-property":51,"../internals/descriptors":55,"../internals/export":59,"../internals/object-get-own-property-descriptor":98,"../internals/own-keys":109,"../internals/to-indexed-object":137}],174:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/to-object"),s=e("../internals/object-keys");n({target:"Object",stat:!0,forced:e("../internals/fails")(function(){s(1)})},{keys:function(e){return s(i(e))}})},{"../internals/export":59,"../internals/fails":60,"../internals/object-keys":104,"../internals/to-object":140}],175:[function(e,t,r){var n=e("../internals/redefine"),i=e("../internals/object-to-string"),s=Object.prototype;i!==s.toString&&n(s,"toString",i,{unsafe:!0})},{"../internals/object-to-string":108,"../internals/redefine":117}],176:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/parse-float");n({global:!0,forced:parseFloat!=i},{parseFloat:i})},{"../internals/export":59,"../internals/parse-float":110}],177:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/parse-int");n({global:!0,forced:parseInt!=i},{parseInt:i})},{"../internals/export":59,"../internals/parse-int":111}],178:[function(e,t,r){"use strict";function m(e){var t;return!(!j(e)||"function"!=typeof(t=e.then))&&t}function s(d,p,f){if(!p.notified){p.notified=!0;var h=p.reactions;k(function(){for(var e=p.value,t=1==p.state,r=0;h.length>r;){var n,i,s,a=h[r++],o=t?a.ok:a.fail,l=a.resolve,u=a.reject,c=a.domain;try{o?(t||(2===p.rejection&&ie(d,p),p.rejection=1),!0===o?n=e:(c&&c.enter(),n=o(e),c&&(c.exit(),s=!0)),n===a.promise?u(H("Promise-chain cycle")):(i=m(n))?i.call(n,l,u):l(n)):u(e)}catch(e){c&&!s&&c.exit(),u(e)}}p.reactions=[],p.notified=!1,f&&!p.rejection&&re(d,p)})}}function i(e,t,r){var n,i;J?((n=G.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),f.dispatchEvent(n)):n={promise:t,reason:r},(i=f["on"+e])?i(n):e===Z&&D("Unhandled promise rejection",r)}function a(t,r,n,i){return function(e){t(r,n,e,i)}}function o(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,s(e,t,!0))}var n,l,u,c,d=e("../internals/export"),p=e("../internals/is-pure"),f=e("../internals/global"),h=e("../internals/path"),b=e("../internals/native-promise-constructor"),v=e("../internals/redefine"),y=e("../internals/redefine-all"),g=e("../internals/set-to-string-tag"),_=e("../internals/set-species"),j=e("../internals/is-object"),C=e("../internals/a-function"),A=e("../internals/an-instance"),E=e("../internals/classof-raw"),P=e("../internals/iterate"),w=e("../internals/check-correctness-of-iteration"),S=e("../internals/species-constructor"),T=e("../internals/task").set,k=e("../internals/microtask"),R=e("../internals/promise-resolve"),D=e("../internals/host-report-errors"),O=e("../internals/new-promise-capability"),I=e("../internals/perform"),L=e("../internals/user-agent"),x=e("../internals/internal-state"),M=e("../internals/is-forced"),U=e("../internals/well-known-symbol")("species"),N="Promise",B=x.get,V=x.set,q=x.getterFor(N),F=b,H=f.TypeError,G=f.document,z=f.process,Y=f.fetch,W=z&&z.versions,K=W&&W.v8||"",Q=O.f,X=Q,$="process"==E(z),J=!!(G&&G.createEvent&&f.dispatchEvent),Z="unhandledrejection",ee=M(N,function(){function t(){}var e=F.resolve(1),r=(e.constructor={})[U]=function(e){e(t,t)};return!(($||"function"==typeof PromiseRejectionEvent)&&(!p||e.finally)&&e.then(t)instanceof r&&0!==K.indexOf("6.6")&&-1===L.indexOf("Chrome/66"))}),te=ee||!w(function(e){F.all(e).catch(function(){})}),re=function(r,n){T.call(f,function(){var e,t=n.value;if(ne(n)&&(e=I(function(){$?z.emit("unhandledRejection",t,r):i(Z,r,t)}),n.rejection=$||ne(n)?2:1,e.error))throw e.value})},ne=function(e){return 1!==e.rejection&&!e.parent},ie=function(e,t){T.call(f,function(){$?z.emit("rejectionHandled",e):i("rejectionhandled",e,t.value)})},se=function(r,n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(r===e)throw H("Promise can't be resolved itself");var i=m(e);i?k(function(){var t={done:!1};try{i.call(e,a(se,r,t,n),a(o,r,t,n))}catch(e){o(r,t,e,n)}}):(n.value=e,n.state=1,s(r,n,!1))}catch(e){o(r,{done:!1},e,n)}}};ee&&(F=function(e){A(this,F,N),C(e),n.call(this);var t=B(this);try{e(a(se,this,t),a(o,this,t))}catch(e){o(this,t,e)}},(n=function(e){V(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(F.prototype,{then:function(e,t){var r=q(this),n=Q(S(this,F));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=$?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&s(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new n,t=B(e);this.promise=e,this.resolve=a(se,e,t),this.reject=a(o,e,t)},O.f=Q=function(e){return e===F||e===u?new l(e):X(e)},p||"function"!=typeof b||(c=b.prototype.then,v(b.prototype,"then",function(e,t){var r=this;return new F(function(e,t){c.call(r,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return R(F,Y.apply(f,arguments))}}))),d({global:!0,wrap:!0,forced:ee},{Promise:F}),g(F,N,!1,!0),_(N),u=h[N],d({target:N,stat:!0,forced:ee},{reject:function(e){var t=Q(this);return t.reject.call(void 0,e),t.promise}}),d({target:N,stat:!0,forced:p||ee},{resolve:function(e){return R(p&&this===u?F:this,e)}}),d({target:N,stat:!0,forced:te},{all:function(e){var o=this,t=Q(o),l=t.resolve,u=t.reject,r=I(function(){var n=C(o.resolve),i=[],s=0,a=1;P(e,function(e){var t=s++,r=!1;i.push(void 0),a++,n.call(o,e).then(function(e){r||(r=!0,i[t]=e,--a||l(i))},u)}),--a||l(i)});return r.error&&u(r.value),t.promise},race:function(e){var r=this,n=Q(r),i=n.reject,t=I(function(){var t=C(r.resolve);P(e,function(e){t.call(r,e).then(n.resolve,i)})});return t.error&&i(t.value),n.promise}})},{"../internals/a-function":26,"../internals/an-instance":30,"../internals/check-correctness-of-iteration":42,"../internals/classof-raw":43,"../internals/export":59,"../internals/global":68,"../internals/host-report-errors":71,"../internals/internal-state":77,"../internals/is-forced":80,"../internals/is-object":81,"../internals/is-pure":82,"../internals/iterate":84,"../internals/microtask":87,"../internals/native-promise-constructor":88,"../internals/new-promise-capability":92,"../internals/path":112,"../internals/perform":113,"../internals/promise-resolve":114,"../internals/redefine":117,"../internals/redefine-all":116,"../internals/set-species":124,"../internals/set-to-string-tag":125,"../internals/species-constructor":130,"../internals/task":135,"../internals/user-agent":143,"../internals/well-known-symbol":144}],179:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},{"../internals/export":59,"../internals/regexp-exec":119}],180:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/regexp-flags");n&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:s})},{"../internals/descriptors":55,"../internals/object-define-property":97,"../internals/regexp-flags":120}],181:[function(e,t,r){"use strict";var n=e("../internals/redefine"),i=e("../internals/an-object"),s=e("../internals/fails"),a=e("../internals/regexp-flags"),o="toString",l=RegExp.prototype,u=l[o],c=s(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),d=u.name!=o;(c||d)&&n(RegExp.prototype,o,function(){var e=i(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in l)?a.call(e):r)},{unsafe:!0})},{"../internals/an-object":31,"../internals/fails":60,"../internals/redefine":117,"../internals/regexp-flags":120}],182:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e,t){return!!~String(s(this)).indexOf(i(e),1<arguments.length?t:void 0)}})},{"../internals/correct-is-regexp-logic":46,"../internals/export":59,"../internals/not-a-regexp":93,"../internals/require-object-coercible":121}],183:[function(e,t,r){"use strict";var i=e("../internals/string-multibyte").charAt,n=e("../internals/internal-state"),s=e("../internals/define-iterator"),a="String Iterator",o=n.set,l=n.getterFor(a);s(String,"String",function(e){o(this,{type:a,string:String(e),index:0})},function(){var e,t=l(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=i(r,n),t.index+=e.length,{value:e,done:!1})})},{"../internals/define-iterator":53,"../internals/internal-state":77,"../internals/string-multibyte":131}],184:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),d=e("../internals/an-object"),p=e("../internals/to-length"),i=e("../internals/require-object-coercible"),f=e("../internals/advance-string-index"),h=e("../internals/regexp-exec-abstract");n("match",1,function(n,u,c){return[function(e){var t=i(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,t):new RegExp(e)[n](String(t))},function(e){var t=c(u,e,this);if(t.done)return t.value;var r=d(e),n=String(this);if(!r.global)return h(r,n);for(var i,s=r.unicode,a=[],o=r.lastIndex=0;null!==(i=h(r,n));){var l=String(i[0]);""===(a[o]=l)&&(r.lastIndex=f(n,p(r.lastIndex),s)),o++}return 0===o?null:a}]})},{"../internals/advance-string-index":29,"../internals/an-object":31,"../internals/fix-regexp-well-known-symbol-logic":61,"../internals/regexp-exec-abstract":118,"../internals/require-object-coercible":121,"../internals/to-length":139}],185:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),E=e("../internals/an-object"),p=e("../internals/to-object"),P=e("../internals/to-length"),w=e("../internals/to-integer"),s=e("../internals/require-object-coercible"),S=e("../internals/advance-string-index"),T=e("../internals/regexp-exec-abstract"),k=Math.max,R=Math.min,f=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;n("replace",2,function(i,j,C){return[function(e,t){var r=s(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):j.call(String(r),e,t)},function(e,t){var r=C(j,e,this,t);if(r.done)return r.value;var n=E(e),i=String(this),s="function"==typeof t;s||(t=String(t));var a=n.global;if(a){var o=n.unicode;n.lastIndex=0}for(var l=[];;){var u=T(n,i);if(null===u)break;if(l.push(u),!a)break;""===String(u[0])&&(n.lastIndex=S(i,P(n.lastIndex),o))}for(var c,d="",p=0,f=0;f<l.length;f++){u=l[f];for(var h=String(u[0]),m=k(R(w(u.index),i.length),0),b=[],v=1;v<u.length;v++)b.push(void 0===(c=u[v])?c:String(c));var y=u.groups;if(s){var g=[h].concat(b,m,i);void 0!==y&&g.push(y);var _=String(t.apply(void 0,g))}else _=A(h,i,m,b,y,t);p<=m&&(d+=i.slice(p,m)+_,p=m+h.length)}return d+i.slice(p)}];function A(s,a,o,l,u,e){var c=o+s.length,d=l.length,t=m;return void 0!==u&&(u=p(u),t=h),j.call(e,t,function(e,t){var r;switch(t.charAt(0)){case"$":return"$";case"&":return s;case"`":return a.slice(0,o);case"'":return a.slice(c);case"<":r=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(d<n){var i=f(n/10);return 0===i?e:i<=d?void 0===l[i-1]?t.charAt(1):l[i-1]+t.charAt(1):e}r=l[n-1]}return void 0===r?"":r})}})},{"../internals/advance-string-index":29,"../internals/an-object":31,"../internals/fix-regexp-well-known-symbol-logic":61,"../internals/regexp-exec-abstract":118,"../internals/require-object-coercible":121,"../internals/to-integer":138,"../internals/to-length":139,"../internals/to-object":140}],186:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),l=e("../internals/an-object"),i=e("../internals/require-object-coercible"),u=e("../internals/same-value"),c=e("../internals/regexp-exec-abstract");n("search",1,function(n,a,o){return[function(e){var t=i(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,t):new RegExp(e)[n](String(t))},function(e){var t=o(a,e,this);if(t.done)return t.value;var r=l(e),n=String(this),i=r.lastIndex;u(i,0)||(r.lastIndex=0);var s=c(r,n);return u(r.lastIndex,i)||(r.lastIndex=i),null===s?-1:s.index}]})},{"../internals/an-object":31,"../internals/fix-regexp-well-known-symbol-logic":61,"../internals/regexp-exec-abstract":118,"../internals/require-object-coercible":121,"../internals/same-value":122}],187:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),d=e("../internals/is-regexp"),g=e("../internals/an-object"),p=e("../internals/require-object-coercible"),_=e("../internals/species-constructor"),j=e("../internals/advance-string-index"),C=e("../internals/to-length"),A=e("../internals/regexp-exec-abstract"),f=e("../internals/regexp-exec"),i=e("../internals/fails"),h=[].push,E=Math.min,P=4294967295,w=!i(function(){return!RegExp(P,"y")});n("split",2,function(i,b,v){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var r=String(p(this)),n=void 0===t?P:t>>>0;if(0==n)return[];if(void 0===e)return[r];if(!d(e))return b.call(r,e,n);for(var i,s,a,o=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g");(i=f.call(c,r))&&!(u<(s=c.lastIndex)&&(o.push(r.slice(u,i.index)),1<i.length&&i.index<r.length&&h.apply(o,i.slice(1)),a=i[0].length,u=s,o.length>=n));)c.lastIndex===i.index&&c.lastIndex++;return u===r.length?!a&&c.test("")||o.push(""):o.push(r.slice(u)),o.length>n?o.slice(0,n):o}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:b.call(this,e,t)}:b,[function(e,t){var r=p(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):y.call(String(r),e,t)},function(e,t){var r=v(y,e,this,t,y!==b);if(r.done)return r.value;var n=g(e),i=String(this),s=_(n,RegExp),a=n.unicode,o=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(w?"y":"g"),l=new s(w?n:"^(?:"+n.source+")",o),u=void 0===t?P:t>>>0;if(0==u)return[];if(0===i.length)return null===A(l,i)?[i]:[];for(var c=0,d=0,p=[];d<i.length;){l.lastIndex=w?d:0;var f,h=A(l,w?i:i.slice(d));if(null===h||(f=E(C(l.lastIndex+(w?0:d)),i.length))===c)d=j(i,d,a);else{if(p.push(i.slice(c,d)),p.length===u)return p;for(var m=1;m<=h.length-1;m++)if(p.push(h[m]),p.length===u)return p;d=c=f}}return p.push(i.slice(c)),p}]},!w)},{"../internals/advance-string-index":29,"../internals/an-object":31,"../internals/fails":60,"../internals/fix-regexp-well-known-symbol-logic":61,"../internals/is-regexp":83,"../internals/regexp-exec":119,"../internals/regexp-exec-abstract":118,"../internals/require-object-coercible":121,"../internals/species-constructor":130,"../internals/to-length":139}],188:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/to-length"),a=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),i=e("../internals/correct-is-regexp-logic"),l="".startsWith,u=Math.min;n({target:"String",proto:!0,forced:!i("startsWith")},{startsWith:function(e,t){var r=String(o(this));a(e);var n=s(u(1<arguments.length?t:void 0,r.length)),i=String(e);return l?l.call(r,i,n):r.slice(n,n+i.length)===i}})},{"../internals/correct-is-regexp-logic":46,"../internals/export":59,"../internals/not-a-regexp":93,"../internals/require-object-coercible":121,"../internals/to-length":139}],189:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/string-trim").trim;n({target:"String",proto:!0,forced:e("../internals/forced-string-trim-method")("trim")},{trim:function(){return i(this)}})},{"../internals/export":59,"../internals/forced-string-trim-method":62,"../internals/string-trim":134}],190:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/descriptors"),s=e("../internals/global"),a=e("../internals/has"),o=e("../internals/is-object"),l=e("../internals/object-define-property").f,u=e("../internals/copy-constructor-properties"),c=s.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},p=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),r=this instanceof p?new c(t):void 0===t?c():c(t);return""===t&&(d[r]=!0),r};u(p,c);var f=p.prototype=c.prototype;f.constructor=p;var h=f.toString,m="Symbol(test)"==String(c("test")),b=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=h.call(e);if(a(d,e))return"";var r=m?t.slice(7,-1):t.replace(b,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},{"../internals/copy-constructor-properties":45,"../internals/descriptors":55,"../internals/export":59,"../internals/global":68,"../internals/has":69,"../internals/is-object":81,"../internals/object-define-property":97}],191:[function(e,t,r){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":54}],192:[function(e,t,r){"use strict";function i(e,t){var r=te[e]=j(K[H]);return z(r,{type:F,tag:e,description:t}),c||(r.description=t),r}function n(t,e){b(t);var r=y(e),n=C(r).concat(pe(r));return V(n,function(e){c&&!de.call(r,e)||ce(t,e,r[e])}),t}function s(e,t){var r=y(e),n=g(t,!0);if(r!==W||!f(te,n)||f(re,n)){var i=$(r,n);return!i||!f(te,n)||f(r,q)&&r[q][n]||(i.enumerable=!0),i}}function a(e){var t=Z(y(e)),r=[];return V(t,function(e){f(te,e)||f(I,e)||r.push(e)}),r}var o=e("../internals/export"),l=e("../internals/global"),u=e("../internals/is-pure"),c=e("../internals/descriptors"),d=e("../internals/native-symbol"),p=e("../internals/fails"),f=e("../internals/has"),h=e("../internals/is-array"),m=e("../internals/is-object"),b=e("../internals/an-object"),v=e("../internals/to-object"),y=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),_=e("../internals/create-property-descriptor"),j=e("../internals/object-create"),C=e("../internals/object-keys"),A=e("../internals/object-get-own-property-names"),E=e("../internals/object-get-own-property-names-external"),P=e("../internals/object-get-own-property-symbols"),w=e("../internals/object-get-own-property-descriptor"),S=e("../internals/object-define-property"),T=e("../internals/object-property-is-enumerable"),k=e("../internals/create-non-enumerable-property"),R=e("../internals/redefine"),D=e("../internals/shared"),O=e("../internals/shared-key"),I=e("../internals/hidden-keys"),L=e("../internals/uid"),x=e("../internals/well-known-symbol"),M=e("../internals/wrapped-well-known-symbol"),U=e("../internals/define-well-known-symbol"),N=e("../internals/set-to-string-tag"),B=e("../internals/internal-state"),V=e("../internals/array-iteration").forEach,q=O("hidden"),F="Symbol",H="prototype",G=x("toPrimitive"),z=B.set,Y=B.getterFor(F),W=Object[H],K=l.Symbol,Q=l.JSON,X=Q&&Q.stringify,$=w.f,J=S.f,Z=E.f,ee=T.f,te=D("symbols"),re=D("op-symbols"),ne=D("string-to-symbol-registry"),ie=D("symbol-to-string-registry"),se=D("wks"),ae=l.QObject,oe=!ae||!ae[H]||!ae[H].findChild,le=c&&p(function(){return 7!=j(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=$(W,t);n&&delete W[t],J(e,t,r),n&&e!==W&&J(W,t,n)}:J,ue=d&&"symbol"==typeof K.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,r){e===W&&ce(re,t,r),b(e);var n=g(t,!0);return b(r),f(te,n)?(r.enumerable?(f(e,q)&&e[q][n]&&(e[q][n]=!1),r=j(r,{enumerable:_(0,!1)})):(f(e,q)||J(e,q,_(1,{})),e[q][n]=!0),le(e,n,r)):J(e,n,r)},de=function(e){var t=g(e,!0),r=ee.call(this,t);return!(this===W&&f(te,t)&&!f(re,t))&&(!(r||!f(this,t)||!f(te,t)||f(this,q)&&this[q][t])||r)},pe=function(e){var t=e===W,r=Z(t?re:y(e)),n=[];return V(r,function(e){!f(te,e)||t&&!f(W,e)||n.push(te[e])}),n};d||(R((K=function(e){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?String(e):void 0,r=L(t),n=function(e){this===W&&n.call(re,e),f(this,q)&&f(this[q],r)&&(this[q][r]=!1),le(this,r,_(1,e))};return c&&oe&&le(W,r,{configurable:!0,set:n}),i(r,t)})[H],"toString",function(){return Y(this).tag}),T.f=de,S.f=ce,w.f=s,A.f=E.f=a,P.f=pe,c&&(J(K[H],"description",{configurable:!0,get:function(){return Y(this).description}}),u||R(W,"propertyIsEnumerable",de,{unsafe:!0})),M.f=function(e){return i(x(e),e)}),o({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),V(C(se),function(e){U(e)}),o({target:F,stat:!0,forced:!d},{for:function(e){var t=String(e);if(f(ne,t))return ne[t];var r=K(t);return ne[t]=r,ie[r]=t,r},keyFor:function(e){if(!ue(e))throw TypeError(e+" is not a symbol");if(f(ie,e))return ie[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),o({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(e,t){return void 0===t?j(e):n(j(e),t)},defineProperty:ce,defineProperties:n,getOwnPropertyDescriptor:s}),o({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:a,getOwnPropertySymbols:pe}),o({target:"Object",stat:!0,forced:p(function(){P.f(1)})},{getOwnPropertySymbols:function(e){return P.f(v(e))}}),Q&&o({target:"JSON",stat:!0,forced:!d||p(function(){var e=K();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))})},{stringify:function(e){for(var t,r,n=[e],i=1;i<arguments.length;)n.push(arguments[i++]);if(r=t=n[1],(m(t)||void 0!==e)&&!ue(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ue(t))return t}),n[1]=t,X.apply(Q,n)}}),K[H][G]||k(K[H],G,K[H].valueOf),N(K,F),I[q]=!0},{"../internals/an-object":31,"../internals/array-iteration":35,"../internals/create-non-enumerable-property":49,"../internals/create-property-descriptor":50,"../internals/define-well-known-symbol":54,"../internals/descriptors":55,"../internals/export":59,"../internals/fails":60,"../internals/global":68,"../internals/has":69,"../internals/hidden-keys":70,"../internals/internal-state":77,"../internals/is-array":79,"../internals/is-object":81,"../internals/is-pure":82,"../internals/native-symbol":89,"../internals/object-create":95,"../internals/object-define-property":97,"../internals/object-get-own-property-descriptor":98,"../internals/object-get-own-property-names":100,"../internals/object-get-own-property-names-external":99,"../internals/object-get-own-property-symbols":101,"../internals/object-keys":104,"../internals/object-property-is-enumerable":105,"../internals/redefine":117,"../internals/set-to-string-tag":125,"../internals/shared":128,"../internals/shared-key":126,"../internals/to-indexed-object":137,"../internals/to-object":140,"../internals/to-primitive":141,"../internals/uid":142,"../internals/well-known-symbol":144,"../internals/wrapped-well-known-symbol":146}],193:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/dom-iterables"),s=e("../internals/array-for-each"),a=e("../internals/create-non-enumerable-property");for(var o in i){var l=n[o],u=l&&l.prototype;if(u&&u.forEach!==s)try{a(u,"forEach",s)}catch(e){u.forEach=s}}},{"../internals/array-for-each":32,"../internals/create-non-enumerable-property":49,"../internals/dom-iterables":57,"../internals/global":68}],194:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/dom-iterables"),s=e("../modules/es.array.iterator"),a=e("../internals/create-non-enumerable-property"),o=e("../internals/well-known-symbol"),l=o("iterator"),u=o("toStringTag"),c=s.values;for(var d in i){var p=n[d],f=p&&p.prototype;if(f){if(f[l]!==c)try{a(f,l,c)}catch(e){f[l]=c}if(f[u]||a(f,u,d),i[d])for(var h in s)if(f[h]!==s[h])try{a(f,h,s[h])}catch(e){f[h]=s[h]}}}},{"../internals/create-non-enumerable-property":49,"../internals/dom-iterables":57,"../internals/global":68,"../internals/well-known-symbol":144,"../modules/es.array.iterator":153}],195:[function(e,t,r){"use strict";e("../modules/es.array.iterator");function i(t){try{return decodeURIComponent(t)}catch(e){return t}}function a(e){var t,r=e.replace(R," "),n=4;try{return decodeURIComponent(r)}catch(e){for(;n;)r=r.replace((t=n--,D[t-1]||(D[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),i);return r}}function n(e){return I[e]}function s(e){return encodeURIComponent(e).replace(O,n)}function p(e,t){if(t)for(var r,n,i=t.split("&"),s=0;s<i.length;)(r=i[s++]).length&&(n=r.split("="),e.push({key:a(n.shift()),value:a(n.join("="))}))}function f(e){this.entries.length=0,p(this.entries,e)}function u(e,t){if(e<t)throw TypeError("Not enough arguments")}var o=e("../internals/export"),l=e("../internals/native-url"),c=e("../internals/redefine"),d=e("../internals/redefine-all"),h=e("../internals/set-to-string-tag"),m=e("../internals/create-iterator-constructor"),b=e("../internals/internal-state"),v=e("../internals/an-instance"),y=e("../internals/has"),g=e("../internals/bind-context"),_=e("../internals/an-object"),j=e("../internals/is-object"),C=e("../internals/get-iterator"),A=e("../internals/get-iterator-method"),E=e("../internals/well-known-symbol")("iterator"),P="URLSearchParams",w=P+"Iterator",S=b.set,T=b.getterFor(P),k=b.getterFor(w),R=/\+/g,D=Array(4),O=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=m(function(e,t){S(this,{type:w,iterator:C(T(e).entries),kind:t})},"Iterator",function(){var e=k(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),x=function(e){v(this,x,P);var t,r,n,i,s,a,o,l,u,c=0<arguments.length?e:void 0,d=[];if(S(this,{type:P,entries:d,updateURL:function(){},updateSearchParams:f}),void 0!==c)if(j(c))if("function"==typeof(t=A(c)))for(n=(r=t.call(c)).next;!(i=n.call(r)).done;){if((o=(a=(s=C(_(i.value))).next).call(s)).done||(l=a.call(s)).done||!a.call(s).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:l.value+""})}else for(u in c)y(c,u)&&d.push({key:u,value:c[u]+""});else p(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},M=x.prototype;d(M,{append:function(e,t){u(arguments.length,2);var r=T(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){u(arguments.length,1);for(var t=T(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){u(arguments.length,1);for(var t=T(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){u(arguments.length,1);for(var t=T(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){u(arguments.length,1);for(var t=T(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){u(arguments.length,1);for(var r,n=T(this),i=n.entries,s=!1,a=e+"",o=t+"",l=0;l<i.length;l++)(r=i[l]).key===a&&(s?i.splice(l--,1):(s=!0,r.value=o));s||i.push({key:a,value:o}),n.updateURL()},sort:function(){var e,t,r,n=T(this),i=n.entries,s=i.slice();for(r=i.length=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e,t){for(var r,n=T(this).entries,i=g(e,1<arguments.length?t:void 0,3),s=0;s<n.length;)i((r=n[s++]).value,r.key,this)},keys:function(){return new L(this,"keys")},values:function(){return new L(this,"values")},entries:function(){return new L(this,"entries")}},{enumerable:!0}),c(M,E,M.entries),c(M,"toString",function(){for(var e,t=T(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(s(e.key)+"="+s(e.value));return r.join("&")},{enumerable:!0}),h(x,P),o({global:!0,forced:!l},{URLSearchParams:x}),t.exports={URLSearchParams:x,getState:T}},{"../internals/an-instance":30,"../internals/an-object":31,"../internals/bind-context":40,"../internals/create-iterator-constructor":48,"../internals/export":59,"../internals/get-iterator":67,"../internals/get-iterator-method":66,"../internals/has":69,"../internals/internal-state":77,"../internals/is-object":81,"../internals/native-url":90,"../internals/redefine":117,"../internals/redefine-all":116,"../internals/set-to-string-tag":125,"../internals/well-known-symbol":144,"../modules/es.array.iterator":153}],196:[function(e,t,r){"use strict";e("../modules/es.string.iterator");function _(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(!(r=X(t.slice(1,-1))))return M;e.host=r}else if(ne(e)){if(t=b(t),z.test(t))return M;if(null===(r=Q(t)))return M;e.host=r}else{if(Y.test(t))return M;for(r="",n=S(t),i=0;i<n.length;i++)r+=te(n[i],$);e.host=r}}function c(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,s=0;s<8;s++)0!==e[s]?(r<i&&(t=n,r=i),n=null,i=0):(null===n&&(n=s),++i);return r<i&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i=i&&!1,n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function j(e){return""!=e.username||""!=e.password}function i(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function C(e,t){var r;return 2==e.length&&N.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)}function A(e){var t;return 1<e.length&&C(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)}function E(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&C(t[0],!0)||t.pop()}function d(e,t,r,n){var i,s,a,o,l,u,c=r||ie,d=0,p="",f=!1,h=!1,m=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(W,"")),t=t.replace(K,""),i=S(t);d<=i.length;){switch(s=i[d],c){case ie:if(!s||!N.test(s)){if(r)return x;c=ae;continue}p+=s.toLowerCase(),c=se;break;case se:if(s&&(B.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(r)return x;p="",c=ae,d=0;continue}if(r&&(ne(e)!=w(re,p)||"file"==p&&(j(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,r)return void(ne(e)&&re[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=ve:ne(e)&&n&&n.scheme==e.scheme?c=oe:ne(e)?c=de:"/"==i[d+1]?(c=le,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Ce)}break;case ae:if(!n||n.cannotBeABaseURL&&"#"!=s)return x;if(n.cannotBeABaseURL&&"#"==s){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ee;break}c="file"==n.scheme?ve:ue;continue;case oe:if("/"!=s||"/"!=i[d+1]){c=ue;continue}c=pe,d++;break;case le:if("/"==s){c=fe;break}c=je;continue;case ue:if(e.scheme=n.scheme,s==P)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==s||"\\"==s&&ne(e))c=ce;else if("?"==s)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=Ae;else{if("#"!=s){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=je;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=Ee}break;case ce:if(!ne(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=je;continue}c=fe}else c=pe;break;case de:if(c=pe,"/"!=s||"/"!=p.charAt(d+1))continue;d++;break;case pe:if("/"==s||"\\"==s)break;c=fe;continue;case fe:if("@"==s){f&&(p="%40"+p),f=!0,a=S(p);for(var b=0;b<a.length;b++){var v=a[b];if(":"!=v||m){var y=te(v,ee);m?e.password+=y:e.username+=y}else m=!0}p=""}else if(s==P||"/"==s||"?"==s||"#"==s||"\\"==s&&ne(e)){if(f&&""==p)return"Invalid authority";d-=S(p).length+1,p="",c=he}else p+=s;break;case he:case me:if(r&&"file"==e.scheme){c=ge;continue}if(":"!=s||h){if(s==P||"/"==s||"?"==s||"#"==s||"\\"==s&&ne(e)){if(ne(e)&&""==p)return M;if(r&&""==p&&(j(e)||null!==e.port))return;if(o=_(e,p))return o;if(p="",c=_e,r)return;continue}"["==s?h=!0:"]"==s&&(h=!1),p+=s}else{if(""==p)return M;if(o=_(e,p))return o;if(p="",c=be,r==me)return}break;case be:if(!V.test(s)){if(s==P||"/"==s||"?"==s||"#"==s||"\\"==s&&ne(e)||r){if(""!=p){var g=parseInt(p,10);if(65535<g)return U;e.port=ne(e)&&g===re[e.scheme]?null:g,p=""}if(r)return;c=_e;continue}return U}p+=s;break;case ve:if(e.scheme="file","/"==s||"\\"==s)c=ye;else{if(!n||"file"!=n.scheme){c=je;continue}if(s==P)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==s)e.host=n.host,e.path=n.path.slice(),e.query="",c=Ae;else{if("#"!=s){A(i.slice(d).join(""))||(e.host=n.host,e.path=n.path.slice(),E(e)),c=je;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=Ee}}break;case ye:if("/"==s||"\\"==s){c=ge;break}n&&"file"==n.scheme&&!A(i.slice(d).join(""))&&(C(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=je;continue;case ge:if(s==P||"/"==s||"\\"==s||"?"==s||"#"==s){if(!r&&C(p))c=je;else if(""==p){if(e.host="",r)return;c=_e}else{if(o=_(e,p))return o;if("localhost"==e.host&&(e.host=""),r)return;p="",c=_e}continue}p+=s;break;case _e:if(ne(e)){if(c=je,"/"!=s&&"\\"!=s)continue}else if(r||"?"!=s)if(r||"#"!=s){if(s!=P&&(c=je,"/"!=s))continue}else e.fragment="",c=Ee;else e.query="",c=Ae;break;case je:if(s==P||"/"==s||"\\"==s&&ne(e)||!r&&("?"==s||"#"==s)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(E(e),"/"==s||"\\"==s&&ne(e)||e.path.push("")):"."===(l=p)||"%2e"===l.toLowerCase()?"/"==s||"\\"==s&&ne(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&C(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(s==P||"?"==s||"#"==s))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",c=Ae):"#"==s&&(e.fragment="",c=Ee)}else p+=te(s,Z);break;case Ce:"?"==s?(e.query="",c=Ae):"#"==s?(e.fragment="",c=Ee):s!=P&&(e.path[0]+=te(s,$));break;case Ae:r||"#"!=s?s!=P&&("'"==s&&ne(e)?e.query+="%27":e.query+="#"==s?"%23":te(s,$)):(e.fragment="",c=Ee);break;case Ee:s!=P&&(e.fragment+=te(s,J))}d++}}function n(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}var P,s=e("../internals/export"),p=e("../internals/descriptors"),a=e("../internals/native-url"),o=e("../internals/global"),l=e("../internals/object-define-properties"),u=e("../internals/redefine"),f=e("../internals/an-instance"),w=e("../internals/has"),h=e("../internals/object-assign"),S=e("../internals/array-from"),m=e("../internals/string-multibyte").codeAt,b=e("../internals/punycode-to-ascii"),v=e("../internals/set-to-string-tag"),y=e("../modules/web.url-search-params"),g=e("../internals/internal-state"),T=o.URL,k=y.URLSearchParams,R=y.getState,D=g.set,O=g.getterFor("URL"),I=Math.floor,L=Math.pow,x="Invalid scheme",M="Invalid host",U="Invalid port",N=/[A-Za-z]/,B=/[\d+\-.A-Za-z]/,V=/\d/,q=/^(0x|0X)/,F=/^[0-7]+$/,H=/^\d+$/,G=/^[\dA-Fa-f]+$/,z=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Y=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,W=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,K=/[\u0009\u000A\u000D]/g,Q=function(e){var t,r,n,i,s,a,o,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(t=l.length))return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(s=10,1<i.length&&"0"==i.charAt(0)&&(s=q.test(i)?16:8,i=i.slice(8==s?1:2)),""===i)a=0;else{if(!(10==s?H:8==s?F:G).test(i))return e;a=parseInt(i,s)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=L(256,5-t))return null}else if(255<a)return null;for(o=r.pop(),n=0;n<r.length;n++)o+=r[n]*L(256,3-n);return o},X=function(e){function t(){return e.charAt(p)}var r,n,i,s,a,o,l,u=[0,0,0,0,0,0,0,0],c=0,d=null,p=0;if(":"==t()){if(":"!=e.charAt(1))return;p+=2,d=++c}for(;t();){if(8==c)return;if(":"!=t()){for(r=n=0;n<4&&G.test(t());)r=16*r+parseInt(t(),16),p++,n++;if("."==t()){if(0==n)return;if(p-=n,6<c)return;for(i=0;t();){if(s=null,0<i){if(!("."==t()&&i<4))return;p++}if(!V.test(t()))return;for(;V.test(t());){if(a=parseInt(t(),10),null===s)s=a;else{if(0==s)return;s=10*s+a}if(255<s)return;p++}u[c]=256*u[c]+s,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==t()){if(p++,!t())return}else if(t())return;u[c++]=r}else{if(null!==d)return;p++,d=++c}}if(null!==d)for(o=c-d,c=7;0!=c&&0<o;)l=u[c],u[c--]=u[d+o-1],u[d+--o]=l;else if(8!=c)return;return u},$={},J=h({},$,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=h({},J,{"#":1,"?":1,"{":1,"}":1}),ee=h({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),te=function(e,t){var r=m(e,0);return 32<r&&r<127&&!w(t,e)?e:encodeURIComponent(e)},re={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},ne=function(e){return w(re,e.scheme)},ie={},se={},ae={},oe={},le={},ue={},ce={},de={},pe={},fe={},he={},me={},be={},ve={},ye={},ge={},_e={},je={},Ce={},Ae={},Ee={},Pe=function(e,t){var r,n,i=f(this,Pe,"URL"),s=1<arguments.length?t:void 0,a=String(e),o=D(i,{type:"URL"});if(void 0!==s)if(s instanceof Pe)r=O(s);else if(n=d(r={},String(s)))throw TypeError(n);if(n=d(o,a,null,r))throw TypeError(n);var l=o.searchParams=new k,u=R(l);u.updateSearchParams(o.query),u.updateURL=function(){o.query=String(l)||null},p||(i.href=Se.call(i),i.origin=Te.call(i),i.protocol=ke.call(i),i.username=Re.call(i),i.password=De.call(i),i.host=Oe.call(i),i.hostname=Ie.call(i),i.port=Le.call(i),i.pathname=xe.call(i),i.search=Me.call(i),i.searchParams=Ue.call(i),i.hash=Ne.call(i))},we=Pe.prototype,Se=function(){var e=O(this),t=e.scheme,r=e.username,n=e.password,i=e.host,s=e.port,a=e.path,o=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",j(e)&&(u+=r+(n?":"+n:"")+"@"),u+=c(i),null!==s&&(u+=":"+s)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},Te=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&ne(e)?t+"://"+c(e.host)+(null!==r?":"+r:""):"null"},ke=function(){return O(this).scheme+":"},Re=function(){return O(this).username},De=function(){return O(this).password},Oe=function(){var e=O(this),t=e.host,r=e.port;return null===t?"":null===r?c(t):c(t)+":"+r},Ie=function(){var e=O(this).host;return null===e?"":c(e)},Le=function(){var e=O(this).port;return null===e?"":String(e)},xe=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Me=function(){var e=O(this).query;return e?"?"+e:""},Ue=function(){return O(this).searchParams},Ne=function(){var e=O(this).fragment;return e?"#"+e:""};if(p&&l(we,{href:n(Se,function(e){var t=O(this),r=String(e),n=d(t,r);if(n)throw TypeError(n);R(t.searchParams).updateSearchParams(t.query)}),origin:n(Te),protocol:n(ke,function(e){var t=O(this);d(t,String(e)+":",ie)}),username:n(Re,function(e){var t=O(this),r=S(String(e));if(!i(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=te(r[n],ee)}}),password:n(De,function(e){var t=O(this),r=S(String(e));if(!i(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=te(r[n],ee)}}),host:n(Oe,function(e){var t=O(this);t.cannotBeABaseURL||d(t,String(e),he)}),hostname:n(Ie,function(e){var t=O(this);t.cannotBeABaseURL||d(t,String(e),me)}),port:n(Le,function(e){var t=O(this);i(t)||(""==(e=String(e))?t.port=null:d(t,e,be))}),pathname:n(xe,function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],d(t,e+"",_e))}),search:n(Me,function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",d(t,e,Ae)),R(t.searchParams).updateSearchParams(t.query)}),searchParams:n(Ue),hash:n(Ne,function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",d(t,e,Ee)):t.fragment=null})}),u(we,"toJSON",function(){return Se.call(this)},{enumerable:!0}),u(we,"toString",function(){return Se.call(this)},{enumerable:!0}),T){var Be=T.createObjectURL,Ve=T.revokeObjectURL;Be&&u(Pe,"createObjectURL",function(e){return Be.apply(T,arguments)}),Ve&&u(Pe,"revokeObjectURL",function(e){return Ve.apply(T,arguments)})}v(Pe,"URL"),s({global:!0,forced:!a,sham:!p},{URL:Pe})},{"../internals/an-instance":30,"../internals/array-from":33,"../internals/descriptors":55,"../internals/export":59,"../internals/global":68,"../internals/has":69,"../internals/internal-state":77,"../internals/native-url":90,"../internals/object-assign":94,"../internals/object-define-properties":96,"../internals/punycode-to-ascii":115,"../internals/redefine":117,"../internals/set-to-string-tag":125,"../internals/string-multibyte":131,"../modules/es.string.iterator":183,"../modules/web.url-search-params":195}],197:[function(e,t,r){"use strict";e("../internals/export")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},{"../internals/export":59}],198:[function(z,r,n){(function(H,G){var e,t;e=this,t=function(){"use strict";function u(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,t=void 0,i=void 0,a=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(i?i(f):y())};var e="undefined"!=typeof window?window:void 0,s=e||{},o=s.MutationObserver||s.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==H&&"[object process]"==={}.toString.call(H),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(f,1)}}var p=new Array(1e3);function f(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var h,m,b,v,y=void 0;function g(e,t){var r=this,n=new this.constructor(C);void 0===n[j]&&N(n);var i=r._state;if(i){var s=arguments[i-1];a(function(){return M(i,n,s,r._result)})}else L(r,n,e,t);return n}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(C);return R(t,e),t}y=l?function(){return H.nextTick(f)}:o?(m=0,b=new o(f),v=document.createTextNode(""),b.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):c?((h=new MessageChannel).port1.onmessage=f,function(){return h.port2.postMessage(0)}):void 0===e&&"function"==typeof z?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(f)}:d()}catch(e){return d()}}():d();var j=Math.random().toString(36).substring(2);function C(){}var A=void 0,E=1,P=2,w={error:null};function S(e){try{return e.then}catch(e){return w.error=e,w}}function T(e,n,i){a(function(t){var r=!1,e=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(i,n,function(e){r||(r=!0,n!==e?R(t,e):O(t,e))},function(e){r||(r=!0,I(t,e))},t._label);!r&&e&&(r=!0,I(t,e))},e)}function k(e,t,r){t.constructor===e.constructor&&r===g&&t.constructor.resolve===_?function(t,e){e._state===E?O(t,e._result):e._state===P?I(t,e._result):L(e,void 0,function(e){return R(t,e)},function(e){return I(t,e)})}(e,t):r===w?(I(e,w.error),w.error=null):void 0===r?O(e,t):u(r)?T(e,t,r):O(e,t)}function R(e,t){e===t?I(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}(t)?O(e,t):k(e,t,S(t))}function D(e){e._onerror&&e._onerror(e._result),x(e)}function O(e,t){e._state===A&&(e._result=t,e._state=E,0!==e._subscribers.length&&a(x,e))}function I(e,t){e._state===A&&(e._state=P,e._result=t,a(D,e))}function L(e,t,r,n){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+E]=r,i[s+P]=n,0===s&&e._state&&a(x,e)}function x(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,s=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?M(r,n,i,s):i(s);e._subscribers.length=0}}function M(e,t,r,n){var i=u(r),s=void 0,a=void 0,o=void 0,l=void 0;if(i){if((s=function(e,t){try{return e(t)}catch(e){return w.error=e,w}}(r,n))===w?(l=!0,a=s.error,s.error=null):o=!0,t===s)return void I(t,new TypeError("A promises callback cannot return that same promise."))}else s=n,o=!0;t._state!==A||(i&&o?R(t,s):l?I(t,a):e===E?O(t,s):e===P&&I(t,s))}var U=0;function N(e){e[j]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var B=(V.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},V.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===_){var i=S(t);if(i===g&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===q){var s=new r(C);k(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},V.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===A&&(this._remaining--,e===P?I(n,r):this._result[t]=r),0===this._remaining&&O(n,this._result)},V.prototype._willSettleAt=function(e,t){var r=this;L(e,void 0,function(e){return r._settledAt(E,t,e)},function(e){return r._settledAt(P,t,e)})},V);function V(e,t){this._instanceConstructor=e,this.promise=new e(C),this.promise[j]||N(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}var q=(F.prototype.catch=function(e){return this.then(null,e)},F.prototype.finally=function(t){var r=this.constructor;return u(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},F);function F(e){this[j]=U++,this._result=this._state=void 0,this._subscribers=[],C!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof F?function(t,e){try{e(function(e){R(t,e)},function(e){I(t,e)})}catch(e){I(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.then=g,q.all=function(e){return new B(this,e).promise},q.race=function(i){var s=this;return r(i)?new s(function(e,t){for(var r=i.length,n=0;n<r;n++)s.resolve(i[n]).then(e,t)}):new s(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=_,q.reject=function(e){var t=new this(C);return I(t,e),t},q._setScheduler=function(e){i=e},q._setAsap=function(e){a=e},q._asap=a,q.polyfill=function(){var e=void 0;if(void 0!==G)e=G;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=q},q.Promise=q},"object"==typeof n&&void 0!==r?r.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}).call(this,z("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:206}],199:[function(e,t,r){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;t.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},{}],200:[function(e,t,r){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var m=window.document,t=[];e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,r){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]})},e.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(m,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(m,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var o=this._rootIsInDom(),l=o?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(e){var t=e.element,r=b(t),n=this._rootContainsTarget(t),i=e.entry,s=o&&n&&this._computeTargetAndRootIntersection(t,l),a=e.entry=new u({time:window.performance&&performance.now&&performance.now(),target:t,boundingClientRect:r,rootBounds:l,intersectionRect:s});i?o&&n?this._hasCrossedThreshold(i,a)&&this._queuedEntries.push(a):i&&i.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=window.getComputedStyle(e).display){for(var r,n,i,s,a,o,l,u,c=b(e),d=v(e),p=!1;!p;){var f=null,h=1==d.nodeType?window.getComputedStyle(d):{};if("none"==h.display)return;if(d==this.root||d==m?(p=!0,f=t):d!=m.body&&d!=m.documentElement&&"visible"!=h.overflow&&(f=b(d)),f&&(r=f,n=c,void 0,i=Math.max(r.top,n.top),s=Math.min(r.bottom,n.bottom),a=Math.max(r.left,n.left),o=Math.min(r.right,n.right),u=s-i,!(c=0<=(l=o-a)&&0<=u&&{top:i,bottom:s,left:a,right:o,width:l,height:u})))break;d=v(d)}return c}},e.prototype._getRootRect=function(){var e;if(this.root)e=b(this.root);else{var t=m.documentElement,r=m.body;e={top:0,left:0,right:t.clientWidth||r.clientWidth,width:t.clientWidth||r.clientWidth,bottom:t.clientHeight||r.clientHeight,height:t.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},e.prototype._expandRectByRootMargin=function(r){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?r.width:r.height)/100}),t={top:r.top-e[0],right:r.right+e[1],bottom:r.bottom+e[2],left:r.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},e.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==n)for(var i=0;i<this.thresholds.length;i++){var s=this.thresholds[i];if(s==r||s==n||s<r!=s<n)return!0}},e.prototype._rootIsInDom=function(){return!this.root||i(m,this.root)},e.prototype._rootContainsTarget=function(e){return i(this.root||m,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=e,window.IntersectionObserverEntry=u}function u(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,r=t.width*t.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=r?Number((i/r).toFixed(4)):this.isIntersecting?1:0}function e(e,t){var r=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var r=null;return function(){r=r||setTimeout(function(){e(),r=null},t)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function r(e,t,r,n){"function"==typeof e.addEventListener?e.addEventListener(t,r,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function n(e,t,r,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function b(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(e,t){for(var r=t;r;){if(r==e)return!0;r=v(r)}return!1}function v(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},{}],201:[function(e,Qe,Xe){(function(e){var n="__lodash_hash_undefined__",r=9007199254740991,f="[object Arguments]",h="[object Boolean]",m="[object Date]",b="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",_="[object Object]",i="[object Promise]",j="[object RegExp]",C="[object Set]",A="[object String]",E="[object Symbol]",s="[object WeakMap]",P="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",k="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",x="[object Uint32Array]",M=/\w*$/,t=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,U={};U[f]=U["[object Array]"]=U[P]=U[w]=U[h]=U[m]=U[S]=U[T]=U[k]=U[R]=U[D]=U[y]=U[g]=U[_]=U[j]=U[C]=U[A]=U[E]=U[O]=U[I]=U[L]=U[x]=!0,U["[object Error]"]=U[b]=U[s]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=o||l||Function("return this")(),c="object"==typeof Xe&&Xe&&!Xe.nodeType&&Xe,d=c&&"object"==typeof Qe&&Qe&&!Qe.nodeType&&Qe,p=d&&d.exports===c;function N(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function V(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function F(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function H(t,r){return function(e){return t(r(e))}}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var z,Y=Array.prototype,W=Function.prototype,K=Object.prototype,Q=u["__core-js_shared__"],X=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",$=W.toString,J=K.hasOwnProperty,Z=K.toString,ee=RegExp("^"+$.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=p?u.Buffer:void 0,re=u.Symbol,ne=u.Uint8Array,ie=H(Object.getPrototypeOf,Object),se=Object.create,ae=K.propertyIsEnumerable,oe=Y.splice,le=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=H(Object.keys,Object),de=Me(u,"DataView"),pe=Me(u,"Map"),fe=Me(u,"Promise"),he=Me(u,"Set"),me=Me(u,"WeakMap"),be=Me(Object,"create"),ve=qe(de),ye=qe(pe),ge=qe(fe),_e=qe(he),je=qe(me),Ce=re?re.prototype:void 0,Ae=Ce?Ce.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){this.__data__=new Pe(e)}function Te(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&J.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==f)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!J.call(e,s)||i&&("length"==s||Be(s,n))||r.push(s);return r}function ke(e,t,r){var n=e[t];J.call(e,t)&&Fe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Re(e,t){for(var r=e.length;r--;)if(Fe(e[r][0],t))return r;return-1}function De(r,n,i,s,e,t,a){var o;if(s&&(o=t?s(r,e,t,a):s(r)),void 0!==o)return o;if(!We(r))return r;var l=He(r);if(l){if(o=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(r),!n)return function(e,t){var r=-1,n=e.length;t=t||Array(n);for(;++r<n;)t[r]=e[r];return t}(r,o)}else{var u=Ne(r),c=u==b||u==v;if(ze(r))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(r,n);if(u==_||u==f||c&&!t){if(q(r))return t?r:{};if(o=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:function(e){return We(e)?se(e):{}}(ie(e))}(c?{}:r),!n)return function(e,t){return Le(e,Ue(e),t)}(r,function(e,t){return e&&Le(t,Ke(t),e)}(o,r))}else{if(!U[u])return t?r:{};o=function(e,t,r,n){var i=e.constructor;switch(t){case P:return Ie(e);case h:case m:return new i(+e);case w:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case T:case k:case R:case D:case O:case I:case L:case x:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case y:return function(e,t,r){return V(t?r(F(e),!0):F(e),N,new e.constructor)}(e,n,r);case g:case A:return new i(e);case j:return function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return function(e,t,r){return V(t?r(G(e),!0):G(e),B,new e.constructor)}(e,n,r);case E:return function(e){return Ae?Object(Ae.call(e)):{}}(e)}}(r,u,De,n)}}var d=(a=a||new Se).get(r);if(d)return d;if(a.set(r,o),!l)var p=i?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ke,Ue)}(r):Ke(r);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(p||r,function(e,t){p&&(e=r[t=e]),ke(o,t,De(e,n,i,s,t,r,a))}),o}function Oe(e){return!(!We(e)||function(e){return!!X&&X in e}(e))&&(Ye(e)||q(e)?ee:t).test(qe(e))}function Ie(e){var t=new e.constructor(e.byteLength);return new ne(t).set(new ne(e)),t}function Le(e,t,r,n){r=r||{};for(var i=-1,s=t.length;++i<s;){var a=t[i],o=n?n(r[a],e[a],a,r,e):void 0;ke(r,a,void 0===o?e[a]:o)}return r}function xe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Me(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=be?be(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return J.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:J.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0)&&(r==t.length-1?t.pop():oe.call(t,r,1),!0)},Pe.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},Pe.prototype.has=function(e){return-1<Re(this.__data__,e)},Pe.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},we.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||Pe),string:new Ee}},we.prototype.delete=function(e){return xe(this,e).delete(e)},we.prototype.get=function(e){return xe(this,e).get(e)},we.prototype.has=function(e){return xe(this,e).has(e)},we.prototype.set=function(e,t){return xe(this,e).set(e,t),this},Se.prototype.clear=function(){this.__data__=new Pe},Se.prototype.delete=function(e){return this.__data__.delete(e)},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Pe){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new we(n)}return r.set(e,t),this};var Ue=le?H(le,Object):function(){return[]},Ne=function(e){return Z.call(e)};function Be(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&-1<e&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function qe(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(de&&Ne(new de(new ArrayBuffer(1)))!=w||pe&&Ne(new pe)!=y||fe&&Ne(fe.resolve())!=i||he&&Ne(new he)!=C||me&&Ne(new me)!=s)&&(Ne=function(e){var t=Z.call(e),r=t==_?e.constructor:void 0,n=r?qe(r):void 0;if(n)switch(n){case ve:return w;case ye:return y;case ge:return i;case _e:return C;case je:return s}return t});var He=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=r}(e.length)&&!Ye(e)}var ze=ue||function(){return!1};function Ye(e){var t=We(e)?Z.call(e):"";return t==b||t==v}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return Ge(e)?Te(e):function(e){if(!Ve(e))return ce(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}Qe.exports=function(e){return De(e,!1,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],202:[function(e,Qe,Xe){(function(e){var n="__lodash_hash_undefined__",r=9007199254740991,f="[object Arguments]",h="[object Boolean]",m="[object Date]",b="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",_="[object Object]",i="[object Promise]",j="[object RegExp]",C="[object Set]",A="[object String]",E="[object Symbol]",s="[object WeakMap]",P="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",k="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",x="[object Uint32Array]",M=/\w*$/,t=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,U={};U[f]=U["[object Array]"]=U[P]=U[w]=U[h]=U[m]=U[S]=U[T]=U[k]=U[R]=U[D]=U[y]=U[g]=U[_]=U[j]=U[C]=U[A]=U[E]=U[O]=U[I]=U[L]=U[x]=!0,U["[object Error]"]=U[b]=U[s]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=o||l||Function("return this")(),c="object"==typeof Xe&&Xe&&!Xe.nodeType&&Xe,d=c&&"object"==typeof Qe&&Qe&&!Qe.nodeType&&Qe,p=d&&d.exports===c;function N(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function V(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function F(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function H(t,r){return function(e){return t(r(e))}}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var z,Y=Array.prototype,W=Function.prototype,K=Object.prototype,Q=u["__core-js_shared__"],X=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",$=W.toString,J=K.hasOwnProperty,Z=K.toString,ee=RegExp("^"+$.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=p?u.Buffer:void 0,re=u.Symbol,ne=u.Uint8Array,ie=H(Object.getPrototypeOf,Object),se=Object.create,ae=K.propertyIsEnumerable,oe=Y.splice,le=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=H(Object.keys,Object),de=Me(u,"DataView"),pe=Me(u,"Map"),fe=Me(u,"Promise"),he=Me(u,"Set"),me=Me(u,"WeakMap"),be=Me(Object,"create"),ve=qe(de),ye=qe(pe),ge=qe(fe),_e=qe(he),je=qe(me),Ce=re?re.prototype:void 0,Ae=Ce?Ce.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){this.__data__=new Pe(e)}function Te(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&J.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==f)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var s in e)!t&&!J.call(e,s)||i&&("length"==s||Be(s,n))||r.push(s);return r}function ke(e,t,r){var n=e[t];J.call(e,t)&&Fe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Re(e,t){for(var r=e.length;r--;)if(Fe(e[r][0],t))return r;return-1}function De(r,n,i,s,e,t,a){var o;if(s&&(o=t?s(r,e,t,a):s(r)),void 0!==o)return o;if(!We(r))return r;var l=He(r);if(l){if(o=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(r),!n)return function(e,t){var r=-1,n=e.length;t=t||Array(n);for(;++r<n;)t[r]=e[r];return t}(r,o)}else{var u=Ne(r),c=u==b||u==v;if(ze(r))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(r,n);if(u==_||u==f||c&&!t){if(q(r))return t?r:{};if(o=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:function(e){return We(e)?se(e):{}}(ie(e))}(c?{}:r),!n)return function(e,t){return Le(e,Ue(e),t)}(r,function(e,t){return e&&Le(t,Ke(t),e)}(o,r))}else{if(!U[u])return t?r:{};o=function(e,t,r,n){var i=e.constructor;switch(t){case P:return Ie(e);case h:case m:return new i(+e);case w:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case T:case k:case R:case D:case O:case I:case L:case x:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case y:return function(e,t,r){return V(t?r(F(e),!0):F(e),N,new e.constructor)}(e,n,r);case g:case A:return new i(e);case j:return function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return function(e,t,r){return V(t?r(G(e),!0):G(e),B,new e.constructor)}(e,n,r);case E:return function(e){return Ae?Object(Ae.call(e)):{}}(e)}}(r,u,De,n)}}var d=(a=a||new Se).get(r);if(d)return d;if(a.set(r,o),!l)var p=i?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ke,Ue)}(r):Ke(r);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(p||r,function(e,t){p&&(e=r[t=e]),ke(o,t,De(e,n,i,s,t,r,a))}),o}function Oe(e){return!(!We(e)||function(e){return!!X&&X in e}(e))&&(Ye(e)||q(e)?ee:t).test(qe(e))}function Ie(e){var t=new e.constructor(e.byteLength);return new ne(t).set(new ne(e)),t}function Le(e,t,r,n){r=r||{};for(var i=-1,s=t.length;++i<s;){var a=t[i],o=n?n(r[a],e[a],a,r,e):void 0;ke(r,a,void 0===o?e[a]:o)}return r}function xe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Me(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=be?be(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return J.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:J.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0)&&(r==t.length-1?t.pop():oe.call(t,r,1),!0)},Pe.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},Pe.prototype.has=function(e){return-1<Re(this.__data__,e)},Pe.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},we.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||Pe),string:new Ee}},we.prototype.delete=function(e){return xe(this,e).delete(e)},we.prototype.get=function(e){return xe(this,e).get(e)},we.prototype.has=function(e){return xe(this,e).has(e)},we.prototype.set=function(e,t){return xe(this,e).set(e,t),this},Se.prototype.clear=function(){this.__data__=new Pe},Se.prototype.delete=function(e){return this.__data__.delete(e)},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Pe){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new we(n)}return r.set(e,t),this};var Ue=le?H(le,Object):function(){return[]},Ne=function(e){return Z.call(e)};function Be(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&-1<e&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function qe(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(de&&Ne(new de(new ArrayBuffer(1)))!=w||pe&&Ne(new pe)!=y||fe&&Ne(fe.resolve())!=i||he&&Ne(new he)!=C||me&&Ne(new me)!=s)&&(Ne=function(e){var t=Z.call(e),r=t==_?e.constructor:void 0,n=r?qe(r):void 0;if(n)switch(n){case ve:return w;case ye:return y;case ge:return i;case _e:return C;case je:return s}return t});var He=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=r}(e.length)&&!Ye(e)}var ze=ue||function(){return!1};function Ye(e){var t=We(e)?Z.call(e):"";return t==b||t==v}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return Ge(e)?Te(e):function(e){if(!Ve(e))return ce(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}Qe.exports=function(e){return De(e,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],203:[function(e,f,t){(function(e){function y(){return c.Date.now()}var n=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,r="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=r||u||Function("return this")(),d=Object.prototype.toString,g=Math.max,_=Math.min;function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==t}function C(e){if("number"==typeof e)return e;if(p(e))return n;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=a.test(e);return r||o.test(e)?l(e.slice(2),r?2:8):s.test(e)?n:+e}f.exports=function(n,r,e){var i,s,a,o,l,u,c=0,d=!1,p=!1,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function f(e){var t=i,r=s;return i=s=void 0,c=e,o=n.apply(r,t)}function h(e){var t=e-u;return void 0===u||r<=t||t<0||p&&a<=e-c}function m(){var e=y();if(h(e))return b(e);l=setTimeout(m,function(e){var t=r-(e-u);return p?_(t,a-(e-c)):t}(e))}function b(e){return l=void 0,t&&i?f(e):(i=s=void 0,o)}function v(){var e=y(),t=h(e);if(i=arguments,s=this,u=e,t){if(void 0===l)return function(e){return c=e,l=setTimeout(m,r),d?f(e):o}(u);if(p)return l=setTimeout(m,r),f(u)}return void 0===l&&(l=setTimeout(m,r)),o}return r=C(r)||0,j(e)&&(d=!!e.leading,a=(p="maxWait"in e)?g(C(e.maxWait)||0,r):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){void 0!==l&&clearTimeout(l),i=u=s=l=void(c=0)},v.flush=function(){return void 0===l?o:b(y())},v}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],204:[function(e,P,t){(function(e){var t=9007199254740991,r="[object Arguments]",n="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",a="object"==typeof e&&e&&e.Object===Object&&e,o="object"==typeof self&&self&&self.Object===Object&&self,l=a||o||Function("return this")();function u(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var c=Object.prototype,d=c.hasOwnProperty,p=c.toString,f=l.Symbol,h=c.propertyIsEnumerable,m=f?f.isConcatSpreadable:void 0,b=Math.max;function v(r,e){return function(e,t,r){var n=-1,i=t.length,s={};for(;++n<i;){var a=t[n],o=e[a];r(o,a)&&(s[a]=o)}return s}(r=Object(r),e,function(e,t){return t in r})}function y(e){return _(e)||function(e){return function(e){return j(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=t}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==n||t==i}(e)}(e)}(e)&&d.call(e,"callee")&&(!h.call(e,"callee")||p.call(e)==r)}(e)||!!(m&&e&&e[m])}function g(e){if("string"==typeof e||function(e){return"symbol"==typeof e||j(e)&&p.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var _=Array.isArray;function j(e){return!!e&&"object"==typeof e}var C,A,E=(C=function(e,t){return null==e?{}:v(e,function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(function e(t,r,n,i,s){var a=-1,o=t.length;for(n=n||y,s=s||[];++a<o;){var l=t[a];0<r&&n(l)?1<r?e(l,r-1,n,i,s):u(s,l):i||(s[s.length]=l)}return s}(t,1),g))},A=b(void 0===A?C.length-1:A,0),function(){for(var e=arguments,t=-1,r=b(e.length-A,0),n=Array(r);++t<r;)n[t]=e[A+t];t=-1;for(var i=Array(A+1);++t<A;)i[t]=e[t];return i[A]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(C,this,i)});P.exports=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="notice_behavior",n="cmapi_cookie_privacy",s="euconsent",a="trustarc-loaded",o={inEU:"1---",ccpaOptedIn:"1YNY",ccpaOptedOut:"1YYY"},l="undefined"!=typeof Promise?Promise:e("es6-promise").Promise;function u(){if(!h(i))return{req:!1,fun:!1,pad:!1,usPrivacyString:o.inEU};var e=m(n);return function(e){return!b(e,"permit")&&f()}(e)?{req:!1,fun:!1,pad:!1,usPrivacyString:o.inEU}:p(e)}function c(){var n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).timeout;return new l(function(e,t){if(n){var r=t.bind(null,"Timeout reached while waiting for consent info");setTimeout(r,n)}if(h(i))return d(e);window.addEventListener(a,function(){d(e)},{once:!0})})}function d(e){if(!f()&&!h(n))return e({req:!0,fun:!0,pad:!0,usPrivacyString:o.ccpaOptedIn});h(n)&&e(p(m(n)))}function p(e){var t=!function(e){return b(e,"permit")&&!b(e,"1")}(e),r=!function(e){return b(e,"permit")&&!b(e,"2")}(e),n=!function(e){return b(e,"permit")&&!b(e,"3")}(e);return{req:t,fun:r,pad:n,usPrivacyString:function(e,t,r){if(f())return o.inEU;return e&&t&&r?o.ccpaOptedIn:o.ccpaOptedOut}(t,r,n)}}function f(){if(!h(i))return!0;var e=m(i);return b(e,"expressed")&&b(e,"eu")}function h(e){return Boolean(m(e))}function m(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;$]*)");return t?t[2]:""}function b(e,t){return-1!==e.indexOf(t)}r.default={getConsentInfo:u,getConsentInfoAsync:c,iabConsentString:function(){return m(s)},iabConsentStringAsync:function(){var n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).timeout;return new l(function(r,e){if(n){var t=e.bind(null,"Timeout reached while waiting for IAB Consent String");setTimeout(t,n)}h(s)&&r(m(s)),window.addEventListener(a,function(){window.__cmp("getConsentData",null,function(e,t){t&&r(e.consentData)})},{once:!0})})},gdprApplies:function(){return f()},gdprAppliesAsync:function(){var n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).timeout;return new l(function(e,t){if(n){var r=t.bind(null,"Timeout reached while waiting for GDPR status");setTimeout(r,n)}if(h(i))return e(f());window.addEventListener(a,function(){return e(f())},{once:!0})})},reqAllowed:function(){return u().req},reqAllowedAsync:function(e){return c(e).then(function(e){return e.req})},funAllowed:function(){return u().fun},funAllowedAsync:function(e){return c(e).then(function(e){return e.fun})},padAllowed:function(){return u().pad},padAllowedAsync:function(e){return c(e).then(function(e){return e.pad})},getUSPrivacyString:function(){return u().usPrivacyString},getUSPrivacyStringAsync:function(e){return c(e).then(function(e){return e.usPrivacyString})},US_PRIVACY_STRINGS:o},t.exports=r.default},{"es6-promise":198}],206:[function(e,t,r){var n,i,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var u,c=[],d=!1,p=-1;function f(){d&&u&&(d=!1,u.length?c=u.concat(c):p=-1,c.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||d||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],207:[function(e,O,t){!function(e){"use strict";var l,t=Object.prototype,u=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",a="object"==typeof O,o=e.regeneratorRuntime;if(o)a&&(O.exports=o);else{(o=e.regeneratorRuntime=a?O.exports:{}).wrap=g;var c="suspendedStart",d="suspendedYield",p="executing",f="completed",h={},m={};m[i]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(R([])));v&&v!==t&&u.call(v,i)&&(m=v);var y=A.prototype=j.prototype=Object.create(m);C.prototype=y.constructor=A,A.constructor=C,A[s]=C.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},o.awrap=function(e){return{__await:e}},E(P.prototype),P.prototype[n]=function(){return this},o.AsyncIterator=P,o.async=function(e,t,r,n){var i=new P(g(e,t,r,n));return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},o.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return s.type="throw",s.arg=r,n.next=e,t&&(n.method="next",n.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],s=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),o=u.call(i,"finallyLoc");if(a&&o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=l),h}}}function g(e,t,r,n){var i=t&&t.prototype instanceof j?t:j,s=Object.create(i.prototype),a=new k(n||[]);return s._invoke=function(s,a,o){var l=c;return function(e,t){if(l===p)throw new Error("Generator is already running");if(l===f){if("throw"===e)throw t;return D()}for(o.method=e,o.arg=t;;){var r=o.delegate;if(r){var n=w(r,o);if(n){if(n===h)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===c)throw l=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=p;var i=_(s,a,o);if("normal"===i.type){if(l=o.done?f:d,i.arg===h)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(l=f,o.method="throw",o.arg=i.arg)}}}(e,r,a),s}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function j(){}function C(){}function A(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(l){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,i){var s=_(l[e],l,r);if("throw"!==s.type){var a=s.arg,o=a.value;return o&&"object"==typeof o&&u.call(o,"__await")?Promise.resolve(o.__await).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):Promise.resolve(o).then(function(e){a.value=e,n(a)},i)}i(s.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function w(e,t){var r=e.iterator[t.method];if(r===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,w(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=_(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=l,e.done=!0,e};return n.next=n}}return{next:D}}function D(){return{value:l,done:!0}}}(function(){return this}()||Function("return this")())},{}],208:[function(e,t,r){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0,n=i;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}},{}],209:[function(e,t,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var s=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},{}],210:[function(e,t,r){var a=e("./lib/rng"),o=e("./lib/bytesToUuid");t.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||o(i)}},{"./lib/bytesToUuid":208,"./lib/rng":209}],211:[function(e,t,r){t.exports={Play:"Play",Pause:"Pause","Current Time":"Current Time","Duration Time":"Duration Time","Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:"LIVE",Loaded:"Loaded",Progress:"Progress",Fullscreen:"Fullscreen","Non-Fullscreen":"Non-Fullscreen",Mute:"Mute",Unmute:"Unmute","Playback Rate":"Playback Rate",Subtitles:"Subtitles","subtitles off":"subtitles off",Captions:"Captions","captions off":"captions off",Chapters:"Chapters","Close Modal Dialog":"Close Modal Dialog",Descriptions:"Descriptions","descriptions off":"descriptions off","You aborted the media playback":"An error has occurred.  Reload the web page or use another browser.\n\nError 1","A network error caused the media download to fail part-way.":"An error has occurred.  Reload the web page or use another browser.\n\nError 2","The media could not be loaded, either because the server or network failed or because the format is not supported.":"An error has occurred.  Reload the web page or use another browser.\n\nError 3","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"An error has occurred.  Reload the web page or use another browser.\n\nError 4","No compatible source was found for this media.":"Flash is no longer supported on bloomberg.com. Please update your browser and operating system to continue to watch.","Play Video":"Play Video",Close:"Close","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected"}},{}],212:[function(e,t,r){t.exports={bigPlayButton:!1,controlBar:{children:[]},start_muted:!0,use_title_bar:!1,use_playback_outro:!1,use_share_overlay:!1,useMutedOverlayPlugin:!1}},{}],213:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={RADIO:{id:"TRITON_RADIO",title:"TRITON_RADIO",live:1,form_type:"Triton Radio",poster:"https://assets.bwbx.io/business/public/images/radio-splash-9269acddc2.jpg",player_type:"radio",streamProvider:"TRITON",streamProviderConfig:{apiVersion:"1.8",station:"WBBRAM",mount:"WBBRAMAAC48",stationId:"69443"}},RADIO_NY:{id:"RADIO_NY",title:"RADIO_NY",live:1,form_type:"Triton Radio",poster:"https://assets.bwbx.io/business/public/images/radio-splash-9269acddc2.jpg",player_type:"radio",streamProvider:"TRITON",streamProviderConfig:{apiVersion:"1.8",station:"WBBRNY",mount:"WBBRNYAAC",stationId:"270763"}},RADIO_BOS:{id:"RADIO_BOS",title:"RADIO_BOS",live:1,form_type:"Triton Radio",poster:"https://assets.bwbx.io/business/public/images/radio-splash-9269acddc2.jpg",player_type:"radio",streamProvider:"TRITON",streamProviderConfig:{apiVersion:"1.8",station:"WBBRBOS",mount:"WBBRBOSAAC",stationId:"270803"}},RADIO_DC:{id:"RADIO_DC",title:"RADIO_DC",live:1,form_type:"Triton Radio",poster:"https://assets.bwbx.io/business/public/images/radio-splash-9269acddc2.jpg",player_type:"radio",streamProvider:"TRITON",streamProviderConfig:{apiVersion:"1.8",station:"WBBRDC",mount:"WBBRDCAAC",stationId:"270793"}},RADIO_SF:{id:"RADIO_SF",title:"RADIO_SF",live:1,form_type:"Triton Radio",poster:"https://assets.bwbx.io/business/public/images/radio-splash-9269acddc2.jpg",player_type:"radio",streamProvider:"TRITON",streamProviderConfig:{apiVersion:"1.8",station:"WBBRSF",mount:"WBBRSFAAC",stationId:"270783"}},PHOENIX_US:{id:"LIVE_PHOENIX_US",title:"LIVE_PHOENIX_US",live:1,form_type:"Live Phoenix U.S.",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",daiAssetKey:"BVlOmFGaTi6NpchccR14yA",cdns:[{weight:1,name:"bvp_phoenix_us_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/phoenix-us.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/phoenix-us.m3u8?group=backup",type:"application/x-mpegURL"}]}]},US:{id:"LIVE_US",title:"LIVE_US",live:1,form_type:"Live U.S.",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"79",daiAssetKey:"PwTJe4aZRvSBjbWY7_VSzA",cdns:[{weight:1,name:"bvp_us_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8?group=backup",type:"application/x-mpegURL"}]}]},ASIA:{id:"LIVE_ASIA",title:"LIVE_ASIA",live:1,form_type:"Live Asia",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"81",daiAssetKey:"crO2xItzS0K0Mznc1p0yPA",cdns:[{weight:1,name:"bvp_asia_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8?group=backup",type:"application/x-mpegURL"}]}]},AUS:{id:"LIVE_AUS",title:"LIVE_AUS",live:1,form_type:"Live Australia",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"89",daiAssetKey:"-0JiXPvoQCCx1Nbwgx9Xmw",cdns:[{weight:1,name:"bvp_aus_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8?group=backup",type:"application/x-mpegURL"}]}]},EU:{id:"LIVE_EU",title:"LIVE_EU",live:1,form_type:"Live Europe",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"80",daiAssetKey:"TPKhqf0BQn2_ijC-0rOJcA",cdns:[{weight:1,name:"bvp_eu_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8?group=backup",type:"application/x-mpegURL"}]}]},EVENT:{id:"LIVE_EVENT",title:"LIVE_EVENT",live:1,form_type:"Live Event",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"82",cdns:[{weight:1,name:"bvp_us_event_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/us-event.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/us-event.m3u8?group=backup",type:"application/x-mpegURL"}]}]},EVENT_LINEUP:{id:"LIVE_EVENT_LINEUP_MINI",title:"LIVE_EVENT_LINEUP_MINI",live:1,form_type:"Live Event Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_event_lineup_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/us-event.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/us-event.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},EMEA_EVENT:{id:"LIVE_EMEA_EVENT",title:"LIVE_EMEA_EVENT",live:1,form_type:"Live EMEA Event",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"83",cdns:[{weight:1,name:"bvp_eu_event_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/eu-event.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/eu-event.m3u8?group=backup",type:"application/x-mpegURL"}]}]},EMEA_EVENT_LINEUP:{id:"LIVE_EMEA_EVENT_LINEUP_MINI",title:"LIVE_EMEA_EVENT_LINEUP_MINI",live:1,form_type:"Live EMEA Event Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_eu_event_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/eu-event.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/eu-event.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},ASIA_EVENT:{id:"LIVE_ASIA_EVENT",title:"LIVE_ASIA_EVENT",live:1,form_type:"Live Asia Event",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cedexisAppID:"84",cdns:[{weight:1,name:"bvp_asia_event_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/asia-event.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/asia-event.m3u8?group=backup",type:"application/x-mpegURL"}]}]},ASIA_EVENT_LINEUP:{id:"LIVE_ASIA_EVENT_LINEUP_MINI",title:"LIVE_ASIA_EVENT_LINEUP_MINI",live:1,form_type:"Live Asia Event Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_asia_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/asia-event.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/asia-event.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},US_MINI:{id:"LIVE_US_MINI",title:"LIVE_US_MINI",live:1,form_type:"Live US Mini",player_type:"mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",cdns:[{weight:1,name:"bvp_us_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8?profile=mini",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8?group=backup&profile=mini",type:"application/x-mpegURL"}]}]},ASIA_MINI:{id:"LIVE_ASIA_MINI",title:"LIVE_ASIA_MINI",live:1,form_type:"Live Asia Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_asia_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8?profile=mini",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8?group=backup&profile=mini",type:"application/x-mpegURL"}]}]},EU_MINI:{id:"LIVE_EU_MINI",title:"LIVE_EU_MINI",live:1,form_type:"Live Europe Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_eu_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8?profile=mini",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8?group=backup&profile=mini",type:"application/x-mpegURL"}]}]},AUS_MINI:{id:"LIVE_AUS_MINI",title:"LIVE_AUS_MINI",live:1,form_type:"Live Australia Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8?profile=mini",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8?group=backup&profile=mini",type:"application/x-mpegURL"}]}]},POLITICS:{id:"LIVE_POLITICS",title:"LIVE_POLITICS",live:1,form_type:"Live Politics",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"standard",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/politics.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/politics.m3u8?group=backup",type:"application/x-mpegURL"}]}]},POLITICS_LINEUP:{id:"LIVE_POLITICS_LINEUP_MINI",title:"LIVE_POLITICS_LINEUP_MINI",live:1,form_type:"Live Politics Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/politics.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/politics.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},US_LINEUP:{id:"LIVE_US_LINEUP_MINI",title:"LIVE_US_LINEUP_MINI",live:1,form_type:"Live US Lineup Mini",player_type:"mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/us.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},ASIA_LINEUP:{id:"LIVE_ASIA_LINEUP_MINI",title:"LIVE_ASIA_LINEUP_MINI",live:1,form_type:"Live Asia Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/asia.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},EU_LINEUP:{id:"LIVE_EU_LINEUP_MINI",title:"LIVE_EU_LINEUP_MINI",live:1,form_type:"Live Europe Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/eu.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},AUS_LINEUP:{id:"LIVE_AUS_LINEUP_MINI",title:"LIVE_AUS_LINEUP_MINI",live:1,form_type:"Live Australia Lineup Mini",poster:"https://assets.bwbx.io/images/izrptLrH5AWw/v1/-1x-1.jpg",player_type:"mini",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8?profile=lineup",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/aus.m3u8?group=backup&profile=lineup",type:"application/x-mpegURL"}]}]},TICTOC:{id:"LIVE_TICTOC",title:"LIVE_TICTOC",live:1,form_type:"Live TICTOC",poster:"https://assets.bwbx.io/images/users/iqjWHBFdfxIU/i0Qkr___7gkw/v0/-1x-1.jpg",player_type:"standard",cedexisAppID:"127",cdns:[{weight:1,name:"bvp_manifest",cdn:"manifest",streams:[{url:"https://www.bloomberg.com/media-manifest/streams/tictoc.m3u8",type:"application/x-mpegURL"},{url:"https://www.bloomberg.com/media-manifest/streams/tictoc.m3u8?group=backup",type:"application/x-mpegURL"}]}]}};r.default=n},{"core-js/modules/es.object.define-property":169}],214:[function(e,t,r){"use strict";e("./lib/google-ads/videojs-google-ads"),e("./videojs-plugins/closed-captions/videojs-closed-captions-control"),e("./videojs-plugins/youbora/videojs-youbora"),e("./videojs-plugins/hls/videojs-hls-bridge"),e("./videojs-plugins/hls/videojs-recover-hls-error"),e("./videojs-plugins/share-control-js/videojs-share-control"),e("./videojs-plugins/share-control-js/videojs-share-overlay"),e("./videojs-plugins/videojs-activity-override"),e("./videojs-plugins/videojs-comscore-stream-sense"),e("./videojs-plugins/videojs-moat-ad-viewability"),e("./videojs-plugins/videojs-parsely"),e("./videojs-plugins/videojs-persist-listeners"),e("./videojs-plugins/videojs-playback-outro"),e("./videojs-plugins/videojs-poster"),e("./videojs-plugins/videojs-smooth-scrubbing"),e("./videojs-plugins/videojs-stream-watchdog"),e("./videojs-plugins/videojs-title-bar"),e("./videojs-plugins/tracking/google-tag-manager"),e("./videojs-plugins/triton/TritonSidebandMetadataPlugin"),e("./videojs-plugins/triton/TritonCompanionAdPlugin"),e("./videojs-plugins/ResizePlayer"),e("./videojs-plugins/AutoplayBrowsers"),e("./videojs-plugins/VideoMidroll"),e("./videojs-plugins/MutedOverlay"),e("./videojs-plugins/VideoWatchedTimeUpdate"),e("./videojs-plugins/videojs-fence"),e("./videojs-plugins/RegUIPopUp"),e("./videojs-plugins/ChromeCast"),e("./videojs-plugins/AudioBars"),e("./videojs-plugins/DaiPlugin"),e("./videojs-plugins/videojs-moat-dai-ad-viewability.js"),e("./videojs-plugins/NonInteractiveProgressBar"),e("./videojs-plugins/CustomBufferingComponent"),e("./videojs-plugins/ClosedCaptionsApiPlugin"),e("./videojs-plugins/PlayPauseOverlay"),e("./videojs-plugins/transcript/TranscriptPlugin"),e("./videojs-plugins/viewability/ViewabilityPlugin"),e("./videojs-plugins/viewability/ViewableAdImpressionPlugin"),e("./videojs-plugins/theater-mode/TheaterModePlugin"),e("./videojs-plugins/player-tout/PlayerToutPlugin"),e("./videojs-plugins/fullscreen-control/FullscreenAccessibilityPlugin"),e("./components/live-display/BloombergLiveDisplay"),window._V_=window.videojs,window.BPlayer&&(window.BPlayer.BloombergVideoPlayer=window.BPlayer.BloombergVideoPlayer||e("./lib/bloomberg-video-player"),window.BPlayer.EmbedStrategy=window.BPlayer.EmbedStrategy||e("./strategy/EmbedStrategy"),window.BPlayer.ScriptTagStrategy=window.BPlayer.ScriptTagStrategy||e("./strategy/ScriptTagStrategy"))},{"./components/live-display/BloombergLiveDisplay":218,"./lib/bloomberg-video-player":230,"./lib/google-ads/videojs-google-ads":253,"./strategy/EmbedStrategy":275,"./strategy/ScriptTagStrategy":276,"./videojs-plugins/AudioBars":302,"./videojs-plugins/AutoplayBrowsers":303,"./videojs-plugins/ChromeCast":304,"./videojs-plugins/ClosedCaptionsApiPlugin":305,"./videojs-plugins/CustomBufferingComponent":306,"./videojs-plugins/DaiPlugin":307,"./videojs-plugins/MutedOverlay":308,"./videojs-plugins/NonInteractiveProgressBar":309,"./videojs-plugins/PlayPauseOverlay":310,"./videojs-plugins/RegUIPopUp":311,"./videojs-plugins/ResizePlayer":312,"./videojs-plugins/VideoMidroll":313,"./videojs-plugins/VideoWatchedTimeUpdate":314,"./videojs-plugins/closed-captions/videojs-closed-captions-control":315,"./videojs-plugins/fullscreen-control/FullscreenAccessibilityPlugin":317,"./videojs-plugins/hls/videojs-hls-bridge":320,"./videojs-plugins/hls/videojs-recover-hls-error":323,"./videojs-plugins/player-tout/PlayerToutPlugin":324,"./videojs-plugins/share-control-js/videojs-share-control":326,"./videojs-plugins/share-control-js/videojs-share-overlay":327,"./videojs-plugins/theater-mode/TheaterModePlugin":328,"./videojs-plugins/tracking/google-tag-manager":329,"./videojs-plugins/transcript/TranscriptPlugin":330,"./videojs-plugins/triton/TritonCompanionAdPlugin":334,"./videojs-plugins/triton/TritonSidebandMetadataPlugin":335,"./videojs-plugins/videojs-activity-override":336,"./videojs-plugins/videojs-comscore-stream-sense":337,"./videojs-plugins/videojs-fence":338,"./videojs-plugins/videojs-moat-ad-viewability":339,"./videojs-plugins/videojs-moat-dai-ad-viewability.js":340,"./videojs-plugins/videojs-parsely":341,"./videojs-plugins/videojs-persist-listeners":342,"./videojs-plugins/videojs-playback-outro":343,"./videojs-plugins/videojs-poster":344,"./videojs-plugins/videojs-smooth-scrubbing":345,"./videojs-plugins/videojs-stream-watchdog":346,"./videojs-plugins/videojs-title-bar":347,"./videojs-plugins/viewability/ViewabilityPlugin":348,"./videojs-plugins/viewability/ViewableAdImpressionPlugin":349,"./videojs-plugins/youbora/videojs-youbora":351}],215:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../events/player-events")),p=n(e("../../utils/css-helpers")),s=videojs.getComponent("Component"),f="bvp-audio-bars--playing",h="bvp-audio-bars--paused",m=function(e){function s(e,t){var r;return(0,i.default)(this,s),r=(0,o.default)(this,(0,l.default)(s).call(this,e,t)),e.on(d.default.PLAY,function(){p.default.addClass(r.el(),f),p.default.removeClass(r.el(),h)}),e.on(d.default.PAUSE,function(){p.default.removeClass(r.el(),f),p.default.addClass(r.el(),h)}),r}return(0,c.default)(s,e),(0,a.default)(s,[{key:"createEl",value:function(){for(var e=(0,u.default)((0,l.default)(s.prototype),"createEl",this).call(this,"div",{className:"bvp-audio-bars"}),t=0;t<75;t++){var r=.7*Math.random(),n=1.6*Math.random()+1.5,i=(0,u.default)((0,l.default)(s.prototype),"createEl",this).call(this,"div",{className:"bvp-audio-bars__bar-container",innerHTML:'<div class="bvp-audio-bars__bar" style="animation-delay: '.concat(r,"s; animation-duration: ").concat(n,'s"></div>')});e.appendChild(i)}return e}}]),s}(s);videojs.registerComponent("AudioBarsComponent",m);var b=m;r.default=b},{"../../events/player-events":228,"../../utils/css-helpers":287,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169}],216:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../events/player-events")),p=videojs.getComponent("ChromeCastButton"),f="vjs-chromecast-button--hidden",h=function(e){function n(e,t){var r;return(0,i.default)(this,n),(r=(0,a.default)(this,(0,l.default)(n).call(this,e,t))).player_.on(d.default.SUBSCRIBER_STATUS_CHANGE,r._onSubscriberStatusChange.bind((0,o.default)(r))),r.addClass(f),r}return(0,c.default)(n,e),(0,s.default)(n,[{key:"handleClick",value:function(){var e=this.casting?d.default.STOP_CHROME_CAST:d.default.START_CHROME_CAST;this.player_.trigger(e),(0,u.default)((0,l.default)(n.prototype),"handleClick",this).call(this)}},{key:"_onSubscriberStatusChange",value:function(e){e.data.isBBGSubscriber?this.removeClass(f):this.addClass(f)}}]),n}(p);r.default=h},{"../../events/player-events":228,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],217:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"createEl",value:function(){return this.selector="bvp-fence-subscribe-".concat(Math.floor(1e4*Math.random())),(0,l.default)((0,o.default)(t.prototype),"createEl",this).call(this,"div",{className:"bvp-fence-subscribe",id:this.selector})}}]),t}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],218:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf")),o=n(e("@babel/runtime/helpers/inherits")),l=videojs.getComponent("LiveDisplay"),u=function(e){function n(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,n),t=(0,s.default)(this,(0,a.default)(n).call(this,e,r)),e.options_.hideLiveDisplay&&t.addClass("vjs-live-control--hidden"),t}return(0,o.default)(n,e),n}(l);videojs.registerComponent("BloombergLiveDisplay",u);var c=u;r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],219:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/get")),d=n(e("@babel/runtime/helpers/inherits")),s=n(e("log")),p=n(e("../../utils/projector-utils")),f=n(e("../../events/player-events")),h=n(e("../../events/ad-events")),m=n(e("../../utils/css-helpers")),b=new s.default("MutedOverlayComponent"),v=videojs.getComponent("Component"),y=["_initializeOverlay","_updateSkipState","_clearSkipState"],g="bvp-muted-overlay--skippable",_=function(e){function s(e,t){var r;(0,a.default)(this,s),(r=(0,o.default)(this,(0,u.default)(s).call(this,e,t))).player=e,r.hasBuiltOverlay=!1;for(var n=0;n<y.length;n++){var i=y[n];r[i]=r[i].bind((0,l.default)(r))}return e.ready(r._initializeOverlay),e.on(f.default.ENDED,function(){return r.destroy()}),r}return(0,d.default)(s,e),(0,i.default)(s,[{key:"show",value:function(){this._buildOverlay(),(0,c.default)((0,u.default)(s.prototype),"show",this).call(this)}},{key:"destroy",value:function(){this.hide(),this._clickOverlayEl&&(this._clickOverlayEl.removeEventListener("click",this._unmuteAndLoadContent),this._clickOverlayEl=null)}},{key:"_initializeOverlay",value:function(){this.player_.options_.original_user_options.autoplay?this._buildOverlay():this.hide()}},{key:"_buildOverlay",value:function(){if(!this.hasBuiltOverlay){var e=videojs.createEl("div",{className:"bvp-muted-overlay",innerHTML:'\n                <button class="bvp-muted-overlay__button">\n                    <span class="vjs-control-text">Unmute</span>\n                </button>\n            '});this.el().appendChild(e),this._clickOverlayEl=e;var t=this.player_;this._unmuteAndLoadContent=this._unmuteAndLoadContent.bind(this,t),this._clickOverlayEl.addEventListener("click",this._unmuteAndLoadContent),this.player.on(h.default.SKIP_STATE_CHANGED,this._updateSkipState),this.player.on(h.default.ALL_ADS_COMPLETED,this._clearSkipState),this.player.on(f.default.ADS_TIMEOUT_ERROR,this._clearSkipState),this.player.trigger(f.default.MUTED_OVERLAY_SHOW),this.hasBuiltOverlay=!0}}},{key:"_unmuteAndLoadContent",value:function(e,t){t.stopPropagation(),this.hide(),b.info("Unmute content;"),this.player.trigger(f.default.MUTED_OVERLAY_CLICKED),p.default.canAutoplayAfterAction()&&(b.info("Set autoplayAllowed to true"),p.default.setAutoplayAllowed(!0)),this._unmuteContent(e),this._loadContent(e)}},{key:"_loadContent",value:function(e){var t=e.AdController;t&&t.loadAdAndContent()}},{key:"_unmuteContent",value:function(e){var t=e.AdController;t?t.unmuteAdAndContent():e.muted(!1)}},{key:"_updateSkipState",value:function(e){e.data.adSkipState?m.default.addClass(this._clickOverlayEl,g):this._clearSkipState()}},{key:"_clearSkipState",value:function(){m.default.removeClass(this._clickOverlayEl,g)}}]),s}(v);r.default=_},{"../../events/ad-events":226,"../../events/player-events":228,"../../utils/css-helpers":287,"../../utils/projector-utils":296,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169,log:"log"}],220:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits"));e("./TheaterModeTooltip"),e("./TheaterModeButton");var d=n(e("../../utils/fullscreen")),p=n(e("../../utils/LocalStorage")),f=n(e("../../events/player-events")),h=videojs.getComponent("Component"),m="bvp__tooltip-status",b="closed",v=["_setTooltipCloseStatus","_prepareTooltip","_closeTooltip","_fullScreenChange"];var y=function(e){function n(e,t){var r;return(0,i.default)(this,n),r=(0,a.default)(this,(0,l.default)(n).call(this,e,t)),v.forEach(function(e){return r[e]=r[e].bind((0,o.default)(r))}),p.default.get(m)!==b&&(r._tooltipComponent=r.addChild("TheaterModeTooltip"),r._tooltipComponent.on("close",r._setTooltipCloseStatus),e.on(f.default.ENTER_THEATER_MODE,r._prepareTooltip),e.on(f.default.THEATER_MODE_OFF,r._closeTooltip)),e.on(f.default.FULL_SCREEN_CHANGE,r._fullScreenChange),r}return(0,c.default)(n,e),(0,s.default)(n,[{key:"_fullScreenChange",value:function(){d.default.isInFullScreen()?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}},{key:"createEl",value:function(){return(0,u.default)((0,l.default)(n.prototype),"createEl",this).call(this,"div",{className:"blvs-theater-mode"})}},{key:"_prepareTooltip",value:function(){var e=this;this._showTooltipTimeoutId=setTimeout(function(){return e._tooltipComponent.show()},1e3),this.player_.on(f.default.DISPOSE,function(){return clearTimeout(e._showTooltipTimeoutId)})}},{key:"_setTooltipCloseStatus",value:function(){p.default.set(m,b)}},{key:"_closeTooltip",value:function(){clearTimeout(this._showTooltipTimeoutId),this._tooltipComponent.hide(),this._setTooltipCloseStatus()}}]),n}(h);r.default=y},{"../../events/player-events":228,"../../utils/LocalStorage":278,"../../utils/fullscreen":291,"./TheaterModeButton":221,"./TheaterModeTooltip":222,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169}],221:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../events/player-events")),p=videojs.getComponent("Button"),f="blvs-theater-mode-button--on",h=["_enterTheaterMode","_exitTheaterMode"],m=function(e){function n(e,t){var r;return(0,i.default)(this,n),(r=(0,a.default)(this,(0,l.default)(n).call(this,e,t)))._isTheaterModeButtonClicked=!1,r._isTheaterModeOn=!1,h.forEach(function(e){r[e]=r[e].bind((0,o.default)(r))}),e.on(d.default.ENTER_THEATER_MODE,function(){r._isTheaterModeButtonClicked||r._enterTheaterMode()}),r}return(0,c.default)(n,e),(0,s.default)(n,[{key:"buildCSSClass",value:function(){return"blvs-theater-mode-button blvs-theater-mode-button--shown ".concat((0,u.default)((0,l.default)(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this._isTheaterModeButtonClicked=!0,this._isTheaterModeOn?this._exitTheaterMode():(this.player_.trigger(d.default.THEATER_MODE_ENTER_BUTTON_CLICK),this._enterTheaterMode())}},{key:"_enterTheaterMode",value:function(){this.addClass(f),this.player_.trigger(d.default.THEATER_MODE_ON),this._isTheaterModeOn=!0}},{key:"_exitTheaterMode",value:function(){this.removeClass(f),this.player_.trigger(d.default.THEATER_MODE_OFF),this._isTheaterModeOn=!1}}]),n}(p);r.default=m,videojs.registerComponent("TheaterModeButton",m),m.prototype.controlText_="Theater Mode"},{"../../events/player-events":228,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169}],222:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/get")),d=n(e("@babel/runtime/helpers/inherits")),s=videojs.getComponent("Component"),p="blvs-theater-mode-tooltip--hidden",f="blvs-theater-mode-tooltip__close",h=function(e){function s(){var e,t;(0,a.default)(this,s);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=(0,o.default)(this,(e=(0,u.default)(s)).call.apply(e,[this].concat(n))))._closeTooltip=t._closeTooltip.bind((0,l.default)(t)),t.$(".".concat(f)).addEventListener("click",t._closeTooltip),t}return(0,d.default)(s,e),(0,i.default)(s,[{key:"createEl",value:function(){return(0,c.default)((0,u.default)(s.prototype),"createEl",this).call(this,"div",{className:"blvs-theater-mode-tooltip ".concat(p),innerHTML:'\n                <div class="blvs-theater-mode-tooltip__content">\n                    <span class="blvs-theater-mode-tooltip__title">You\'re in theater mode.</span>\n                    <span class="blvs-theater-mode-tooltip__description">To change streams, turn off theater mode.</span>\n                </div>\n                <div class="blvs-theater-mode-tooltip__close-container">\n                    <button class="'.concat(f,'"><span class="vjs-control-text">Close</span></button>                \n                </div>\n            ')})}},{key:"show",value:function(){return this.removeClass(p),this}},{key:"hide",value:function(){return this.addClass(p),this}},{key:"_closeTooltip",value:function(){this.trigger("close"),this.hide()}}]),s}(s);videojs.registerComponent("TheaterModeTooltip",h);var m=h;r.default=m},{"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169}],223:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../events/player-events")),p=videojs.getComponent("Button"),f="blvs-transcript-button--on",h=["_toggleOn","_toggleOff","_show"],m=function(e){function n(e,t){var r;return(0,i.default)(this,n),r=(0,a.default)(this,(0,l.default)(n).call(this,e,t)),h.forEach(function(e){return r[e]=r[e].bind((0,o.default)(r))}),r._isTranscriptOn=!1,r.player_.on(d.default.INTERNAL_TRANSCRIPT_ON,r._toggleOn),r.player_.on(d.default.INTERNAL_TRANSCRIPT_OFF,r._toggleOff),r.player_.on(d.default.TRANSCRIPT_READY,r._show),r.player_.on(d.default.ENDED,r._toggleOff),r}return(0,c.default)(n,e),(0,s.default)(n,[{key:"buildCSSClass",value:function(){return"blvs-transcript-button ".concat((0,u.default)((0,l.default)(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this._isTranscriptOn=!this._isTranscriptOn,this._setState()}},{key:"_toggleOn",value:function(){this._isTranscriptOn||(this._isTranscriptOn=!0,this._setState())}},{key:"_toggleOff",value:function(){this._isTranscriptOn&&(this._isTranscriptOn=!1,this._setState())}},{key:"_show",value:function(){this.addClass("blvs-transcript-button--shown")}},{key:"_setState",value:function(){this._isTranscriptOn?(this.addClass(f),this.player_.trigger(d.default.TRANSCRIPT_ON)):(this.removeClass(f),this.player_.trigger(d.default.TRANSCRIPT_OFF))}}]),n}(p);(r.default=m).prototype.controlText_="Transcripts"},{"../../events/player-events":228,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169}],224:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=new(n(e("log")).default)("BasicCompanionAdRenderer"),o=function(){function r(e,t){(0,i.default)(this,r),this.containerEl=e,this.adData=t}return(0,s.default)(r,[{key:"render",value:function(){var e=this.adData.parameters.ad_url.split("|")[1];this.containerEl.innerHTML='<iframe class="'.concat("companion-ad-iframe",'" scrolling="no" src="').concat(e,'">')}},{key:"dispose",value:function(){a.debug("Removing companion Ad");var e=this.containerEl.querySelector(".companion-ad-iframe");e&&e.parentNode.removeChild(e)}}]),r}();r.default=o},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187,log:"log"}],225:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-int"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("log")),p=n(e("./BasicCompanionAdRenderer")),f=n(e("../../events/player-events")),h=new d.default("CompanionAdComponent"),m=videojs.getComponent("Component"),b="bvp-companion-ad--visible",v=["_onCompanionAd","_onTimeUpdate"],y=function(e){function n(e,t){var r;return(0,i.default)(this,n),r=(0,a.default)(this,(0,l.default)(n).call(this,e,t)),v.forEach(function(e){return r[e]=r[e].bind((0,o.default)(r))}),r.renderer=null,r.adExpireTime=1/0,r.player=e,r.player.on(f.default.COMPANION_AD,r._onCompanionAd),r.player.on(f.default.TIMEUPDATE,r._onTimeUpdate),r}return(0,c.default)(n,e),(0,s.default)(n,[{key:"createEl",value:function(){return(0,u.default)((0,l.default)(n.prototype),"createEl",this).call(this,"div",{className:"bvp-companion-ad"})}},{key:"dispose",value:function(){this._removeAd(),(0,u.default)((0,l.default)(n.prototype),"dispose",this).call(this)}},{key:"_onCompanionAd",value:function(e){var t=e.data,r=this._playerCurrentTime(),n=parseInt(t.parameters.cue_time_duration,10)||5e3,i=t.timestamp+n;i<r||(h.debug("Showing Companion Ad",t),this._removeAd(),this._showAd(t),this.adExpireTime=i)}},{key:"_onTimeUpdate",value:function(){var e=this._playerCurrentTime();this.adExpireTime<e&&this._removeAd()}},{key:"_playerCurrentTime",value:function(){return 1e3*this.player.currentTime()}},{key:"_showAd",value:function(e){e.parameters.ad_url&&(this.addClass(b),this.renderer=new p.default(this.el(),e),this.renderer.render())}},{key:"_removeAd",value:function(){this.removeClass(b),this.adExpireTime=1/0,this.renderer&&(this.renderer.dispose(),this.renderer=null)}}]),n}(m);r.default=y},{"../../events/player-events":228,"./BasicCompanionAdRenderer":224,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-int":177,log:"log"}],226:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={AD_ALMOST_FINISHED:"AD_ALMOST_FINISHED",AD_CLICKED:"AD_CLICKED",AD_COMPLETED:"AD_COMPLETED",AD_LOAD_ERROR:"AD_LOAD_ERROR",AD_LOAD_TIMED_OUT:"AD_LOAD_TIMED_OUT",AD_LOADING:"AD_LOADING",AD_LOADED:"AD_LOADED",AD_PAUSED:"AD_PAUSED",AD_PLAY_ERROR:"AD_PLAY_ERROR",AD_PLAYBACK_PROGRESS_UPDATE:"AD_PLAYBACK_PROGRESS_UPDATE",AD_PLAYBACK_TIMED_OUT:"AD_PLAYBACK_TIMED_OUT",AD_REQUESTED:"AD_REQUESTED",AD_RESUMED:"AD_RESUMED",AD_STARTED:"AD_STARTED",ADS_FAILURE:"ADS_FAILURE",ADS_READY:"ADS_READY",ALL_ADS_COMPLETED:"ALL_ADS_COMPLETED",CLIP:"clip",CONTENT_PAUSE_REQUESTED:"CONTENT_PAUSE_REQUESTED",CONTENT_RESUME_REQUESTED:"CONTENT_RESUME_REQUESTED",DURATION_CHANGE:"DURATION_CHANGE",MAX_RETRIES_REACHED:"MAX_RETRIES_REACHED",PAUSED:"PAUSED",REQUEST_AD_PAUSE:"REQUEST_AD_PAUSE",REQUEST_AD_PLAY:"REQUEST_AD_PLAY",RESUMED:"RESUMED",STARTED:"STARTED",SKIPPED:"SKIPPED",SKIP_STATE_CHANGED:"SKIP_STATE_CHANGED",AD_FIRST_QUARTILE:"AD_FIRST_QUARTILE",AD_MIDPOINT:"AD_MIDPOINT",AD_THIRD_QUARTILE:"AD_THIRD_QUARTILE",AD_VOLUME_CHANGE:"AD_VOLUME_CHANGE"};r.default=n},{"core-js/modules/es.object.define-property":169}],227:[function(e,t,r){"use strict";t.exports={AdVideoStart:"AdVideoStart",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdVolumeChange:"AdVolumeChange",AdStopped:"AdStopped"}},{}],228:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={AD_LOADING:"adloading",ADS_LOAD_ERROR:"adsloaderror",ADS_LOAD_TIMEOUT:"adsloadtimeout",ADS_PLAY_ERROR:"adsplayerror",ADS_PLAY_TIMEOUT:"adsplaytimeout",ADS_TIMEOUT_ERROR:"adstimeouterror",BITRATE_CHANGE:"bitrateChange",BUFFER:"buffer",CONTENT_CHANGE:"contentchange",DISMISS_SHARE:"dismissShare",DISPOSE:"dispose",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",FATAL_ERROR:"fatalError",FULL_SCREEN_CHANGE:"fullscreenchange",HLS_BRIDGE_ERROR:"hlsBridgeError",HLS_BRIDGE_FATAL_ERROR:"hlsBridgeFatalError",HLS_CUE_IN:"hlsCueIn",HLS_CUE_OUT:"hlsCueOut",HLS_CUE_OUT_LOADED:"hlsCueOutLoaded",LOADED_METADATA:"loadedmetadata",LOADED_METADATA_SHIM:"loadedmetadata_shim",PAUSE:"pause",PLAY:"play",PLAY_PREROLL:"playPreroll",PREPARED_MIDROLL:"preparemidroll",READY:"ready",REQUEST_SHARE:"requestShare",RETRY:"retry",SEEK_START:"seekStart",SHARE:"share",SHARE_ACTION:"share_action",START_MIDROLL:"startmidroll",TIMEUPDATE:"timeupdate",TRACK_INFO:"track-info",USER_ACTIVE:"useractive",USER_INACTIVE:"userinactive",VOLUME_CHANGE:"volumechange",WATCHDOG_RELOAD:"watchdogreload",BVP_VOLUME_CHANGE:"bvp_volumechange",CONTINUOUS_PLAY_START:"continuousPlayStart",COMPANION_AD:"companionAd",VIDEO_CHANGE:"videoChange",REPLAY:"replay",MUTED_OVERLAY_SHOW:"mutedOverlayShow",MUTED_OVERLAY_CLICKED:"mutedOverlayClicked",PAY_WALL_PLAY:"payWallPlay",PAY_WALL_PAUSE:"payWallPause",SUBSCRIBER_STATUS_CHANGE:"subscriberStatusChange",REG_UI_POP_UP_SHOWN:"reg-ui-show-pop-up",REG_UI_POP_UP_CLOSED:"reg-ui-close-pop-up",START_CHROME_CAST:"startChromeCast",STOP_CHROME_CAST:"stopChromeCast",SHOW_CLOSED_CAPTIONS:"showClosedCaptions",HIDE_CLOSED_CAPTIONS:"hideClosedCaptions",TRANSCRIPT_READY:"transcriptReady",INTERNAL_TRANSCRIPT_ON:"interNalTranscriptOn",INTERNAL_TRANSCRIPT_OFF:"internalTranscriptOff",TRANSCRIPT_ON:"transcriptOn",TRANSCRIPT_OFF:"transcriptOff",THEATER_MODE_ON:"theaterModeOn",THEATER_MODE_OFF:"theaterModeOff",ENTER_THEATER_MODE:"enterTheaterMode",THEATER_MODE_ENTER_BUTTON_CLICK:"theaterModeEnterButtonClick",PLAYER_TOUT_ON:"playerToutOn",VIEWABLE:"viewable",UNVIEWABLE:"unviewable",WILL_PLAY:"willPlay"};r.default=n},{"core-js/modules/es.object.define-property":169}],229:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={ALL_ITEMS_PLAYED:"ALL_ITEMS_PLAYED",ITEM_LOAD:"ITEM_LOAD",ITEM_PRELOAD:"ITEM_PRELOAD",ITEM_UNLOAD:"ITEM_UNLOAD",RESIZE:"resize",SLIDE_CLICK:"SLIDE_CLICK",STARTED:"STARTED",TRANSITION_CANCEL:"TRANSITION_CANCEL",TRANSITION_END:"TRANSITION_END",TRANSITION_SKIP:"TRANSITION_SKIP",RESUME:"RESUME"};r.default=n},{"core-js/modules/es.object.define-property":169}],230:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.object.to-string");function s(e,t,r){return void 0===r?[e,t]:[e,t,r]}function a(){}var o=n(e("@babel/runtime/helpers/toConsumableArray")),l=n(e("@babel/runtime/helpers/typeof")),u=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),c=n(e("../events/ad-events")),d=n(e("../lib/google-ads/ad-utils")),p=n(e("../utils/projector-utils")),f=n(e("../events/player-events")),h=n(e("log")),m=n(e("error-report")),b=new h.default("BloombergVideoPlayer"),v="AdController",y=[f.default.ADS_TIMEOUT_ERROR,c.default.ALL_ADS_COMPLETED],g=Symbol("eventHandlers"),_=Symbol("readyHandlers"),j=Symbol("triggerHandlers"),C=Symbol("strategyPromise"),A="GoogleAdsPlugin",E=function(){function r(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0,t=2<arguments.length?arguments[2]:void 0;(0,u.default)(this,r),this.disposed=!1,this._hasContentStarted=!1,this.player=null,this.userOptions=e,this[g]=[],this[_]=[],this[j]=[],i=i||{onReady:a,onError:a},this._onVolumeChange=this._onVolumeChange.bind(this),this[C]=t.run().then(function(e){if(!n.disposed){var t;for(e.options_.plugins.hasOwnProperty(A)&&d.default.hasPreroll(e.options_.plugins[A])&&n.setIsAdPlaying(!0),n.player=e,"function"===(0,l.default)(i.onReady)&&i.onReady.call(n.player,n.player);t=n[_].pop();)n.player.ready(t.handler,t.sync);for(;t=n[g].pop();){var r;(r=n.player).on.apply(r,(0,o.default)(s(t.first,t.second,t.third)))}for(;t=n[j].pop();)n.player.trigger(t.type,t.eventDetails);return t=null,n.player.on(c.default.AD_STARTED,function(){return n.setIsAdPlaying(!0)}),n.player.on(y,function(){return n.setIsAdPlaying(!1)}),n.player.on(f.default.REQUEST_SHARE,function(){return n.setIsShareShowing(!0)}),n.player.on(f.default.DISMISS_SHARE,function(){return n.setIsShareShowing(!1)}),n.player.on(f.default.PLAY,function(){n.player.trigger(f.default.WILL_PLAY),n._hasContentStarted=!0}),n.userOptions.autoplay&&setTimeout(function(){return n.player.trigger(f.default.WILL_PLAY)},0),n.player.on(f.default.VOLUME_CHANGE,n._onVolumeChange),n.player.on(f.default.PAY_WALL_PLAY,n.play.bind(n)),n.player.on(f.default.PAY_WALL_PAUSE,n.pause.bind(n)),n.player.on(f.default.REG_UI_POP_UP_SHOWN,n.pause.bind(n)),n.player.on(f.default.REG_UI_POP_UP_CLOSED,n.play.bind(n)),e}},function(e){"function"===(0,l.default)(i.onError)&&i.onError(e),m.default.recordGenericError(b,e)}),this.dispose=this.dispose.bind(this),window.addEventListener("unload",this.dispose)}return(0,i.default)(r,[{key:"isAdPlaying",value:function(){return this.adStatus}},{key:"setIsAdPlaying",value:function(e){this.adStatus=e}},{key:"isShareShowing",value:function(){return this.shareStatus}},{key:"setIsShareShowing",value:function(e){this.shareStatus=e}},{key:"getId",value:function(){return this.userOptions.id}},{key:"getPlaylistIndex",value:function(){return this.userOptions.playlistIndex}},{key:"getHtmlChildId",value:function(){return this.userOptions.htmlChildId}},{key:"setAutoplay",value:function(e){this.player&&this.player.hasOwnProperty(v)&&this.player[v].setAutoplay(e),this.userOptions.autoplay=e}},{key:"isAutoplay",value:function(){return Boolean(this.userOptions.autoplay)}},{key:"play",value:function(){this.trigger(f.default.WILL_PLAY);var e=this.player;if(this.isAdPlaying()){var t=e[v];if(!t)return;return p.default.isAutoplayDisabledBrowser()&&!t.isAdStarted()&&(t.muteAdAndContent(),this._showMutedOverlay()),t.setAutoplay(!0),void e.trigger({type:c.default.REQUEST_AD_PLAY})}e&&!this.isShareShowing()&&(!this._hasContentStarted&&p.default.isAutoplayDisabledBrowser()&&(e.muted(!0),this._showMutedOverlay()),e.play())}},{key:"_showMutedOverlay",value:function(){this.player.MutedOverlayComponent&&this.player.MutedOverlayComponent.show()}},{key:"_hideMutedOverlay",value:function(){this.player.MutedOverlayComponent&&this.player.MutedOverlayComponent.destroy()}},{key:"pause",value:function(){this.isAdPlaying()?this.player.trigger({type:c.default.REQUEST_AD_PAUSE}):this.player&&this.player.pause()}},{key:"mute",value:function(){if(this.isAdPlaying()){var e=this.player[v];if(!e)return;e.muteAdAndContent()}else this.player&&this.player.muted(!0)}},{key:"unmute",value:function(){if(this.isAdPlaying()){var e=this.player[v];if(!e)return;return e.unmuteAdAndContent(),void this._hideMutedOverlay()}this.player&&(this.player.muted(!1),this._hideMutedOverlay())}},{key:"ready",value:function(e,t){if(e){if(this.player)return this.player.ready(e,t),this[C];this[_].push({handler:e,sync:t})}return this[C]}},{key:"dispose",value:function(){this.disposed=!0,this.player&&this.player.dispose(),this.player=this.userOptions=null,this[g]=null,this[_]=null,this[j]=null,window.removeEventListener("unload",this.dispose)}},{key:"on",value:function(e,t,r){var n;this.player?(n=this.player).on.apply(n,(0,o.default)(s(e,t,r))):this[g].push({first:e,second:t,third:r});return this}},{key:"off",value:function(e,t,r){var n;this.player&&(n=this.player).off.apply(n,(0,o.default)(s(e,t,r)));return this}},{key:"trigger",value:function(e,t){return this.player?this.player.trigger(e,t):(this[j].push({type:e,eventDetails:t}),this)}},{key:"trackInfo",value:function(e){this.trigger("track-info",e)}},{key:"isPlaying",value:function(){return p.default.isAdOrContentPlaying(this.player)}},{key:"showClosedCaptions",value:function(){this.player.trigger(f.default.SHOW_CLOSED_CAPTIONS)}},{key:"hideClosedCaptions",value:function(){this.player.trigger(f.default.HIDE_CLOSED_CAPTIONS)}},{key:"isMuted",value:function(){var e=this.player,t=e.player_&&e.player_.tech_&&e.player_.tech_.el_;return t?t.muted:e.volume()}},{key:"_onVolumeChange",value:function(){var e=this.player;e.trigger({type:f.default.BVP_VOLUME_CHANGE,data:{volume:e.volume(),muted:this.isMuted()}})}},{key:"transcriptOn",value:function(){this.player&&this.player.trigger(f.default.INTERNAL_TRANSCRIPT_ON)}},{key:"transcriptOff",value:function(){this.player&&this.player.trigger(f.default.INTERNAL_TRANSCRIPT_OFF)}},{key:"transcript",value:function(){return this.player?this.player._bbTranscript:null}},{key:"currentTime",value:function(){if(this.player)return this.player.currentTime()}}]),r}();t.exports=E},{"../events/ad-events":226,"../events/player-events":228,"../lib/google-ads/ad-utils":242,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":21,"@babel/runtime/helpers/typeof":22,"core-js/modules/es.object.to-string":175,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190,"error-report":"error-report",log:"log"}],231:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.sort"),e("core-js/modules/es.date.to-iso-string"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.parse-float"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/slicedToArray")),s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("../xml-utils-js")),l=n(e("./video-stream")),u=n(e("./caption")),c=n(e("./comscore-metadata")),d=n(e("../../utils/memoizer")),p=n(e("../projector-settings-js/poster-size")),f="/bmObject/bmContents/bmContent/descriptions/description/ExtensionGroup/bmBloombergCustom",h="/bmObject/bmContents/bmContent/descriptions/description/bmContentDescription/alternativeTitle",m={resourceID:"/bmObject/resourceID",durationMSec:f+"/durationMSec",createdUnixUTC:f+"/createdUnixUTC",showName:f+"/showName",thumbnails:f+"/thumbnails",niCodes:f+"/NiCodes",comscore:{nt_st_ep:f+"/comscore/nt_st_ep",bb_pub_d:f+"/comscore/bb_pub_d",ns_st_ty:f+"/comscore/ns_st_ty",c5:f+"/comscore/C5"},web_title:h+'[@typeDefinition="web_title"]',mobile_title:h+'[@typeDefinition="mobile_title"]',avmm_media_title:h+'[@typeDefinition="avmm_media_title"]',terminal_story_title:h+'[@typeDefinition="terminal_story_title"]',seo_title:h+'[@typeDefinition="seo_title"]',keywords:f+"/seoKeywords",peopleCodes:f+"/peopleCodes"},b=Symbol("bmmrResponse"),v=Symbol("xmlObject"),y=function(){function n(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if((0,s.default)(this,n),!t||!t.xml)throw new Error("Invalid BMMR response passed.");var r=o.default.removeXmlNamespaces(t.xml);this[b]=t,this[v]=o.default.parseXml(r),this.getId=d.default.memoize(function(e){var t=m.resourceID;return o.default.getTextForXPath(e,t)}.bind(null,this[v])),this.getTitle=d.default.memoize(function(e){return function(e,t){var r=t.web_title;return o.default.getTextForXPath(e,r)}(e,m)||function(e,t){var r=t.mobile_title;return o.default.getTextForXPath(e,r)}(e,m)||function(e,t){var r=t.avmm_media_title;return o.default.getTextForXPath(e,r)}(e,m)||function(e,t){var r=t.terminal_story_title;return o.default.getTextForXPath(e,r)}(e,m)||function(e,t){var r=t.seo_title;return o.default.getTextForXPath(e,r)}(e,m)||function(e,t){var r=t.nt_st_ep;return o.default.getTextForXPath(e,r)}(e,m)||""}.bind(null,this[v])),this.getDuration=d.default.memoize(function(e){var t=m.durationMSec;return parseInt(o.default.getTextForXPath(e,t),10)}.bind(null,this[v])),this.getCreateDate=d.default.memoize(function(e){var t=m.createdUnixUTC,r=parseInt(o.default.getTextForXPath(e,t),10),n=new Date(1e3*r);return isNaN(n)?null:n.toISOString().slice(0,10)}.bind(null,this[v])),this.getShowName=d.default.memoize(function(){return function(e){var t=m.showName;return o.default.getTextForXPath(e,t)}(e[v])||function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return"Series"===e.type}),t=1===e.length?e:e.filter(function(e){var t=e.id;return!_[t]}),r=(0,i.default)(t,1)[0];return(r=void 0===r?{}:r).id||""}(e.getContentTags())}),this.getNiCodes=d.default.memoize(function(e){var t=m.niCodes,r=o.default.getNodeForXPath(e,t);return(r?g(r.childNodes):[]).reduce(function(e,t){var r=g(t.childNodes);return e.push(r.reduce(function(e,t){return e[t.nodeName]=o.default.getTextForNode(t),e},{})),e},[])}.bind(null,this[v])),this.getComscoreMetadata=d.default.memoize(function(e){var t=m.comscore,r=void 0===t?{}:t;return new c.default({ntStEp:o.default.getTextForXPath(e,r.nt_st_ep),nsStTy:o.default.getTextForXPath(e,r.ns_st_ty),c5:o.default.getTextForXPath(e,r.c5),bbPubD:o.default.getTextForXPath(e,r.bb_pub_d)})}.bind(null,this[v])),this.getCaptions=d.default.memoize(function(e){var t=e.captions;return t?[new u.default({url:t})]:[]}.bind(null,this[b])),this.getStreams=d.default.memoize(function(e,t){var r=e.secureStreams,n=e.streams;return(t&&r&&r.length?r:n).map(function(e){return new l.default(e)})}.bind(null,this[b])),this.getImages=d.default.memoize(function(e){var n=e.thumbnail.images;return Object.keys(n).reduce(function(e,t){var r=n[t];return e.push({url:r.url[0],width:parseInt(r.width,10),height:parseInt(r.height,10)}),e},[])}.bind(null,this[b])),this.getKeywords=d.default.memoize(function(e){var t=m.keywords,r=o.default.getNodeForXPath(e,t);return(r?g(r.childNodes):[]).map(function(e){return e.textContent})}.bind(null,this[v])),this.getPeoples=d.default.memoize(function(e){var t=m.peopleCodes,r=o.default.getNodeForXPath(e,t);return(r?g(r.childNodes):[]).map(function(e){return g(e.childNodes).reduce(function(e,t){return e[t.nodeName]=o.default.getTextForNode(t),e},{})})}.bind(null,this[v]))}return(0,a.default)(n,[{key:"getCedexisAppID",value:function(){return this[b].cedexisAppID}},{key:"getCompressedID",value:function(){return this[b].compressed_id}},{key:"getAdTag",value:function(){return this[b].ad_tag}},{key:"getPrerollAdUnit",value:function(){return this[b].preroll_ad_unit}},{key:"getRawNiData",value:function(){return this[b].ni}},{key:"getPosterTemplateImage",value:function(){var e=this.getImages();if(!e)return null;for(var t=0;t<e.length;t++){var r=e[t].url;if(p.default.isTemplateImage(r))return r}return null}},{key:"getContentTags",value:function(){return(this[b].metadata||{}).contentTags}},{key:"getSites",value:function(){return(this[b].metadata||{}).sites}},{key:"getAdCuePoints",value:function(){return this[b].adCuePoints?this[b].adCuePoints.split(",").map(function(e){return parseFloat(e)}).sort(function(e,t){return e-t}):[]}}]),n}();function g(e){return Array.prototype.slice.call(e)}var _={"digital-originals":!0,"tv-shows":!0,"video-series":!0};var j=y;r.default=j},{"../../utils/memoizer":294,"../projector-settings-js/poster-size":259,"../xml-utils-js":266,"./caption":233,"./comscore-metadata":234,"./video-stream":235,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/slicedToArray":19,"core-js/modules/es.array.filter":148,"core-js/modules/es.array.map":156,"core-js/modules/es.array.reduce":157,"core-js/modules/es.array.slice":158,"core-js/modules/es.array.sort":160,"core-js/modules/es.date.to-iso-string":162,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.parse-float":176,"core-js/modules/es.parse-int":177,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190}],232:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.starts-with"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=e("bvp-shims"),l=n(e("./bmmr-asset-js")),s=n(e("log")),u=n(e("error-report")),c=n(e("load-timer")),d=new s.default("BmmrLoader"),p=function(){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,s);var t=e.serverUrl,r=e.id,n=e.idType,i=e.htmlChildId;if(!t||!r)throw new Error("BmmrLoader Missing required options. Please check that serverUrl and id are supplied.");this.isLive=Boolean(e.live),this.url="".concat(t,"?id=").concat(r,"&version=").concat(o.version),this.htmlChildId=i,this.url.startsWith("//")&&(this.url="https:"+this.url),n&&(this.url+="&idType=".concat(n))}return(0,i.default)(s,null,[{key:"load",value:function(e){return new s(0<arguments.length&&void 0!==e?e:{}).loadBmmrMetadata()}}]),(0,i.default)(s,[{key:"loadBmmrMetadata",value:function(){var r=this;if(this.isLive)return Promise.reject(new Error("BmmrLoader Live video flag is set"));return c.default.trackLoadStart(this.htmlChildId,c.default.loadTypes.BMMR,this.url),fetch(this.url,{mode:"cors",credentials:"same-origin",cache:"no-cache"}).then(this.handleBmmrResponse.bind(this)).then(function(e){var t=new l.default(e);return c.default.trackLoadComplete(r.htmlChildId,c.default.loadTypes.BMMR,c.default.loadStatus.COMPLETE),t}).catch(function(e){u.default.recordLoadError(d,r.url,e),c.default.trackLoadComplete(r.htmlChildId,c.default.loadTypes.BMMR,c.default.loadStatus.ERROR)})}},{key:"handleBmmrResponse",value:function(e){if(200!==e.status)throw new Error("BmmrLoader Unable to load BMMR metadata for ".concat(this.url," with status ").concat(e.status));return e.json()}}]),s}();r.default=p},{"./bmmr-asset-js":231,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-shims":"bvp-shims","core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.string.starts-with":188,"error-report":"error-report","load-timer":"load-timer",log:"log"}],233:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=function(){function n(e){var t=e.url,r=void 0===t?null:t;(0,i.default)(this,n),this.url=r}return(0,s.default)(n,[{key:"getUrl",value:function(){return this.url}}]),n}();r.default=a},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],234:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),s=function(){function u(e){var t=e.ntStEp,r=void 0===t?null:t,n=e.nsStTy,i=void 0===n?null:n,s=e.bbPubD,a=void 0===s?null:s,o=e.c5,l=void 0===o?null:o;(0,c.default)(this,u),this.ntStEp=r,this.nsStTy=i,this.bbPubD=a,this.c5=l}return(0,i.default)(u,[{key:"getNtStEp",value:function(){return this.ntStEp}},{key:"getNsStTy",value:function(){return this.nsStTy}},{key:"getBbPubD",value:function(){return this.bbPubD}},{key:"getC5",value:function(){return this.c5}}]),u}();r.default=s},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],235:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-int"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var T=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),s=function(){function S(e){var t=e.video_codec,r=void 0===t?null:t,n=e.muxing_format,i=void 0===n?null:n,s=e.video_bitrate,a=void 0===s?0:s,o=e.audio_codec,l=void 0===o?null:o,u=e.audio_bitrate,c=void 0===u?null:u,d=e.profile,p=void 0===d?null:d,f=e.stream_type,h=void 0===f?null:f,m=e.url,b=void 0===m?null:m,v=e.height,y=void 0===v?null:v,g=e.width,_=void 0===g?null:g,j=e.file_size,C=void 0===j?null:j,A=e.percent,E=void 0===A?null:A,P=e.cedexis_platform,w=void 0===P?null:P;(0,T.default)(this,S),this.videoCodec=r,this.videoBitrate=a?parseInt(a,10):a,this.audioCodec=l,this.audioBitrate=c?parseInt(c,10):c,this.muxingFormat=i,this.profile=p,this.streamType=h,this.url=b,this.height=y?parseInt(y,10):y,this.width=_?parseInt(_,10):_,this.fileSize=C?parseInt(C,10):C,this.percent=E?parseInt(E,10):E,this.cedexisPlatform=w}return(0,i.default)(S,[{key:"getVideoCodec",value:function(){return this.videoCodec}},{key:"getMuxingFormat",value:function(){return this.muxingFormat}},{key:"getVideoBitrate",value:function(){return this.videoBitrate}},{key:"getAudioCodec",value:function(){return this.audioCodec}},{key:"getAudioBitrate",value:function(){return this.audioBitrate}},{key:"getProfile",value:function(){return this.profile}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getUrl",value:function(){return this.url}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getFileSize",value:function(){return this.fileSize}},{key:"getPercent",value:function(){return this.percent}},{key:"isSecure",value:function(){return this.url&&"https"===this.url.slice(0,5)}},{key:"toJSON",value:function(){return{url:this.url,type:this.streamType,bitrate:this.videoBitrate,percent:this.percent}}}]),S}();r.default=s},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.slice":158,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-int":177}],236:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.join"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/defineProperty")),c=n(e("../../utils/projector-utils")),d=n(e("./ad-controls")),p=n(e("../../events/player-events")),f=n(e("../../events/ad-events")),h=n(e("../../utils/persist-controls")),s=n(e("../../utils/css-helpers")),a=n(e("./ad-preroll")),m=n(e("./ad-midroll")),b=n(e("./ad-utils")),o=n(e("log")),v=e("bvp-constant"),y=new o.default("AdController"),g=function(){function o(e,t){var s=this;(0,l.default)(this,o),(0,u.default)(this,"videoTag",void 0),(0,u.default)(this,"player",void 0),(0,u.default)(this,"currentAdStarted",void 0),(0,u.default)(this,"isMobile",void 0),(0,u.default)(this,"isAdPlayable",void 0),(0,u.default)(this,"isLive",void 0),(0,u.default)(this,"playerWidth",void 0),(0,u.default)(this,"playerHeight",void 0),(0,u.default)(this,"animationFrameId",void 0),(0,u.default)(this,"muteStatus",void 0),(0,u.default)(this,"config",void 0),(0,u.default)(this,"adDimensions",void 0),(0,u.default)(this,"adUnit",void 0),(0,u.default)(this,"adControls",void 0),(0,u.default)(this,"volume",void 0),(0,u.default)(this,"googleIma",void 0),(0,u.default)(this,"adHTMLContainer",void 0),(0,u.default)(this,"adDisplayContainer",void 0),(0,u.default)(this,"adsLoader",void 0),(0,u.default)(this,"_isGoingToAutoplay",void 0),(0,u.default)(this,"_pausedForViewability",!1),(0,u.default)(this,"playMidroll",function(e){if(!(s.adUnit||s.player.paused()||s.player.options_.isPlayingDai)){var t=s.player.muted();s.isAdPlayable=!0,s.setMuteStatus(t),s.fetchMidroll(e)}}),(0,u.default)(this,"fetchMidroll",function(e){s.prepareForAd(),y.info("fetch midroll is called with the event",e),e&&e.data&&(0<e.data.duration>>0&&(s.config.midrollMaxDuration=1e3*e.data.duration));var t=s.muteStatus?0:s.volume;s.adUnit=new m.default(s._createFetchOptions(),s.adDimensions,s.videoTag,s.player,t),s.fetchAd()}),(0,u.default)(this,"_requestAd",function(){y.info("Requesting Ad",s._getAdType()),s.adControls.show(),s._initializeAdDisplayContainer(),s.adUnit.on([f.default.MAX_RETRIES_REACHED,f.default.AD_PLAYBACK_TIMED_OUT,f.default.AD_LOAD_TIMED_OUT].join(),s.onAdsTimedOut).on(f.default.AD_COMPLETED,s.onAdComplete).on(f.default.AD_LOADED,s.onAdLoaded).on(f.default.AD_LOADING,s.onAdLoading).on(f.default.AD_PAUSED,s.onAdPause).on(f.default.AD_PLAY_ERROR,s.onAdPlayError).on(f.default.AD_PLAYBACK_PROGRESS_UPDATE,s.onPlaybackStatusUpdate).on(f.default.AD_RESUMED,s.onAdResume).on(f.default.AD_STARTED,s.onAdStart).on(f.default.ALL_ADS_COMPLETED,s.onAllAdsComplete).on(f.default.CONTENT_PAUSE_REQUESTED,s.onContentPauseRequested).on(f.default.DURATION_CHANGE,s.onDurationChange).on(f.default.SKIPPED,s.onAdSkipped).on(f.default.SKIP_STATE_CHANGED,s.onAdSkipStateChange),s.adUnit.fetchAd(),setTimeout(s._sendAdRequestTracking.bind(s),0)}),(0,u.default)(this,"onAdLoaded",function(e){y.info("onAdLoaded is called");var t=s.adUnit.getAdController();s.player.trigger({type:f.default.AD_LOADED,data:{adsManager:t.adsManager,adContainer:t.adContainer,viewMode:t.viewMode,adType:s._getAdType(),custParams:s.adUnit.fromConfig("custParams"),isLive:s.isLive,duration:e.detail.data.duration,title:e.detail.data.title,mediaUrl:e.detail.data.mediaUrl,impressionId:e.detail.data.impressionId}}),s.updatePlayerUIForAd()}),(0,u.default)(this,"onAdLoading",function(){s.player.trigger({type:p.default.AD_LOADING})}),(0,u.default)(this,"onAdStart",function(e){s.hideBufferingAnimation(),y.info("Ad started"),s.monitorAdSizeStart(),s.player.trigger({type:f.default.CLIP,data:e.detail.data}),s.currentAdStarted=!0,s.showAdControls(),s.adControls.setPlayStatus(d.default.playStatus.PLAYING),s.player.trigger({type:f.default.AD_STARTED,data:e.detail.data})}),(0,u.default)(this,"onAdResume",function(e){s.adControls.setPlayStatus(d.default.playStatus.PLAYING),s.player.trigger({type:f.default.AD_RESUMED,data:e.detail.data})}),(0,u.default)(this,"onAdPause",function(e){s.adControls.setPlayStatus(d.default.playStatus.PAUSED),s.player.trigger({type:f.default.AD_PAUSED,data:e.detail.data})}),(0,u.default)(this,"onAdPlayError",function(e){s.hideBufferingAnimation(),s.monitorAdSizeEnd(),s.player.trigger(p.default.ADS_PLAY_ERROR,e)}),(0,u.default)(this,"onAdPlayRequest",function(){if(s.isAdPlayable=!0,s.adUnit){var e=s.player.options_,t=e.isViewable,r=e.passedViewableAdImpressionCheck;if(!t&&!r)return s._pausedForViewability=!0,void y.info("Player unviewable. Ad play request cancelled");s._pausedForViewability=!1,s.currentAdStarted?s.adUnit.resume():s.adUnit.startAd()}else s.fetchPreroll({autoPlay:!1})}),(0,u.default)(this,"onAdPauseRequest",function(){s._pausedForViewability=!1,s._onAdPauseRequest()}),(0,u.default)(this,"_onAdPauseRequest",function(){s.adUnit&&s.adUnit.pause(),!s.isMobile&&s.isAdPlayable&&(s.isAdPlayable=!1,s.hideBufferingAnimation(),s.adControls.setPlayStatus(d.default.playStatus.PLAYING),s.adControls.setPlayStatus(d.default.playStatus.PAUSED))}),(0,u.default)(this,"onContentPauseRequested",function(){s._getAdType()!==v.AD_TYPES.PREROLL&&(y.debug("onContentPauseRequested is called"),s.isLive?s.player.muted(!0):s.player.pause())}),(0,u.default)(this,"onDurationChange",function(e){var t=e.detail.duration;s.player.trigger({type:p.default.DURATION_CHANGE,data:t})}),(0,u.default)(this,"onPlaybackStatusUpdate",function(e){var t=e.detail.data,r=t.remainingTime,n=t.elapsedTime,i=t.duration;s.adControls.setAdCountdownTime(r,n,i),s.player.trigger({type:f.default.AD_PLAYBACK_PROGRESS_UPDATE,data:e.detail.data}),r<=s.player.options_.adAlmostFinishedThreshold&&s.player.tech_.trigger(f.default.AD_ALMOST_FINISHED)}),(0,u.default)(this,"onAdSkipped",function(e){var t=e.detail?e.detail.data:{};s.player.trigger({type:f.default.SKIPPED,data:t})}),(0,u.default)(this,"onAdSkipStateChange",function(e){var t=e.detail.data.adSkipState;s.player.trigger({type:f.default.SKIP_STATE_CHANGED,data:{adSkipState:t}})}),(0,u.default)(this,"onAdComplete",function(e){var t=e.detail?e.detail.data:{};s.player.trigger({type:f.default.AD_COMPLETED,data:t})}),(0,u.default)(this,"onAllAdsComplete",function(e){s.monitorAdSizeEnd(),s.player.trigger({type:f.default.ALL_ADS_COMPLETED,data:e.detail.data}),s.destroy(),s.switchToContent()}),(0,u.default)(this,"onAdsTimedOut",function(e){y.info("onAdsTimedOut"),s.player.trigger({type:p.default.ADS_TIMEOUT_ERROR,data:{originalEvent:e,adType:e.detail.data.adType}}),s.destroy(),s.isAdPlayable&&s.switchToContent()}),(0,u.default)(this,"onVolumeChange",function(e){s.volume=e.detail.volume,h.default.set("volume",s.volume),s.setMuteStatus(e.detail.muted),0<s.volume&&s.player.volume(s.volume),s.setAdVolume(s.volume,s.muteStatus)}),(0,u.default)(this,"onFullscreen",function(){s.adUnit&&(s.monitorAdSizeEnd(),s.adUnit.resize(window.screen.width,window.screen.height,s.googleIma.ViewMode.FULLSCREEN))}),(0,u.default)(this,"onExitFullscreen",function(){s.adUnit&&(s.monitorAdSizeStart(),s.adUnit.resize(s.playerWidth,s.playerHeight,s.googleIma.ViewMode.NORMAL))}),(0,u.default)(this,"onPlayerResize",function(){if(s.adUnit){var e=s.player.el().getBoundingClientRect(),t=e.width,r=e.height;s.playerHeight!=r&&s.playerWidth!=t&&(s.playerHeight=r,s.playerWidth=t,s.adUnit.resize(t,r,s.googleIma.ViewMode.NORMAL)),s.monitorAdSizeEnd(),s.monitorAdSizeStart()}}),(0,u.default)(this,"_triggerWillPlay",function(){s.player.trigger(p.default.WILL_PLAY)}),this.destroy=this.destroy.bind(this),this.prerollForAutoplayDisabledBrowser=this.prerollForAutoplayDisabledBrowser.bind(this);var r=b.default.hasPreroll(e),n=b.default.hasMidroll(e);if(r||n){var i=t.el().getBoundingClientRect(),a=t.options_.original_user_options;this.videoTag=null,this.player=t,this.currentAdStarted=null,this.isMobile=c.default.isMobile(),this.isAdPlayable=Boolean(a.autoplay||e.forcePlay),this.isLive=a.live,this.playerWidth=i.width,this.playerHeight=i.height,this.animationFrameId=null,this.muteStatus=t.options_.muted,this.config=e,this.adDimensions=null,this.adUnit=null,this.player.on(f.default.REQUEST_AD_PLAY,this.onAdPlayRequest),this.player.on(f.default.REQUEST_AD_PAUSE,this.onAdPauseRequest),this.player.on(p.default.DISPOSE,this.destroy),this.volume=this.getPlayerVolume(),this.adControls=this.createAdControls(),this.adControls.one(d.default.events.AD_REQUEST,this._triggerWillPlay),this._setupViewability(),this.googleIma=window.google.ima,this.adHTMLContainer=this.player.el().querySelector(".bvp-ad__content"),this.adDisplayContainer=new this.googleIma.AdDisplayContainer(this.adHTMLContainer),this.adsLoader=new this.googleIma.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(this.googleIma.ImaSdkSettings.VpaidMode.ENABLED),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this._isGoingToAutoplay=this.isAdPlayable||a.isPlaylistPreloadedPlayer,r?this.setupPreroll():this.destroy(),n&&this.setupMidroll()}}return(0,i.default)(o,[{key:"_initializeAdDisplayContainer",value:function(){c.default.needDirectUserActionToPlay()&&this._getAdType()===v.AD_TYPES.PREROLL&&this.videoTag.load(),this.adDisplayContainer.initialize()}},{key:"setupMidroll",value:function(){this.player.tech_.on(p.default.HLS_CUE_OUT,this.playMidroll)}},{key:"setupPreroll",value:function(){this.prepareForAd(),c.default.isActionRequiredToPlayAd(this.muteStatus,this.player.options_)?this.adControls.one(d.default.events.AD_REQUEST,this.prerollForAutoplayDisabledBrowser):this.preRollForDesktop()}},{key:"preRollForDesktop",value:function(){this._isGoingToAutoplay?this.showBufferingAnimation():this.hideBufferingAnimation(),this.isAdPlayable?this.fetchPreroll({autoPlay:!0}):this.adControls.one(d.default.events.AD_REQUEST,this.onAdPlayRequest)}},{key:"prerollForAutoplayDisabledBrowser",value:function(){this.isAdPlayable=!0,this.showBufferingAnimation(),this.fetchPreroll({autoPlay:!1})}},{key:"_createFetchOptions",value:function(){return Object.assign({},this.config,{adHTMLContainer:this.adHTMLContainer,adDisplayContainer:this.adDisplayContainer,adsLoader:this.adsLoader})}},{key:"fetchPreroll",value:function(e){var t=e.autoPlay;if(!this.adUnit){var r=this.muteStatus?0:this.volume;this.adUnit=new a.default(this._createFetchOptions(),this.adDimensions,this.videoTag,this.player,r,t),this.fetchAd()}}},{key:"fetchAd",value:function(){if(this._getAdType()===v.AD_TYPES.PREROLL&&!this.player.options_.isViewable)return y.info("Player unviewable. Ad loading delayed."),void this.player.one(p.default.VIEWABLE,this._requestAd);this._requestAd()}},{key:"_setupViewability",value:function(){var e=this;this.player.on(p.default.VIEWABLE,function(){e._getAdType()===v.AD_TYPES.PREROLL&&e._pausedForViewability&&(y.info("Ad resumed for viewability"),e.onAdPlayRequest())}),this.player.on(p.default.UNVIEWABLE,function(){e._getAdType()!==v.AD_TYPES.PREROLL||e.player.options_.passedViewableAdImpressionCheck||e.isAdPlayable&&(e._pausedForViewability=!0,y.info("Ad paused for viewability"),e._onAdPauseRequest())})}},{key:"_sendAdRequestTracking",value:function(){this.player.trigger({type:f.default.AD_REQUESTED,data:{adType:this._getAdType()}})}},{key:"createAdControls",value:function(){var e=function(e,t,r,n,i){return new d.default({playerWidth:t.width(),playerHeight:t.height(),playerId:t.el().id,poster:t.options_.metadata.poster,bufferingAnimation:e.bufferingAnimation,controlsFadeMillis:e.controlsFadeMillis,adDimensions:i,volume:r,muted:n},t)}(this.config,this.player,this.volume,this.muteStatus,this.adDimensions);return e.on(d.default.events.PLAY_REQUEST,this.onAdPlayRequest).on(d.default.events.PAUSE_REQUEST,this.onAdPauseRequest).on(d.default.events.VOLUME_CHANGE,this.onVolumeChange).on(d.default.events.REQUEST_FULLSCREEN,this.onFullscreen).on(d.default.events.EXIT_FULLSCREEN,this.onExitFullscreen),e.initialize(),e}},{key:"switchToContent",value:function(){this.player.controlBar.show(),this.player.muted(this.muteStatus),this.player.play();var e=function(e){return{type:e.options_.metadata.form_type,clip:e.options_.metadata.id,duration:e.duration(),url:e.currentSrc(),metadata:{}}}(this.player);this.player.trigger({type:f.default.CLIP,data:e})}},{key:"updatePlayerUIForAd",value:function(){this.adjustVolumeControls(this.getPlayerVolume(),this.muteStatus),this.hidePlayerControls(),this.adUnit&&!this.currentAdStarted&&this.isAdPlayable&&this.showBufferingAnimation()}},{key:"showBufferingAnimation",value:function(){this.adControls.getPlayStatus()!==d.default.playStatus.BUFFERING&&(function(e){y.info("setAutoPlayClass on",e),s.default.addClass(e,v.AUTOPLAY_CLASS)}(this.player.el()),this.adControls.showBufferingAnimation())}},{key:"hideBufferingAnimation",value:function(){this.adControls.setIdle()}},{key:"prepareForAd",value:function(){var e=this.player.el().getBoundingClientRect();this.videoTag=this.player.tech_.el_,this.adDimensions=e}},{key:"hidePlayerControls",value:function(){this.player.controlBar.hide()}},{key:"showAdControls",value:function(){this.adControls.showUI()}},{key:"isPlaying",value:function(){return this.adControls.playStatus===d.default.playStatus.PLAYING}},{key:"destroy",value:function(){this.adControls.hideUI(),this.adControls.hide(),this.animationFrameId=null,this.videoTag=null,this.currentAdStarted=!1,this._pausedForViewability=!1,this.adUnit&&(this.adUnit.destroy(),this.adUnit=null)}},{key:"monitorAdSizeStart",value:function(){this.onPlayerResize&&(this.animationFrameId=window.requestAnimationFrame(this.onPlayerResize))}},{key:"monitorAdSizeEnd",value:function(){null!==this.animationFrameId&&window.cancelAnimationFrame(this.animationFrameId)}},{key:"adjustVolumeControls",value:function(e,t){this.adUnit&&(y.debug("adjustVolumeControls muted",t),this.setAdControlsVolume(e,t),c.default.isMobile()&&this.setAdVolume(e,t))}},{key:"setAdVolume",value:function(e,t){this.adUnit&&(e=t?0:e,this.adUnit.setVolume(e),this.player.trigger({type:p.default.BVP_VOLUME_CHANGE,data:{volume:e,muted:t}}))}},{key:"setAdControlsVolume",value:function(e,t){t?this.adControls.mute():this.adControls.setVolume(e)}},{key:"setAutoplay",value:function(e){this.isAdPlayable=e}},{key:"getPlayerVolume",value:function(){var e=parseFloat(h.default.get("volume"));return isFinite(e)?e:this.player.volume()}},{key:"setMuteStatus",value:function(e){this.muteStatus=e}},{key:"_isLinearAdPlaying",value:function(){return this.adUnit}},{key:"loadAdAndContent",value:function(){this.adUnit&&this.adUnit.getAdType()===v.AD_TYPES.PREROLL&&c.default.needDirectUserActionToPlay()&&this.videoTag.load(),this._isLinearAdPlaying()||this.adDisplayContainer.initialize()}},{key:"muteAdAndContent",value:function(){this.setMuteStatus(!0);var e=this.getPlayerVolume();this.adjustVolumeControls(e,!0)}},{key:"unmuteAdAndContent",value:function(){if(this.player.muted(!1),this._isLinearAdPlaying()){this.player.muted(!0),this.setMuteStatus(!1);var e=this.getPlayerVolume();this.adjustVolumeControls(e,!1)}}},{key:"isAdStarted",value:function(){return this.currentAdStarted}},{key:"_getAdType",value:function(){return this.adUnit?this.adUnit.getAdType():null}}]),o}();r.default=g},{"../../events/ad-events":226,"../../events/player-events":228,"../../utils/css-helpers":287,"../../utils/persist-controls":295,"../../utils/projector-utils":296,"./ad-controls":237,"./ad-midroll":238,"./ad-preroll":239,"./ad-utils":242,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.join":154,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,log:"log"}],237:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("../../utils/event-target")),d=n(e("../../utils/css-helpers")),p=n(e("../../utils/datetime-utils")),f=n(e("./ad-volume-control")),h=n(e("../../utils/projector-utils")),m=n(e("../../events/player-events")),b=n(e("log")),v=n(e("error-report")),y=n(e("../../utils/fullscreen")),g=new b.default("AdControls"),_="click",j="bvp-ad-big-play-button__visible",C="bvp-ad-big-play-button__mobile",A="bvp-ad-buffering__visible",E="bvp-ad-control-bar__initial",P="bvp-ad-control-bar__hidden",w="vjs-fullscreen",S=["onPlayPauseTouch","onFullscreenControlClick","onFullscreenChange"],T=function(e){function n(e,t){var r;return(0,i.default)(this,n),r=(0,a.default)(this,(0,o.default)(n).call(this)),S.forEach(function(e){r[e]=r[e].bind((0,l.default)(r))}),r.controlsComponent=t.getChild("AdControlsComponent"),r.adControlBarComponent=r.controlsComponent.getChild("AdControlBar"),r.container=null,r.adDimensions=null,r.controlBar=null,r.playPauseButton=null,r.bigPlayButton=null,r.fullscreenButton=null,r.bufferingAnimation=null,r.volume=e.volume,r.volumeControl=null,r.muted=e.muted,r.poster=e.poster,r.width=e.playerWidth,r.playStatus=n.playStatus.SETUP,r.player=t,r.fullscreen=y.default.isInFullScreen(),r.adDimensions=e.adDimensions,t.on(m.default.FULL_SCREEN_CHANGE,r.onFullscreenChange),r}return(0,u.default)(n,e),(0,s.default)(n,[{key:"initialize",value:function(){var e=this.controlsComponent.el();this.bigPlayButton=e.querySelector(".bvp-ad-big-play-button"),this.playPauseButton=e.querySelector(".bvp-ad-play-button"),this.bufferingAnimation=e.querySelector(".bvp-ad-buffering"),this.controlBar=e.querySelector(".bvp-ad-control-bar"),this.fullscreenButton=e.querySelector(".bvp-ad-fullscreen"),this.fullscreen&&this.adControlBarComponent.setEnterFullscreenState();var t=(this.container=e).querySelector(".bvp-ad-sound-menu__mute-control");this.player.tech_.featuresVolumeControl?this.initializeVolumeControl(e,t):d.default.addClass(t,"vjs-hidden"),h.default.isMobile()&&this.adControlBarComponent.hideFullscreenButton(),function(e,t){k()?R(e,t):e.addEventListener(_,t)}(this.bigPlayButton,this.onPlayPauseTouch),function(e,t){k()?R(e,t):e.addEventListener(_,t)}(this.playPauseButton,this.onPlayPauseTouch),function(e,t){if(k())return;e.addEventListener(_,t)}(this.fullscreenButton,this.onFullscreenControlClick),e=t=null,this.setPlayStatus(n.playStatus.SETUP),this._hideOriginalPlayerButton()}},{key:"initializeVolumeControl",value:function(e,t){var r=e.querySelector(".bvp-ad-volume-bar__scrubber"),n=e.querySelector(".bvp-ad-volume-bar"),i=e.querySelector(".bvp-ad-volume-bar__container"),s=e.querySelector(".bvp-ad-sound-menu");this.volumeControl=new f.default({volumeBar:n,volumeScrubber:r,volumePath:i,muteControl:t,volume:this.volume,muted:this.muted,volumeParent:s}),this.volumeControl.setEventParent(this),n=r=i=s=null}},{key:"destroy",value:function(){var t=this;this.removeAllEventListeners(),this.adDimensions=null,this.bufferingAnimation=null,this.controlBar=null,this.volumeControl&&(this.volumeControl.destroy(),this.volumeControl=null),this.playPauseButton.removeEventListener(_,this.onPlayPauseTouch),this.playPauseButton=null,this.bigPlayButton.removeEventListener(_,this.onPlayPauseTouch),this.bigPlayButton=null,this.fullscreenButton.removeEventListener(_,this.onFullscreenControlClick),this.fullscreenButton=null,this.container=null,this.controlsComponent.hide(),this.player=null,S.forEach(function(e){t[e]=null})}},{key:"hide",value:function(){this.controlsComponent.hide(),this._restoreOriginalPlayerButton()}},{key:"show",value:function(){this.controlsComponent.show(),this._hideOriginalPlayerButton()}},{key:"mute",value:function(){this.volumeControl&&this.volumeControl.mute()}},{key:"setVolume",value:function(e){this.volume=e,this.volumeControl&&this.volumeControl.setVolume(e)}},{key:"getAvailableAdHeight",value:function(){return this.adDimensions.height}},{key:"getPlayStatus",value:function(){return this.playStatus}},{key:"onPlayPauseTouch",value:function(){if(this.playStatus!==n.playStatus.SETUP&&this.playStatus!==n.playStatus.IDLE||this.trigger(n.events.AD_REQUEST),this.playStatus===n.playStatus.PAUSED)return this.trigger(n.events.PLAY_REQUEST),void this.setPlay();this.playStatus===n.playStatus.PLAYING&&(this.trigger(n.events.PAUSE_REQUEST),this.setPause())}},{key:"onFullscreenControlClick",value:function(){if(this.fullscreen)return this.player.exitFullscreen(),void this.player.removeClass(w);this.player.addClass(w),this.player.requestFullscreen()}},{key:"onFullscreenChange",value:function(){if(this.fullscreen)return this.fullscreen=!1,this.trigger(n.events.EXIT_FULLSCREEN),void this.adControlBarComponent.setExitFullscreenState();this.fullscreen=!0,this.trigger(n.events.REQUEST_FULLSCREEN),this.adControlBarComponent.setEnterFullscreenState()}},{key:"setPlayStatus",value:function(e){switch(e){case n.playStatus.PAUSED:this.setPause();break;case n.playStatus.PLAYING:this.setPlay();break;case n.playStatus.BUFFERING:this.setBuffering();break;case n.playStatus.SETUP:this.setSetup();break;case n.playStatus.IDLE:this.setIdle();break;default:v.default.recordGenericError(g,"Received unsupported play status: ".concat(e))}}},{key:"showUI",value:function(){this.controlsComponent.showUI()}},{key:"hideUI",value:function(){this.controlsComponent.hideUI()}},{key:"setAdCountdownTime",value:function(e,t,r){var n=0<arguments.length&&void 0!==e?e:0,i=1<arguments.length&&void 0!==t?t:0,s=2<arguments.length&&void 0!==r?r:0,a=p.default.formatSeconds(n),o=p.default.formatSeconds(i),l=p.default.formatSeconds(s);this.controlsComponent.setCountdownTime(a,o,l)}},{key:"setPlay",value:function(){var e=this;this.playStatus=n.playStatus.PLAYING,this.adControlBarComponent.setPlayState(),this.hidePlayButton(),d.default.removeClass(this.bufferingAnimation,A),d.default.removeClass(this.controlBar,P),d.default.addClass(this.controlBar,E),setTimeout(function(){d.default.removeClass(e.controlBar,E)},3e3)}},{key:"setPause",value:function(){this.playStatus=n.playStatus.PAUSED,this.adControlBarComponent.setPauseState()}},{key:"setBuffering",value:function(){g.info("Buffering..."),this.hidePlayButton(),this.playStatus=n.playStatus.BUFFERING,d.default.addClass(this.bufferingAnimation,A)}},{key:"setIdle",value:function(){g.info("Idle..."),this.playStatus=n.playStatus.IDLE,d.default.removeClass(this.bufferingAnimation,A)}},{key:"setSetup",value:function(){this.playStatus=n.playStatus.SETUP,d.default.addClass(this.controlBar,P),this.showPlayButton(),d.default.removeClass(this.bufferingAnimation,A)}},{key:"showBufferingAnimation",value:function(){this.controlsComponent.show(),this.setPlayStatus(n.playStatus.BUFFERING)}},{key:"hideBufferingAnimation",value:function(){this.setPlayStatus(n.playStatus.SETUP)}},{key:"setPlaying",value:function(){this.setPlayStatus(n.playStatus.PLAYING)}},{key:"showPlayButton",value:function(){h.default.isMobile()?d.default.addClass(this.bigPlayButton,C):d.default.addClass(this.bigPlayButton,j)}},{key:"hidePlayButton",value:function(){h.default.isMobile()?d.default.removeClass(this.bigPlayButton,C):d.default.removeClass(this.bigPlayButton,j)}},{key:"_hideOriginalPlayerButton",value:function(){this.player.bigPlayButton.hide()}},{key:"_restoreOriginalPlayerButton",value:function(){this.player.bigPlayButton.show()}}]),n}(c.default);function k(){return!!window.videojs.browser.IS_IOS&&("ontouchend"in window&&h.default.isChromeIos())}function R(e,t){e.addEventListener("touchend",t)}Object.defineProperty(T,"playStatus",{value:{PAUSED:"PAUSED",PLAYING:"PLAYING",SETUP:"SETUP",BUFFERING:"BUFFERING",IDLE:"IDLE"}}),Object.defineProperty(T,"events",{value:{AD_REQUEST:"AD_REQUEST",PLAY_REQUEST:"PLAY_REQUEST",PAUSE_REQUEST:"PAUSE_REQUEST",VOLUME_CHANGE:"VOLUME_CHANGE",REQUEST_FULLSCREEN:"REQUEST_FULLSCREEN",EXIT_FULLSCREEN:"EXIT_FULLSCREEN"}});var D=T;r.default=D},{"../../events/player-events":228,"../../utils/css-helpers":287,"../../utils/datetime-utils":288,"../../utils/event-target":290,"../../utils/fullscreen":291,"../../utils/projector-utils":296,"./ad-volume-control":243,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"error-report":"error-report",log:"log"}],238:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),i=n(e("@babel/runtime/helpers/inherits")),u=n(e("../../utils/projector-utils")),s=n(e("./ad-unit")),c=e("bvp-constant"),d=function(e){function s(e,t,r,n,i){return(0,a.default)(this,s),(0,o.default)(this,(0,l.default)(s).call(this,n,r,{adsLoader:e.adsLoader,adDisplayContainer:e.adDisplayContainer,adHTMLContainer:e.adHTMLContainer,disableCompanionAds:e.midrollDisableCompanionAds,adsPerBlock:e.midrollAdsPerBlock,playbackDelay:e.midrollPlaybackDelay,unit:e.midrollUnit,isGPT:e.midrollIsGPT,networkId:e.midrollNetworkId,sz:e.midrollSz,tile:e.midrollTile,tpVideo:e.midrollTpVideo,suffix:e.midrollSuffix,custParams:e.midrollCustParams,maxRetries:e.midrollMaxRetries,fade:e.midrollFade,imageHeight:e.midrollImageHeight,minDuration:1e3,maxDuration:e.midrollMaxDuration||9e4,isMobile:u.default.isMobile(),width:t.width,height:t.height,adContainerId:e.playerId+"AdTagContainer",adType:c.AD_TYPES.MIDROLL,isLive:n.options_.original_user_options.live,enableAdFallback:!1,initialVolume:i,autoPlay:!0,channelId:"".concat(e.midrollNetworkId,"/").concat(e.midrollUnit),shouldFetchCompanionAd:!1!==e.shouldFetchCompanionAd}))}return(0,i.default)(s,e),s}(s.default);r.default=d},{"../../utils/projector-utils":296,"./ad-unit":241,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169}],239:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),i=n(e("@babel/runtime/helpers/inherits")),c=n(e("../../utils/projector-utils")),s=n(e("./ad-unit")),d=e("bvp-constant"),a=function(e){function a(e,t,r,n,i,s){return(0,o.default)(this,a),(0,l.default)(this,(0,u.default)(a).call(this,n,r,{adsLoader:e.adsLoader,adDisplayContainer:e.adDisplayContainer,adHTMLContainer:e.adHTMLContainer,disableCompanionAds:e.prerollDisableCompanionAds,adsPerBlock:e.prerollAdsPerBlock,playbackDelay:e.prerollPlaybackDelay,unit:e.prerollUnit,isGPT:e.prerollIsGPT,networkId:e.prerollNetworkId,sz:e.prerollSz,tile:e.prerollTile,tpVideo:e.prerollTpVideo,suffix:e.prerollSuffix,custParams:e.prerollCustParams,maxRetries:e.prerollMaxRetries,fade:e.prerollFade,imageHeight:e.prerollImageHeight,isMobile:c.default.isMobile(),width:t.width,height:t.height,adContainerId:e.playerId+"AdTagContainer",adType:d.AD_TYPES.PREROLL,isLive:n.options_.original_user_options.live,enableAdFallback:!0,initialVolume:i,autoPlay:s,channelId:"".concat(e.prerollNetworkId,"/").concat(e.prerollUnit),shouldFetchCompanionAd:!1!==e.shouldFetchCompanionAd}))}return(0,i.default)(a,e),a}(s.default);r.default=a},{"../../utils/projector-utils":296,"./ad-unit":241,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169}],240:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=i(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var s=i(e("@babel/runtime/helpers/asyncToGenerator")),a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),l=i(e("log")),c=e("bvp-constant"),d=i(e("error-report")),p=i(e("../../utils/PPID")),f=n(e("../../services/ConsentService")),h=new l.default("AdTagGenerator"),m="{server_id}",b="{unit}",v="{sz}",y="{tp_video}",g="{url}",_="{ord}",j="//pubads.g.doubleclick.net/gampad",C=/[\"\"=!\+*~^\(\)<>\[\]]/g,A=/[?&#].*/,E="impl=s&gdfp_req=1&env=vp&unviewed_position_start=1",P="//ad.doubleclick.net".concat(m,"/pfadx/").concat(b,";sz=").concat(v,";tile=").concat("{tile}",";tp_video=").concat(y,";dcmt=text/xml;url=").concat(g,";ord=").concat(_),w="sz=".concat(v,"&iu=").concat(m+b,"&output=vast&").concat(E,"&correlator=").concat(_),S="".concat(j,"/ads?sz=").concat(v,"&iu=").concat(m,"/").concat(b,"&output=vast&url=").concat(g,"&").concat(E,"&correlator=").concat(_,"&vad_type=nonlinear"),T=1,k=1,R={"business/midroll":!0,"bloomberg/video/midroll/live":!0,"bloomberg/video/midroll/vod":!0},D=function(){function t(e){(0,a.default)(this,t),this.unit=e.unit,this.isGPT=e.isGPT,this.isBanner=e.isBanner,this.networkId=e.networkId,this.sz=e.sz,this.tile=e.tile,this.tpVideo=e.tpVideo,this.suffix=e.suffix,this.custParams=e.custParams,this.isMobile=e.isMobile,this.isLive=e.isLive,this.minDuration=e.minDuration,this.maxDuration=e.maxDuration,this.adType=e.adType,this.enableAdFallback=e.enableAdFallback,this.shouldFetchCompanionAd=e.shouldFetchCompanionAd,this.trigr=e.trigr,this.srnd=e.srnd,this.lotame=e.lotame,this.subscriberStatus=e.subscriberStatus,this.width=e.width,this.height=e.height,this.isMuted=(e.initialVolume||0)<=0,this.impressionId=e.impressionId,this.randIncrementer=Math.round(1e3*Math.random())}var e;return(0,o.default)(t,[{key:"getAdTag",value:(e=(0,s.default)(u.default.mark(function e(){var t,r,n,i,s,a,o,l;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getServerId(),r=this.randIncrementer+++String((new Date).getTime()),n=this._getPageUrl(),i=this._getAdTagTemplate(),this.unit&&(s=this.unit.toLowerCase(),R[s]&&d.default.recordGenericError(h,"Mystery Ad Unit: ".concat(s))),a=i.replace(b,this.unit).replace(v,this.sz?this.sz:"1x1").replace("{tile}",this.tile?this.tile:"1").replace(y,this.tpVideo?this.tpVideo:"null").replace(m,t).replace(_,r).replace(g,n||""),this.isGPT&&this.pageUrl&&(a=a.replace(g,n)),this.isGPT&&(o=this._getCustParams(n),l=Object.keys(o).map(function(e){return"".concat(e,"=").concat(o[e])}),a="".concat(a,"&cust_params=").concat(encodeURIComponent(l.join("&"))),this.isLive&&(a+="&pod="+T++),a+="&vpos="+this.adType,this.adType===c.AD_TYPES.MIDROLL&&(a+="&pp=xvpaid&mridx=".concat(k++))),this.suffix&&0<this.suffix.length&&(a=a+(this.isGPT?"&":";")+this.suffix),0<this.minDuration&&0<this.maxDuration&&(a=a+"&pmnd="+this.minDuration+"&pmxd="+this.maxDuration),this.enableAdFallback||(a+="&nofb=1"),e.next=13,f.fetchParams();case 13:if(!e.sent.isPersonalizedAdAllowed){e.next=15;break}a+="&ppid=".concat(p.default.get());case 15:return h.debug("Generated ad tag: "+a),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_getServerId",value:function(){var e=this.networkId?String(this.networkId):"";return 0<e.length&&(e="/"+e,this.isGPT&&(e+="/")),e}},{key:"_getAdTagTemplate",value:function(){if(this.isBanner)return S;if(!this.isGPT)return P;var e=w+(this.shouldFetchCompanionAd?"&ciu_szs=300x250,728x90":"");return this._getGPTDomain()+e}},{key:"_getGPTDomain",value:function(){return j+(this.isLive?"/live":"")+"/ads?"}},{key:"_getCustParams",value:function(e){var t=Object.assign({},this.custParams,{url:e,adsound:this.isMuted?"off":"on",iid:this.impressionId});return this.width&&this.height&&(t.playerWidth=Math.ceil(this.width),t.playerHeight=Math.ceil(this.height)),t}},{key:"_getPageUrl",value:function(){if(this.custParams&&this.custParams.frameurl){var e=this.custParams.frameurl;return delete this.custParams.frameurl,e}var t=window.location.pathname.toString();if(t)return t=t.replace(A,""),t=decodeURIComponent(t).replace(C,"")}}],[{key:"__resetPodCounters",value:function(){k=T=1}}]),t}();r.default=D},{"../../services/ConsentService":268,"../../utils/PPID":280,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/regenerator":24,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.array.join":154,"core-js/modules/es.array.map":156,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.regexp.to-string":181,"core-js/modules/es.string.replace":185,"error-report":"error-report",log:"log","regenerator-runtime/runtime":207}],241:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.join"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var a=i(e("@babel/runtime/helpers/asyncToGenerator")),l=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),d=i(e("@babel/runtime/helpers/assertThisInitialized")),p=i(e("@babel/runtime/helpers/getPrototypeOf")),f=i(e("@babel/runtime/helpers/get")),h=i(e("@babel/runtime/helpers/inherits")),m=i(e("./ima3-controller")),b=i(e("./ad-tag-generator")),o=i(e("../../utils/event-target")),v=i(e("../../events/ad-events")),y=i(e("log")),g=i(e("../../services/AdditionalCustomParameterService")),_=i(e("uuid/v4")),j=i(e("../../utils/SpotXUtils")),C=n(e("../../utils/ix/IXUtils")),A=i(e("../../../types/StreamType")),E=new y.default("AdUnit"),P=["onAdLoading","onAdLoaded","onAdStart","onAdResume","onAdPause","onAdPlayError","onAdCompleted","onAllAdsComplete","onContentPauseRequested","onContentResumeRequested","onPlaybackStatusUpdate","onAdsTimedOut","onDurationChange","onAdSkipped","onAdSkipStateChange","generateAdUrl","_addSpotXAdParams","_addIndexExchangeAdParams"],w=function(e){function o(e,t,r){var n;(0,l.default)(this,o),(n=(0,c.default)(this,(0,p.default)(o).call(this))).ima3Controller=null,n.config=r,n.additionalCustomParameterService=new g.default({playerHtmlChildId:e.options_.htmlChildId});var i=e.options_;n.useSpotX=i.useSpotX,n.useIndexExchange=i.useIndexExchange,n.site=i.site,n.videoTag=t;for(var s=0;s<P.length;s++){var a=P[s];n[a]=n[a].bind((0,d.default)(n))}return n.createAd(e,t),n}var t,r;return(0,h.default)(o,e),(0,u.default)(o,[{key:"createAd",value:function(e,t){E.info("creating ad");var r=e.el().querySelector(".bvp-ad__content");this.ima3Controller=new m.default({videoContent:t,adContainer:r,adDisplayContainer:this.config.adDisplayContainer,adsLoader:this.config.adsLoader,isMobile:this.config.isMobile,adType:this.config.adType,maxDuration:this.config.maxDuration,initialVolume:this.config.initialVolume,maxRetries:this.config.maxRetries,autoPlay:this.config.autoPlay,channelId:this.config.channelId}),this.ima3Controller.on(v.default.AD_LOADING,this.onAdLoading).on(v.default.AD_LOADED,this.onAdLoaded).on(v.default.AD_STARTED,this.onAdStart).on(v.default.AD_RESUMED,this.onAdResume).on(v.default.AD_PAUSED,this.onAdPause).on(v.default.AD_PLAY_ERROR,this.onAdPlayError).on(v.default.AD_COMPLETED,this.onAdCompleted).on(v.default.ALL_ADS_COMPLETED,this.onAllAdsComplete).on(v.default.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested).on(v.default.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested).on(v.default.AD_PLAYBACK_PROGRESS_UPDATE,this.onPlaybackStatusUpdate).on([v.default.MAX_RETRIES_REACHED,v.default.AD_PLAYBACK_TIMED_OUT,v.default.AD_LOAD_TIMED_OUT].join(),this.onAdsTimedOut).on(v.default.DURATION_CHANGE,this.onDurationChange).on(v.default.SKIPPED,this.onAdSkipped).on(v.default.SKIP_STATE_CHANGED,this.onAdSkipStateChange),r=t=null}},{key:"fetchAd",value:function(){var t=this;return this.config.custParams=Object.assign({},this.config.custParams),this.additionalCustomParameterService.fillAdditionalParams(this.config.custParams).then(this.generateAdUrl).then(this._addSpotXAdParams).then(this._addIndexExchangeAdParams).then(function(e){return t.getAdController().requestAds(e)})}},{key:"_addIndexExchangeAdParams",value:(r=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.useIndexExchange){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",C.addParamsToAdUrl({adUrl:t,streamType:this._getStreamType(),adType:this.getAdType(),site:this.site}));case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_addSpotXAdParams",value:function(e){return this.useSpotX?j.default.addParamsToAdUrl({adUrl:e,streamType:this._getStreamType(),adType:this.getAdType(),adHTMLContainer:this.config.adHTMLContainer,videoElement:this.videoTag,usPrivacyString:this.config.custParams&&this.config.custParams.us_privacy}):Promise.resolve(e)}},{key:"_getStreamType",value:function(){return this.config.isLive?A.default.LIVE:A.default.VOD}},{key:"fromConfig",value:function(e){return this.config[e]}},{key:"getAdController",value:function(){return this.ima3Controller}},{key:"startAd",value:function(){this.ima3Controller.startAd()}},{key:"startOverlayAd",value:function(){this.ima3Controller.startOverlayAd()}},{key:"pause",value:function(){this.ima3Controller.pause()}},{key:"resume",value:function(){this.ima3Controller.resume()}},{key:"resize",value:function(e,t,r){this.ima3Controller.resizeAd(e,t,r)}},{key:"setVolume",value:function(e){this.ima3Controller.setVolume(e)}},{key:"isLinearAd",value:function(){return this.ima3Controller.adLoadedData.linear}},{key:"generateAdUrl",value:(t=(0,a.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,this.impressionId=(0,_.default)(),t.impressionId=this.impressionId,r=new b.default(t),e.abrupt("return",r.getAdTag());case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onAdLoading",value:function(){this.trigger(v.default.AD_LOADING)}},{key:"onAdLoaded",value:function(e){this.trigger(v.default.AD_LOADED,this.getEventData(e.detail))}},{key:"onAdStart",value:function(e){this.trigger(v.default.AD_STARTED,this.getEventData(e.detail))}},{key:"onAdResume",value:function(e){this.trigger(v.default.AD_RESUMED,this.getEventData(e.detail))}},{key:"onAdPause",value:function(e){this.trigger(v.default.AD_PAUSED,this.getEventData(e.detail))}},{key:"onAdPlayError",value:function(e){this.trigger(v.default.AD_PLAY_ERROR,e.detail)}},{key:"onAdCompleted",value:function(e){this.trigger(v.default.AD_COMPLETED,this.getEventData(e.detail))}},{key:"onAllAdsComplete",value:function(e){this.trigger(v.default.ALL_ADS_COMPLETED,this.getEventData(e.detail))}},{key:"onContentPauseRequested",value:function(){this.trigger(v.default.CONTENT_PAUSE_REQUESTED)}},{key:"onContentResumeRequested",value:function(){this.trigger(v.default.CONTENT_RESUME_REQUESTED)}},{key:"onPlaybackStatusUpdate",value:function(e){this.trigger(v.default.AD_PLAYBACK_PROGRESS_UPDATE,this.getEventData(e.detail))}},{key:"onAdsTimedOut",value:function(e){this.trigger(e.type,this.getEventData(e.detail))}},{key:"onDurationChange",value:function(e){this.trigger(v.default.DURATION_CHANGE,e.detail)}},{key:"onAdSkipped",value:function(e){this.trigger(v.default.SKIPPED,this.getEventData(e.detail))}},{key:"onAdSkipStateChange",value:function(e){this.trigger(v.default.SKIP_STATE_CHANGED,e.detail)}},{key:"getEventData",value:function(e){var t=e?e.data:{};return{data:Object.assign({},t,{type:"ad-".concat(this.config.adType),adType:this.config.adType,impressionId:this.impressionId})}}},{key:"getAdType",value:function(){return this.config.adType}},{key:"destroy",value:function(){E.info("Destroying Ad Unit"),this.ima3Controller.destroy(),this.ima3Controller=null;for(var e=0;e<P.length;e++){this[P[e]]=null}(0,f.default)((0,p.default)(o.prototype),"dispose",this).call(this)}}]),o}(o.default);r.default=w},{"../../../types/StreamType":358,"../../events/ad-events":226,"../../services/AdditionalCustomParameterService":267,"../../utils/SpotXUtils":282,"../../utils/event-target":290,"../../utils/ix/IXUtils":293,"./ad-tag-generator":240,"./ima3-controller":244,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/regenerator":24,"core-js/modules/es.array.join":154,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,log:"log","regenerator-runtime/runtime":207,"uuid/v4":210}],242:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),i=function(){function i(){(0,s.default)(this,i)}return(0,a.default)(i,null,[{key:"canDisplayAds",value:function(e){var t=i.hasPreroll(e),r=i.hasMidroll(e),n="enabled"===e.enabled||!0===e.jsAdsEnabled;return(t||r)&&n}},{key:"hasPreroll",value:function(e){return!!(e.prerollUnit&&0<e.prerollUnit.length)}},{key:"hasMidroll",value:function(e){return!!(e.midrollUnit&&0<e.midrollUnit.length)}},{key:"isAdMuted",value:function(e){return!(!e||!e.AdController||!e.AdController.muteStatus&&0!==e.AdController.volume)}},{key:"isAdPlaying",value:function(e){return!!(e&&e.AdController&&e.AdController.currentAdStarted)}}]),i}();r.default=i},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],243:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),d=n(e("@babel/runtime/helpers/possibleConstructorReturn")),p=n(e("@babel/runtime/helpers/getPrototypeOf")),f=n(e("@babel/runtime/helpers/assertThisInitialized")),s=n(e("@babel/runtime/helpers/inherits")),a=n(e("../../utils/event-target")),o=n(e("../../utils/css-helpers")),l=e("../../utils/KeyCodes"),h="click",m=["onMouseDown","onDragStop","onMouseMove","onPathClick","toggleMute","_toggleMuteKeyBoard","_onArrowKeyPressed"],b="mouseleave",u="volume-down",v="volume-up",y=function(e){function u(e){var t,r=e.volumeBar,n=e.volumeScrubber,i=e.volumePath,s=e.muteControl,a=e.volume,o=e.muted,l=e.volumeParent;return(0,c.default)(this,u),t=(0,d.default)(this,(0,p.default)(u).call(this)),m.forEach(function(e){t[e]=t[e].bind((0,f.default)(t))}),t.dragStarted=!1,t.volumeBar=r,t.volumePath=i,t.volumeScrubber=n,t.volumeBarDimensions=null,t.volumeBarWidth=null,t.volumeBarXOffset=null,t.scrubOffset=null,t.scrubberCenter=null,t.volume=a,t.muted=o,t.muteControl=s,t.volumeParent=l,t.volumeScrubber.addEventListener("mousedown",t.onMouseDown),t.volumeScrubber.addEventListener("mouseup",t.onDragStop),t.volumeBar.addEventListener(b,t.onDragStop),t.volumeBar.addEventListener("mousemove",t.onMouseMove),t.volumeBar.addEventListener("keydown",t._onArrowKeyPressed),t.volumePath.addEventListener(h,t.onPathClick),t.muteControl.addEventListener(h,t.toggleMute),t.volumeParent.addEventListener("keydown",t._toggleMuteKeyBoard),t.setInitialVolume(t.volume),t}return(0,s.default)(u,e),(0,i.default)(u,[{key:"_toggleMuteKeyBoard",value:function(e){(0,l.isSpace)(e)&&(e.preventDefault(),this.toggleMute())}},{key:"onMouseDown",value:function(e){this.dragStarted=!0,this.scrubberCenter=this.scrubberCenter||e.target.clientWidth/2}},{key:"onDragStop",value:function(){this.dragStarted=!1}},{key:"onVolumeChange",value:function(e){this.muted=0==e,this.setVolume(e)}},{key:"onPathClick",value:function(e){this.dragStarted=!0,this.onMouseMove(e),this.dragStarted=!1}},{key:"onMouseMove",value:function(e){if(this.dragStarted){this.volumeBarDimensions=this.volumeBarDimensions||this.volumeBar.getBoundingClientRect(),this.volumeBarWidth=this.volumeBarWidth||this.volumeBarDimensions.width,this.volumeBarXOffset=this.volumeBarDimensions.left,this.scrubOffset=this.scrubOffset||this.volumeBarWidth-70-this.scrubberCenter;var t=Math.max(0,Math.abs(this.volumeBarXOffset-e.clientX)-this.scrubOffset),r=Math.max(0,Math.min(70,t));_(this.volumeScrubber,r);var n=r/70;this.onVolumeChange(n)}}},{key:"_onArrowKeyPressed",value:function(e){if((0,l.isArrowRight)(e)||(0,l.isArrowLeft)(e)){e.preventDefault();var t=(0,l.isArrowRight)(e)?1:-1,r=this.volume+.1*t;r=Math.max(0,r),r=Math.min(r,1),this.setVolume(r)}}},{key:"dispatchVolumeChange",value:function(){this.trigger(u.events.VOLUME_CHANGE,{volume:this.volume,muted:this.muted}),j(this.muteControl,this.volume,this.muted)}},{key:"setInitialVolume",value:function(e){this.muted?this.showMuteControls():this.setVolume(e)}},{key:"setVolume",value:function(e){e=parseFloat(e),0===(this.volume=e)?this.showMuteControls():this.hideMuteControls();var t=Math.floor(100*e);this.volumePath.setAttribute("aria-valuenow",t),this.volumePath.setAttribute("aria-valuetext","".concat(t,"%"));var r=g(e);_(this.volumeScrubber,r),this.dispatchVolumeChange()}},{key:"showMuteControls",value:function(){this.muted=!0,this.volumePath.setAttribute("aria-valuenow","0"),_(this.volumeScrubber,0),j(this.muteControl,0,this.muted)}},{key:"hideMuteControls",value:function(){this.muted=!1;var e=g(this.volume);_(this.volumeScrubber,e),j(this.muteControl,this.volume,this.muted)}},{key:"toggleMute",value:function(){this.muted?this.unmute():this.mute()}},{key:"mute",value:function(){this.showMuteControls(),this.dispatchVolumeChange()}},{key:"unmute",value:function(){0==this.volume&&(this.volume=1),this.muted=!1,this.setVolume(this.volume)}},{key:"destroy",value:function(){this.removeAllEventListeners(),this.volumeScrubber.removeEventListener("mousedown",this.onMouseDown),this.volumeScrubber.removeEventListener("mouseup",this.onDragStop),this.volumeBar.removeEventListener(b,this.onDragStop),this.volumeBar.removeEventListener("mousemove",this.onMouseMove),this.volumePath.removeEventListener(h,this.onPathClick),this.muteControl.removeEventListener(h,this.toggleMute),this.volumeBarDimensions=null,this.volumeScrubber=null,this.volumeBar=null,this.volumePath=null,this.muteControl=null}}]),u}(a.default);function g(e){var t=70*e;return Math.max(0,Math.min(70,t))}function _(e,t){o.default.transform(e,"translateX(".concat(t,"px)"))}function j(e,t,r){var n=!t||r,i=n?"Unmute":"Mute";return e.setAttribute("title",i),e.setAttribute("aria-label",i),n?(o.default.addClass(e,"mute"),o.default.removeClass(e,u),void o.default.removeClass(e,v)):t<=.25?(o.default.addClass(e,u),o.default.removeClass(e,"mute"),void o.default.removeClass(e,v)):(o.default.addClass(e,v),o.default.removeClass(e,"mute"),void o.default.removeClass(e,u))}Object.defineProperty(y,"events",{value:{VOLUME_CHANGE:"VOLUME_CHANGE"}});var C=y;r.default=C},{"../../utils/KeyCodes":277,"../../utils/css-helpers":287,"../../utils/event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176}],244:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var C=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),A=n(e("@babel/runtime/helpers/possibleConstructorReturn")),E=n(e("@babel/runtime/helpers/assertThisInitialized")),P=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/get")),a=n(e("@babel/runtime/helpers/inherits")),w=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("../../utils/event-target")),l=n(e("../../events/ad-events")),u=n(e("../../utils/deadline")),c=n(e("../../utils/url-utils")),d=e("bvp-constant"),p=n(e("log")),f=n(e("error-report")),S="ended",h="BVP_ERROR",m="Maximum retries reached",b="Ads failed to load within specified time limit",v="Ads failed to play within specified time limit",y={"video/x-flv":!0,"application/x-shockwave-flash":!0},g={swf:!0,flv:!0},_=new p.default("IMA3Controller"),T=["onAdClicked","onAdError","onAdPlaybackTimeout","onAdsManagerLoaded","onAdSkipped","onAdSkipStateChange","onAllAdsCompleted","onComplete","onContentPauseRequested","onContentResumeRequested","onDurationChange","onLoaded","onPause","onResume","onStart","onVideoEnd"],k={anId:"926191",campId:"1x7"};function R(e){return e.getType=function(){return h},e.getErrorCode=function(){return 0},{getError:function(){return e}}}var j=function(e){function j(e){var t,r=e.adContainer,n=e.adDisplayContainer,i=e.videoContent,s=e.adsLoader,a=e.viewMode,o=e.autoPlay,l=e.loadTimeout,u=void 0===l?1e4:l,c=e.isMobile,d=void 0!==c&&c,p=e.adType,f=void 0===p?null:p,h=e.maxDuration,m=void 0===h?null:h,b=e.initialVolume,v=void 0===b?0:b,y=e.maxRetries,g=void 0===y?3:y,_=e.channelId;return(0,C.default)(this,j),t=(0,A.default)(this,(0,P.default)(j).call(this)),(0,w.default)((0,E.default)(t),"requestAdResolver",null),(0,w.default)((0,E.default)(t),"requestAdRejector",null),(0,w.default)((0,E.default)(t),"adTagUrl",null),(0,w.default)((0,E.default)(t),"pendingRetryTimer",null),(0,w.default)((0,E.default)(t),"playbackTimeoutTimer",null),(0,w.default)((0,E.default)(t),"adContainer",void 0),(0,w.default)((0,E.default)(t),"adDisplayContainer",void 0),(0,w.default)((0,E.default)(t),"adLoaded",void 0),(0,w.default)((0,E.default)(t),"adLoadedData",void 0),(0,w.default)((0,E.default)(t),"adType",void 0),(0,w.default)((0,E.default)(t),"adsLoader",void 0),(0,w.default)((0,E.default)(t),"adsManager",null),(0,w.default)((0,E.default)(t),"adsRenderingSettings",void 0),(0,w.default)((0,E.default)(t),"autoPlay",void 0),(0,w.default)((0,E.default)(t),"channelId",void 0),(0,w.default)((0,E.default)(t),"currentVolume",void 0),(0,w.default)((0,E.default)(t),"googleIma",void 0),(0,w.default)((0,E.default)(t),"isAdStarted",void 0),(0,w.default)((0,E.default)(t),"isFirstAd",void 0),(0,w.default)((0,E.default)(t),"isMobile",void 0),(0,w.default)((0,E.default)(t),"isPauseRequested",void 0),(0,w.default)((0,E.default)(t),"isPaused",void 0),(0,w.default)((0,E.default)(t),"loadTimeout",void 0),(0,w.default)((0,E.default)(t),"maxDuration",void 0),(0,w.default)((0,E.default)(t),"maxRetries",void 0),(0,w.default)((0,E.default)(t),"remainingTime",void 0),(0,w.default)((0,E.default)(t),"retryCount",void 0),(0,w.default)((0,E.default)(t),"videoContent",void 0),(0,w.default)((0,E.default)(t),"viewMode",void 0),(0,w.default)((0,E.default)(t),"statusUpdateTimer",null),(0,w.default)((0,E.default)(t),"width",void 0),(0,w.default)((0,E.default)(t),"height",void 0),(0,w.default)((0,E.default)(t),"startAdTimeOutId",void 0),T.forEach(function(e){t[e]=t[e].bind((0,E.default)(t))}),t.googleIma=window.google.ima,t.retryCount=0,t.loadTimeout=u,t.videoContent=i,t.videoContent.addEventListener(S,t.onVideoEnd),t.viewMode=a||t.googleIma.ViewMode.NORMAL,t.adContainer=r,t.isMobile=d,t.isPaused=!1,t.adLoadedData={},t.currentVolume=v,t.remainingTime=-1,t.adType=f,t.maxDuration=m,t.isFirstAd=!0,t.maxRetries=g,t.isPauseRequested=!1,t.isAdStarted=!1,t.autoPlay=o,t.channelId=_,t.adDisplayContainer=n,t.adsLoader=s,t.adsLoader.addEventListener(t.googleIma.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t.onAdsManagerLoaded),t.adsLoader.addEventListener(t.googleIma.AdErrorEvent.Type.AD_ERROR,t.onAdError),t.requestAdResolver=null,t.requestAdRejector=null,t.adTagUrl=null,t.pendingRetryTimer=null,t.playbackTimeoutTimer=null,t.statusUpdateTimer=null,t.adsRenderingSettings=t._createRenderingSettings({autoAlign:!1,useStyledNonLinearAds:!0,restoreCustomPlaybackStateOnAdBreakComplete:!1,allowCompanionBeforeMaster:!0,loadVideoTimeout:8e3,enablePreloading:!1,uiElements:[]}),t}return(0,a.default)(j,e),(0,i.default)(j,[{key:"initiateAdRequest",value:function(){_.info("Initating Ad request:",this.retryCount);var e=this.createAdsRequest();try{this.adsLoader.requestAds(e)}catch(e){f.default.recordAdError(_,this.adTagUrl,"Error occurred while calling adsLoader.requestAds",e),this.onAdError(R(e))}}},{key:"requestAds",value:function(r){var n=this,e=new Promise(function(e,t){n.trigger(l.default.AD_LOADING),n.requestAdResolver=e,n.requestAdRejector=t,n.adTagUrl=r,n.initiateAdRequest()});return(0,u.default)(this.loadTimeout,e).catch(function(e){return e===m||e===v?(n.clearPendingRetryTimer(),Promise.reject(e)):(_.warn(b),n.clearPendingRetryTimer(),n.adLoaded||n.trigger(l.default.AD_LOAD_TIMED_OUT,{data:{message:"Ad failed to load in ".concat(n.loadTimeout,"ms")}}),Promise.reject(b))})}},{key:"retry",value:function(e){var t=this;if(_.info("retry"),this.isAdStarted=!1,this.clearAdStartTimer(),this.adsManager&&this.cleanupAdsManager(),this.retryCount<this.maxRetries)return this.retryCount++,_.warn("Retry ".concat(this.retryCount," of ").concat(this.maxRetries," executing:"),e),void(this.pendingRetryTimer=window.setTimeout(function(){t.initiateAdRequest()},0));_.warn(m),window.BVP_GTM.trackDevEvent({bvpEventAction:"admaxretry",bvpEventLabel:this.adType,bvpEventValue:this.retryCount,bvpTrackGA:!0}),this.trigger(l.default.MAX_RETRIES_REACHED,{data:e}),this.requestAdRejector(m),this.clearAdPlaybackTimer(),this.clearPendingRetryTimer()}},{key:"startAd",value:function(){_.info("start ad"),this.isPauseRequested=!1,this.adsManager&&this._internalStartAd()}},{key:"_internalStartAd",value:function(){try{if(this.clearAdPlaybackTimer(),this.isPauseRequested||this.isAdStarted)return;this.adsManager.start(),this.isAdStarted=!0,function(e){return e===d.AD_TYPES.PREROLL||e===d.AD_TYPES.MIDROLL}(this.adType)&&this.startAdStartTimer(5e3)}catch(e){f.default.recordAdError(_,this.adTagUrl,"Error occurred while adsManager.start call",e),this.onAdError(R(e))}}},{key:"createAdsManager",value:function(e){var t=e.getAdsManager(this.adDisplayContainer,this.adsRenderingSettings);return t.addEventListener(this.googleIma.AdErrorEvent.Type.AD_ERROR,this.onAdError),t.addEventListener(this.googleIma.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted),t.addEventListener(this.googleIma.AdEvent.Type.CLICK,this.onAdClicked),t.addEventListener(this.googleIma.AdEvent.Type.COMPLETE,this.onComplete),t.addEventListener(this.googleIma.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested),t.addEventListener(this.googleIma.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested),t.addEventListener(this.googleIma.AdEvent.Type.DURATION_CHANGE,this.onDurationChange),t.addEventListener(this.googleIma.AdEvent.Type.LOADED,this.onLoaded),t.addEventListener(this.googleIma.AdEvent.Type.PAUSED,this.onPause),t.addEventListener(this.googleIma.AdEvent.Type.RESUMED,this.onResume),t.addEventListener(this.googleIma.AdEvent.Type.STARTED,this.onStart),t.addEventListener(this.googleIma.AdEvent.Type.SKIPPED,this.onAdSkipped),t.addEventListener(this.googleIma.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onAdSkipStateChange),t}},{key:"createAdsRequest",value:function(){var e=this.videoContent.getBoundingClientRect(),t=e.width,r=e.height;this.width=t,this.height=r;var n=new this.googleIma.AdsRequest;n.adTagUrl=this.adTagUrl,n.linearAdSlotWidth=t,n.linearAdSlotHeight=r,n.nonLinearAdSlotWidth=t,n.nonLinearAdSlotHeight=r/3,n.setAdWillAutoPlay(this.autoPlay);var i=0===this.currentVolume;return n.setAdWillPlayMuted(i),n}},{key:"destroy",value:function(){var t=this;_.info("destroy"),this.adsLoader&&(this.adsLoader.removeEventListener(this.googleIma.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded),this.adsLoader.removeEventListener(this.googleIma.AdErrorEvent.Type.AD_ERROR,this.onAdError)),this.adsLoader=null,this.adDisplayContainer=null,this.adContainer&&(this.adContainer.style.left="0px",this.adContainer.style.top="0px"),this.clearAdPlaybackTimer(),this.clearPendingRetryTimer(),this.clearStatusUpdateTimer(),this.clearAdStartTimer(),this.videoContent&&this.videoContent.removeEventListener(S,this.onVideoEnd),this.videoContent=null,this.adContainer=null,this.removeAdsManagerEventListeners(),setTimeout(function(){t.destroyAdsManager()},2e3),T.forEach(function(e){t[e]=null}),this.isAdStarted=null,this.isPauseRequested=null,(0,s.default)((0,P.default)(j.prototype),"dispose",this).call(this)}},{key:"cleanupAdsManager",value:function(){this.removeAdsManagerEventListeners(),this.destroyAdsManager()}},{key:"destroyAdsManager",value:function(){this.adsManager&&this.adsManager.destroy&&(this.adsManager.destroy(),this.adsManager=null)}},{key:"removeAdsManagerEventListeners",value:function(){this.adsManager&&(this.adsManager.removeEventListener(this.googleIma.AdErrorEvent.Type.AD_ERROR,this.onAdError),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.CLICK,this.onAdClicked),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.COMPLETE,this.onComplete),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.DURATION_CHANGE,this.onDurationChange),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.LOADED,this.onLoaded),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.PAUSED,this.onPause),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.RESUMED,this.onResume),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.STARTED,this.onStart),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.SKIPPED,this.onAdSkipped),this.adsManager.removeEventListener(this.googleIma.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onAdSkipStateChange))}},{key:"startStatusUpdateTimer",value:function(t){var r=this,n=Date.now();this.statusUpdateTimer=setInterval(function(){if(r.adsManager){var e=r.adsManager.getRemainingTime();e<0&&(e=t-Math.abs(n-Date.now())/1e3),r.remainingTime=e,r.trigger(l.default.AD_PLAYBACK_PROGRESS_UPDATE,{data:{remainingTime:e,elapsedTime:t-e,duration:t}}),e<=0&&r.clearStatusUpdateTimer()}},250)}},{key:"clearPendingRetryTimer",value:function(){this.pendingRetryTimer&&(clearTimeout(this.pendingRetryTimer),this.pendingRetryTimer=null)}},{key:"clearStatusUpdateTimer",value:function(){this.statusUpdateTimer&&(clearInterval(this.statusUpdateTimer),this.statusUpdateTimer=null)}},{key:"clearAdPlaybackTimer",value:function(){this.playbackTimeoutTimer&&(clearTimeout(this.playbackTimeoutTimer),this.playbackTimeoutTimer=null)}},{key:"pause",value:function(){_.info("Ad paused requested"),this.adsManager&&this.adsManager.pause(),this.isPauseRequested=!0}},{key:"resume",value:function(){_.info("Ad resume requested"),this.adsManager.resume(),this.isPauseRequested=!1}},{key:"setVolume",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;this.currentVolume=t,this.adsManager&&this.adsManager.setVolume(t)}},{key:"startAdPlaybackTimer",value:function(e){this.playbackTimeoutTimer=window.setTimeout(this.onAdPlaybackTimeout,e)}},{key:"startAdStartTimer",value:function(e){var t=this;this.startAdTimeOutId=setTimeout(function(){f.default.recordAdError(_,t.adTagUrl,"Ad Loaded but failed to start in given time interval of 5000"),t.trigger(l.default.AD_PLAYBACK_TIMED_OUT,{data:{message:"Ad Loaded but failed to start in given time interval of 5000"}})},e)}},{key:"clearAdStartTimer",value:function(){this.startAdTimeOutId&&(clearTimeout(this.startAdTimeOutId),this.startAdTimeOutId=null)}},{key:"positionNonLinearAd",value:function(e,t,r,n){var i=(r-e)/2;this.adContainer.style.left=i+"px";var s=n-t-50;this.adContainer.style.top=s+"px"}},{key:"resizeAd",value:function(e,t,r){var n=this.adsManager.getCurrentAd();n&&!n.isLinear()&&this.positionNonLinearAd(n.getWidth(),n.getHeight(),e,t),this.adsManager.resize(e,t,r)}},{key:"onAdsManagerLoaded",value:function(e){_.info("Ad manager loaded"),this.adsManager=this.createAdsManager(e),window.youboraPlugin.setAdsAdapter(this._getYouboraImaAdapter()),this._initializeIAS(this.adsManager,this.channelId),this.adsManager.init(this.width,this.height,this.viewMode),this.setVolume(this.currentVolume),this._internalStartAd()}},{key:"_getYouboraImaAdapter",value:function(){return new window.YouboraLib.adapters.Ima(this.adsManager)}},{key:"_initializeIAS",value:function(e,t){var r=Object.assign({},k,{chanId:t});try{window.googleImaVansAdapter.init(window.google,e,this.videoContent,r)}catch(e){_.warn("IAS adapter failed to load",e)}}},{key:"onAdError",value:function(e){this.clearPendingRetryTimer();var t=e.getError(),r=t.getType();switch(f.default.recordAdError(_,this.adTagUrl,"onAdError",t),r){case this.googleIma.AdError.Type.AD_LOAD:case h:this.trigger(l.default.AD_LOAD_ERROR,{error:t}),this.retry(t);break;case this.googleIma.AdError.Type.AD_PLAY:this.trigger(l.default.AD_PLAY_ERROR,{error:t}),this.adType===d.AD_TYPES.PREROLL&&this.retry(t)}}},{key:"onContentPauseRequested",value:function(){this.clearAdPlaybackTimer(),this.videoContent.removeEventListener(S,this.onVideoEnd),this.trigger(l.default.CONTENT_PAUSE_REQUESTED)}},{key:"onContentResumeRequested",value:function(){_.info("Content resume requested"),this.clearStatusUpdateTimer(),this.clearAdPlaybackTimer(),this.videoContent.addEventListener(S,this.onVideoEnd),this.trigger(l.default.CONTENT_RESUME_REQUESTED)}},{key:"onDurationChange",value:function(e){var t=e.getAd().getDuration();this.trigger(l.default.DURATION_CHANGE,{duration:t})}},{key:"onAllAdsCompleted",value:function(e){_.info("All Ads completed",e.getAd()),this.isFirstAd=!0,this.clearStatusUpdateTimer(),this.clearAdPlaybackTimer(),this.trigger(l.default.ALL_ADS_COMPLETED,{data:this._getEventData(e.getAd(),this.adLoadedData)}),this.isPaused&&_.warn("Ads completed despite being paused!")}},{key:"onLoaded",value:function(e){var t=e.getAd();this.adLoadedData=e.getAdData();var r=t.getContentType();if(_.info("onLoaded is triggered",e,e.getAd(),e.getAdData()),this.adLoadedData)if(this.isMobile&&function(e){if(e)return y[e];return!1}(r))this.onAdError(R(new Error("Disallowed mobile content")));else if(this.isMobile&&""===r&&function(e){var t=c.default.getURLExtension(e.mediaUrl);if(t)return g[t];return!1}(this.adLoadedData))this.onAdError(R(new Error("Disallowed mobile url")));else{if(t&&!t.isLinear()){var n=e.getAdData();n&&this.positionNonLinearAd(n.width,n.height,this.width,this.height)}this.adLoaded=!0,this.clearPendingRetryTimer(),_.info("trigger AdEvents.AD_LOADED"),this.trigger(l.default.AD_LOADED,{data:this._getEventData(t,this.adLoadedData)}),this.requestAdResolver()}else this.onAdError(R(new Error("No ad data found")))}},{key:"onStart",value:function(e){var t=e.getAd();_.info("Ad started",t),window.BVP_GTM&&0<this.retryCount&&window.BVP_GTM.trackDevEvent({bvpEventAction:"adretry",bvpEventLabel:this.adType,bvpEventValue:this.retryCount,bvpTrackGA:!0}),this.clearAdStartTimer(),this.setVolume(this.currentVolume),this.retryCount=0;var r=t.getDuration();if(0<r){this.startStatusUpdateTimer(r);var n=t.getAdPodInfo();if(this.isFirstAd){var i=this.maxDuration/1e3;0===i&&void 0!==n&&void 0!==n.getMaxDuration()?i=n.getMaxDuration():0===i&&(i=r),this.isFirstAd=!1,this.startAdPlaybackTimer(this._getAdPlaybackTimerThreshold(i))}}this.resizeAd(this.width,this.height,this.googleIma.ViewMode.NORMAL),this.trigger(l.default.AD_STARTED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onComplete",value:function(e){_.info("Ad completed"),this.remainingTime=-1;var t=e.getAd();this.clearStatusUpdateTimer(),this.trigger(l.default.AD_COMPLETED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onPause",value:function(e){var t=e.getAd();this.isPaused=!0,this.clearStatusUpdateTimer(),this.clearAdPlaybackTimer(),this.trigger(l.default.AD_PAUSED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onResume",value:function(e){var t=e.getAd();this.isPaused=!1;var r=t.getDuration();r<=0&&(r=t.getAdPodInfo().getMaxDuration());this.startStatusUpdateTimer(r),this.trigger(l.default.AD_RESUMED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onAdClicked",value:function(e){var t=e.getAd();_.info("Ad clicked",t),this.pause(),this.trigger(l.default.AD_CLICKED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onVideoEnd",value:function(){_.info("onVideoEnd"),this.adsLoader.contentComplete()}},{key:"onAdSkipped",value:function(e){var t=e.getAd();this.trigger(l.default.SKIPPED,{data:this._getEventData(t,this.adLoadedData)})}},{key:"onAdSkipStateChange",value:function(){var e=this.adsManager&&this.adsManager.getAdSkippableState();this.trigger(l.default.SKIP_STATE_CHANGED,{data:{adSkipState:e}})}},{key:"onAdPlaybackTimeout",value:function(){f.default.recordAdError(_,this.adTagUrl,v),this.trigger(l.default.AD_PLAYBACK_TIMED_OUT),this.requestAdRejector(v)}},{key:"_getAdPlaybackTimerThreshold",value:function(e){var t=1e3*(this._getRemainingTime(e)+20*e/100);return Math.max(t,5e3)}},{key:"_getRemainingTime",value:function(e){return this.remainingTime&&0<=this.remainingTime?this.remainingTime:e}},{key:"_createRenderingSettings",value:function(e){var t=new this.googleIma.AdsRenderingSettings;return Object.assign(t,e),t}},{key:"_getEventData",value:function(e,t){return e?{clip:{contentId:e.getAdId()},duration:e.getDuration(),url:t.mediaUrl,metadata:{},title:e.getTitle(),mediaUrl:e.getMediaUrl()}:{}}}]),j}(o.default);r.default=j},{"../../events/ad-events":226,"../../utils/deadline":289,"../../utils/event-target":290,"../../utils/url-utils":299,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report",log:"log"}],245:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-ad-buffering",innerHTML:'\n      <div class="bvp-ad-buffering__spinner"></div>\n      '})}}]),r}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],246:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("../../utils/css-helpers")),d=videojs.getComponent("Component"),p="bvp-ad-play-button",f="bvp-ad-play-button__paused",h="bvp-ad-play-button__playing",m="bvp-ad-fullscreen",b="bvp-ad-exit-fullscreen",v="bvp-ad-volume-bar__container--expanded",y="bvp-ad-volume-bar--expanded",g=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){var e=(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-ad-control-bar",innerHTML:'\n      <button class="'.concat(p,' bvp-ad-button" \n        title="Play" \n        aria-live="polite" \n        aria-label="Play"></button>\n      <div class="bvp-ad-sound-menu">\n        <div class="bvp-ad-sound-menu__mute-control bvp-ad-button" \n            role="button" \n            aria-live="polite" \n            title="Mute" \n            aria-label="Mute" \n            tabindex="0"></div>\n        <div class="bvp-ad-volume-bar">\n          <div class="bvp-ad-volume-bar__container"\n                title="Volume Level"\n                aria-label="Volume Level"\n                aria-live="polite"\n                role="slider" \n                tabindex="0" \n                aria-valuemin="0" \n                aria-valuemax="100" \n                aria-valuenow="0"\n                aria-valuetext="0%">\n            <div class="bvp-ad-volume-bar__scrubber"></div>\n          </div>\n        </div>\n      </div>\n      <button class="').concat(m,' bvp-ad-button" title="Fullscreen" aria-live="polite" aria-label="Fullscreen"></button>\n    ')});return this._expandVolumeBar=this._expandVolumeBar.bind(this),this._collapseVolumeBar=this._collapseVolumeBar.bind(this),this._volumeBar=e.querySelector(".".concat("bvp-ad-volume-bar")),this._volumeBarContainer=e.querySelector(".".concat("bvp-ad-volume-bar__container")),this._soundMenu=e.querySelector(".".concat("bvp-ad-sound-menu")),this._muteButton=e.querySelector(".bvp-ad-sound-menu__mute-control"),this._soundMenu.addEventListener("mouseover",this._expandVolumeBar),this._volumeBarContainer.addEventListener("focus",this._expandVolumeBar),this._muteButton.addEventListener("focus",this._expandVolumeBar),this._soundMenu.addEventListener("mouseout",this._collapseVolumeBar),this._volumeBarContainer.addEventListener("blur",this._collapseVolumeBar),this._muteButton.addEventListener("blur",this._collapseVolumeBar),e}},{key:"dispose",value:function(){this._soundMenu.removeEventListener("mouseover",this._expandVolumeBar),this._volumeBarContainer.removeEventListener("focus",this._expandVolumeBar),this._muteButton.removeEventListener("focus",this._expandVolumeBar),this._soundMenu.removeEventListener("mouseout",this._collapseVolumeBar),this._muteButton.removeEventListener("blur",this._expandVolumeBar),this._volumeBarContainer.removeEventListener("blur",this._collapseVolumeBar),(0,l.default)((0,o.default)(r.prototype),"dispose",this).call(this)}},{key:"_expandVolumeBar",value:function(){c.default.addClass(this._volumeBarContainer,v),c.default.addClass(this._volumeBar,y)}},{key:"_collapseVolumeBar",value:function(){c.default.removeClass(this._volumeBarContainer,v),c.default.removeClass(this._volumeBar,y)}},{key:"setPlayState",value:function(){this._setPlayPauseState(!0)}},{key:"setPauseState",value:function(){this._setPlayPauseState(!1)}},{key:"setEnterFullscreenState",value:function(){this._setFullscreenState(!0)}},{key:"setExitFullscreenState",value:function(){this._setFullscreenState(!1)}},{key:"hideFullscreenButton",value:function(){var e=this.$(".".concat(m));c.default.addClass(e,"vjs-hidden")}},{key:"_setFullscreenState",value:function(e){var t=e?"Exit Fullscreen":"Fullscreen",r=this.$(".".concat(m));e?c.default.addClass(r,b):c.default.removeClass(r,b),r.setAttribute("title",t),r.setAttribute("aria-label",t)}},{key:"_setPlayPauseState",value:function(e){var t=e?"Pause":"Play",r=this.$(".".concat(p));e?(c.default.removeClass(r,h),c.default.addClass(r,f)):(c.default.removeClass(r,f),c.default.addClass(r,h)),r.setAttribute("title",t),r.setAttribute("aria-label",t)}}]),r}(d);r.default=g},{"../../utils/css-helpers":287,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],247:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=videojs.getComponent("Component"),d="bvp-ad--active",p="bvp-ad-time-remaining__time-empty",f=function(e){function n(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,n),(t=(0,a.default)(this,(0,o.default)(n).call(this,e,r))).timeRemainingComponent=t.getChild("AdTimeRemaining"),t.on("mouseenter",t.onMouseEnter),t.on("mouseout",t.onMouseOut),t}return(0,u.default)(n,e),(0,s.default)(n,[{key:"showUI",value:function(){this.timeRemainingComponent.show()}},{key:"hideUI",value:function(){this.timeRemainingComponent.hide()}},{key:"createEl",value:function(){return(0,l.default)((0,o.default)(n.prototype),"createEl",this).call(this,"div",{className:"bvp-ad"})}},{key:"setCountdownTime",value:function(e){(this.timeRemainingComponent.el_.textContent=e)?this.timeRemainingComponent.removeClass(p):this.timeRemainingComponent.addClass(p)}},{key:"onMouseEnter",value:function(){this.player_.blockControls||this.addClass(d)}},{key:"onMouseOut",value:function(){this.removeClass(d)}},{key:"dispose",value:function(){(0,l.default)((0,o.default)(n.prototype),"dispose",this).call(this),this.remainingElement=null}}]),n}(c);r.default=f},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],248:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-dai-ad-learn-more vjs-hidden",innerHTML:"Learn More"})}}]),r}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],249:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"button",{className:"bvp-ad-big-play-button"},{"aria-live":"polite","aria-label":"Play",title:"Play"})}}]),r}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],250:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){var e=this.id();return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-ad__content",id:e.concat("AdTagContainer")})}}]),r}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169}],251:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),(0,a.default)(this,(0,o.default)(r).call(this,e,t))}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-ad-time-remaining bvp-ad-time-remaining__time-empty vjs-hidden",innerHTML:""})}}]),r}(videojs.getComponent("Component"));r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],252:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("../../utils/projector-utils")),d=videojs.getComponent("Component"),p="bvp-ad-time-remaining__time-empty",f=function(e){function n(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,n),(t=(0,a.default)(this,(0,o.default)(n).call(this,e,r))).adTimeRemainingComponent=t.getChild("AdTimeRemaining"),t.adLearnMoreComponent=t.getChild("AdLearnMore"),t}return(0,u.default)(n,e),(0,s.default)(n,[{key:"show",value:function(){(0,l.default)((0,o.default)(n.prototype),"show",this).call(this),this.adTimeRemainingComponent.show(),c.default.isMobile()&&this.adLearnMoreComponent.show()}},{key:"hide",value:function(){(0,l.default)((0,o.default)(n.prototype),"hide",this).call(this),this.adTimeRemainingComponent.hide(),c.default.isMobile()&&this.adLearnMoreComponent.hide()}},{key:"createEl",value:function(){var e=c.default.isMobile()?"bvp-dai-ad__mobile":"";return(0,l.default)((0,o.default)(n.prototype),"createEl",this).call(this,"div",{className:"bvp-dai-ad ".concat(e," vjs-hidden")})}},{key:"setCountdownTime",value:function(e){(this.adTimeRemainingComponent.el_.textContent=e)?this.adTimeRemainingComponent.removeClass(p):this.adTimeRemainingComponent.addClass(p)}}]),n}(d);r.default=f},{"../../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],253:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("./videojs-ad-buffering-spinner")),o=n(e("./videojs-ad-controlbar")),l=n(e("./ad-controller")),u=n(e("./videojs-ad-controls")),c=n(e("./videojs-ad-time-remaining")),d=n(e("./videojs-ad-play-button")),p=n(e("./videojs-ad-tag-container")),f=n(e("./ad-utils")),h=n(e("../../events/player-events")),m=n(e("../../utils/projector-utils")),b=new(n(e("log")).default)("GoogleAdsPlugin"),v=function(){function r(e,t){(0,i.default)(this,r),this.options=e,this.player=t,videojs.registerComponent("AdControlsComponent",u.default),videojs.registerComponent("AdTimeRemaining",c.default),videojs.registerComponent("AdBufferingSpinner",a.default),videojs.registerComponent("AdPlayButton",d.default),videojs.registerComponent("AdTagContainer",p.default),videojs.registerComponent("AdControlBar",o.default),b.info("Google Ads Plugin Initialized")}return(0,s.default)(r,[{key:"onReady",value:function(){b.info("Plugin Ready Starting Ad Controller"),this.adController=this.player.AdController=new l.default(this.options,this.player)}},{key:"onPlayPreroll",value:function(){this.adController&&(this.adController.destroy(),this.adController=this.player.AdController=null);var e=Object.assign({forcePlay:!0},this.options);this.adController=this.player.AdController=new l.default(e,this.player),m.default.isAutoplayDisabledBrowser()&&this.adController.prerollForAutoplayDisabledBrowser()}},{key:"dispose",value:function(){this.adController.destroy(),this.adController=null,this.player.AdController=null,this.player=this.options=null}}],[{key:"init",value:function(e){if(!m.default.isMiniPlayer(this.options_)&&f.default.canDisplayAds(e)){var t=new r(e,this);this.ready(t.onReady.bind(t)),this.on(h.default.PLAY_PREROLL,t.onPlayPreroll.bind(t)),this.on(h.default.DISPOSE,function(){t.dispose(),t=null})}}}]),r}();videojs.registerPlugin("GoogleAdsPlugin",v.init);var y=v;r.default=y},{"../../events/player-events":228,"../../utils/projector-utils":296,"./ad-controller":236,"./ad-utils":242,"./videojs-ad-buffering-spinner":245,"./videojs-ad-controlbar":246,"./videojs-ad-controls":247,"./videojs-ad-play-button":249,"./videojs-ad-tag-container":250,"./videojs-ad-time-remaining":251,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,log:"log"}],254:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),c=n(e("./projector-autoplay")),s=n(e("../utils/projector-utils")),a=n(e("../utils/query-string")),d=n(e("error-report")),o=n(e("../../polyfills/url-search-params")),l=n(e("log")),p=n(e("../utils/Site")),f=/\bvod\b/g,h="embed/vod",m=new l.default("ProjectorAds"),b=["test","demo","bpop","adv","tagr","cmpid","srnd"],v=["pagetype","frameurl"];function y(e,t){return e?1<arguments.length&&void 0!==t&&t?e.replace(f,h):e:""}var g=function(){function l(e,t){if((0,u.default)(this,l),e&&e.original_user_options){var r=e.original_user_options,n=r.ad_tag_midroll,i=void 0===n?"":n,s=r.module_ad_player;this.dataSetup=e,this.options=r,this.autoplay=c.default.getReportingValues(e).dfp,this.video=t,this.live=Boolean(r.live),this.offsiteEmbed="true"===String(r.offsite_embed)||"offsite"===r.partner;var a=this.isPrerollAdUnit()?this.addVerticalToUnit():this.getUnitWithVertical(),o=this._getPrerollAdCodePrefix();this.prerollUnit=y(a?o+a:"",this.offsiteEmbed),this.midrollUnit=y(i,this.offsiteEmbed),this.adsEnabled="disabled"!==s&&Boolean(this.prerollUnit||this.midrollUnit)}else d.default.recordGenericError(m,"User options are missing")}return(0,i.default)(l,[{key:"isPrerollAdUnit",value:function(){return Boolean(this.video&&this.video.getPrerollAdUnit()&&this.options.vertical)}},{key:"addVerticalToUnit",value:function(){return this.options.ad_tag?this.options.ad_tag:this.isPrerollAdUnit()?"".concat(this.options.vertical,"/").concat(this.video.getPrerollAdUnit()):void 0}},{key:"getUnitWithVertical",value:function(){return this.live?this.options.ad_tag:this.options.ad_tag?this.options.ad_tag:this.video?this.video.getAdTag():null}},{key:"_getSites",value:function(){var t={},e=this.options.additionalSites;e&&e.split(",").map(function(e){return t[e]=1});var r=this.video?this.video.getSites():null;return r&&r.map(function(e){return t[e]=1}),0<Object.keys(t).length?Object.keys(t).join(","):null}},{key:"_computedParameters",value:function(){var e=this._generateByzantiumParams(),t=this.video?this.video.getRawNiData():null;t&&(e.ni=t);var r=this.video?this.video.getId():null;r&&(e.guid=r);var n=this._getSites();return n&&(e.sites=n),e.autoplay=this.autoplay||this.options.isPlaylistPreloadedPlayer,e.platform=s.default.isMobile()?"mobile":"desktop",p.default.isOnSite(window.location.hostname)?e.onsite=!0:e.offsite=!0,e}},{key:"_mergeCustomParameters",value:function(e){var t=e?decodeURIComponent(e):"",r=a.default.parseQueryString(t),n=this._computedParameters(),i=this._getAdQueryParamOverrides();return Object.assign({},r,i,n)}},{key:"prepare",value:function(){if(this.adsEnabled){var e=this.options.ad_tag_cust_params_preroll,t=this.options.ad_tag_cust_params_midroll;return{hasPreroll:Boolean(this.prerollUnit),module_ad_player:"enabled",ad_tag:this.prerollUnit,ad_tag_midroll:this.midrollUnit,ad_tag_cust_params_preroll:this.prerollUnit?this._mergeCustomParameters(e):{},ad_tag_cust_params_midroll:this.midrollUnit?this._mergeCustomParameters(t):{},share_overrides:{ad_tag:this.prerollUnit,ad_tag_midroll:this.midrollUnit}}}return{module_ad_player:"disabled",ad_tag:"",ad_tag_midroll:"",ad_tag_cust_params_preroll:"",share_overrides:{ad_tag:"",ad_tag_midroll:""}}}},{key:"_generateByzantiumParams",value:function(){var e,t=this.dataSetup.byzantiumClient||(window.__bloomberg__||{}).byzantium;if(t&&t.getTagsWithContentInfo){var r={};this.video&&(r={id:this.video.getId(),contentType:"video",contentTags:this.video.getContentTags()||[]}),e=t.getTagsWithContentInfo({},r)}return e||{}}},{key:"_getAdQueryParamOverrides",value:function(){var r=this._getWindowSearchParams();return[].concat(b,v).reduce(function(e,t){return r.has(t)&&(e[t]=r.get(t)),e},{})}},{key:"_getWindowSearchParams",value:function(){var e=new URL(window.location).searchParams;if(e)return e;var t=document.createElement("a");t.href=window.location;var r=t.search;return t=null,new o.default(r)}},{key:"_getPrerollAdCodePrefix",value:function(){var e=this.dataSetup.ad_code_prefix?this.dataSetup.ad_code_prefix:"",t=this._getWindowSearchParams();return t.has("ad_test")?t.get("ad_test"):e}}]),l}();r.default=g},{"../../polyfills/url-search-params":355,"../utils/Site":281,"../utils/projector-utils":296,"../utils/query-string":297,"./projector-autoplay":255,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.iterator":153,"core-js/modules/es.array.join":154,"core-js/modules/es.array.map":156,"core-js/modules/es.array.reduce":157,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":185,"core-js/modules/es.string.search":186,"core-js/modules/es.string.split":187,"core-js/modules/web.dom-collections.iterator":194,"core-js/modules/web.url":196,"error-report":"error-report",log:"log"}],255:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.freeze"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=n(e("../utils/projector-utils")),u="autoplay",c="continuousplay",d="false",p="mobile",f="offsiteembed",h="true",m="video_autoplay_on_page",b="vod",v=Object.freeze({bss_cont_play:0,bss_auto_play:0}),y=(i={},(0,o.default)(i,u+h+c+d+p+d+b+d,{bss_cont_play:0,bss_auto_play:1}),(0,o.default)(i,u+d+c+d+p+d+b+d,v),(0,o.default)(i,u+h+c+d+p+h+b+d,v),(0,o.default)(i,u+d+c+d+p+h+b+d,v),(0,o.default)(i,u+d+c+h+p+d+b+d,{bss_cont_play:1,bss_auto_play:1}),(0,o.default)(i,u+d+c+d+p+h+b+d,v),(0,o.default)(i,u+d+c+h+p+h+b+d,{bss_cont_play:1,bss_auto_play:0}),(0,o.default)(i,u+h+c+d+p+d+b+h,{bss_cont_play:0,bss_auto_play:1}),(0,o.default)(i,u+h+c+h+p+d+b+h,{bss_cont_play:1,bss_auto_play:1}),(0,o.default)(i,u+d+c+d+p+d+b+d+f+h,{bss_cont_play:0,bss_auto_play:0,bss_offsite:1}),i);var g=function(){function n(){(0,s.default)(this,n)}return(0,a.default)(n,null,[{key:"getAutoPlayBoolean",value:function(e){var t=e.original_user_options;return t.hasOwnProperty(m)?t[m]:function(e){var t=e.original_user_options.autoplay,r=l.default.isAllowedToAutoplay(e);return Boolean(t&&r)}(e)}},{key:"getAutoPlayTruthString",value:function(e){return u+(e.autoPlay?h:d)+c+(e.continuousPlayPreviousUrl?h:d)+p+(l.default.isMobile()?h:d)+b+(e.vod?h:d)+(e.offsiteEmbed?f+h:"")}},{key:"getComscoreAutoplayValues",value:function(e){return y[n.getAutoPlayTruthString(e)]||v}},{key:"getAutoplayConfigData",value:function(e){var t=e.original_user_options;return{continuousPlayPreviousUrl:function(e){return e.hasOwnProperty("continuous_play_previous_url")}(t),autoPlay:n.getAutoPlayBoolean(e),vod:!t.live,offsiteEmbed:t.offsite_embed||"offsite"===t.partner}}},{key:"getReportingValues",value:function(e){var t=n.getAutoplayConfigData(e),r=n.getComscoreAutoplayValues(t);return{dfp:function(e){return e.autoPlay}(t),comscore:r,analytics:{continuousPlay:Boolean(r.bss_cont_play),autoplay:Boolean(r.bss_auto_play)}}}}]),n}();r.default=g},{"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.freeze":171}],256:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.freeze"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/helpers/classCallCheck")),o=i(e("@babel/runtime/helpers/createClass")),l=i(e("@babel/runtime/helpers/defineProperty")),u=n(e("projector-defaults")),c=i(e("../../config/livestreams")),d=i(e("../utils/deadline")),p=i(e("load-timer")),f=i(e("resources")),s=i(e("log")),h=i(e("error-report")),m=new s.default("ProjectorConfig"),b=function(){function s(e){var t=e.userOptions,r=e.version,n=e.bmmrAsset,i=e.liveId;(0,a.default)(this,s),(0,l.default)(this,"defaultOptions",void 0),(0,l.default)(this,"liveStreams",void 0),(0,l.default)(this,"userOptions",void 0),(0,l.default)(this,"version",void 0),(0,l.default)(this,"bmmrAsset",void 0),(0,l.default)(this,"liveId",void 0),(0,l.default)(this,"title",void 0),Object.defineProperties(this,{userOptions:{value:t},version:{value:r},bmmrAsset:{value:n},liveId:{value:i}}),this.defaultOptions=Object.freeze(u.getConfig()),this.liveStreams=Object.freeze(c.default)}return(0,o.default)(s,null,[{key:"load",value:function(e){return new s(e).loadRemoteOverrides()}}]),(0,o.default)(s,[{key:"loadRemoteOverrides",value:function(){var t=this,r=f.default.CONFIG_OVERWRITES;return p.default.trackLoadStart(this.userOptions.htmlChildId,p.default.loadTypes.CONFIG,r),(0,d.default)(300,fetch(r)).then(function(e){return e.json()}).then(function(e){t.defaultOptions=Object.freeze(e.projector_defaults),t.liveStreams=Object.freeze(e.livestreams),p.default.trackLoadComplete(t.userOptions.htmlChildId,p.default.loadTypes.CONFIG,p.default.loadStatus.COMPLETE)}).catch(function(e){h.default.recordLoadError(m,r,"Unable to load:",e),p.default.trackLoadComplete(t.userOptions.htmlChildId,p.default.loadTypes.CONFIG,p.default.loadStatus.ERROR)}).then(function(){return t}).catch(function(){return t})}}]),s}();r.default=b},{"../../config/livestreams":213,"../utils/deadline":289,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"core-js/modules/es.object.define-properties":168,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.freeze":171,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report","load-timer":"load-timer",log:"log","projector-defaults":"projector-defaults",resources:"resources"}],257:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.define-property"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),l=n(e("./stream"));var s=function(){function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;(0,i.default)(this,s),(0,o.default)(this,"name",void 0),(0,o.default)(this,"weight",void 0),(0,o.default)(this,"streams",void 0),this.name=e,this.weight=t,this.streams=r}return(0,a.default)(s,null,[{key:"getStreams",value:function(e){return s.combineStreams(s.parse(0<arguments.length&&void 0!==e?e:[])).streams}},{key:"parse",value:function(e){return(0<arguments.length&&void 0!==e?e:[]).reduce(function(e,t){var r=t.name,n=t.weight,i=t.streams.map(function(e,t){var r=t.url,n=t.type;return new l.default(r,n,e)}.bind(null,n));return e.push(new s(r,n,i)),e},[])}},{key:"combineStreams",value:function(e){var n=[];return new s((0<arguments.length&&void 0!==e?e:[]).reduce(function(e,t){var r=t.name;return t.streams.forEach(function(e,t,r){r.cname=e,t.push(r)}.bind(null,r,n)),"".concat(e,"_").concat(r)},""),null,n)}}]),s}();r.default=s},{"./stream":263,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.map":156,"core-js/modules/es.array.reduce":157,"core-js/modules/es.function.name":165,"core-js/modules/es.object.define-property":169,"core-js/modules/web.dom-collections.for-each":193}],258:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.map"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a={bufferingAnimation:"buffering_animation",prerollUnit:"ad_tag",midrollUnit:"ad_tag_midroll",prerollNetworkId:"ad_network_id_preroll",midrollNetworkId:"ad_network_id_midroll",prerollSuffix:"ad_tag_suffix_preroll",midrollSuffix:"ad_tag_suffix_midroll",midrollMinDuration:"ad_midroll_min_duration",midrollMaxDuration:"ad_midroll_max_duration",prerollSz:"ad_tag_sz_preroll",midrollSz:"ad_tag_sz_midroll",prerollTile:"ad_tag_tile_preroll",midrollTile:"ad_tag_tile_midroll",prerollIsGPT:"ad_tag_gpt_preroll",midrollIsGPT:"ad_tag_gpt_midroll",prerollCustParams:"ad_tag_cust_params_preroll",midrollCustParams:"ad_tag_cust_params_midroll",overlayDisableCompanionAds:"disable_overlay_companion_ads",prerollDisableCompanionAds:"disable_companion_ads",midrollDisableCompanionAds:"disable_companion_ads",debug:"log_debug",prerollAdsPerBlock:"preroll_ads_per_block",midrollAdsPerBlock:"ads_live_per_block",prerollPlaybackDelay:"preroll_ads_playback_delay",midrollPlaybackDelay:"ads_live_playback_delay",controlsFadeMillis:"ui_autohide_timeout",jsAdsEnabled:"use_js_ads",prerollMaxRetries:"ads_max_retries_preroll",midrollMaxRetries:"ads_max_retries_midroll",shouldFetchCompanionAd:"ad_companion",byzantiumClient:"byzantium_client"},o={ns_site:"comscore_ns_site",page_level_tags:"comscore_page_level_tags"};function l(r,n,i){Object.keys(r).map(function(e){var t=r[e];void 0!==n[t]&&(i[e]=n[t])})}var u=function(){function t(){(0,i.default)(this,t)}return(0,s.default)(t,null,[{key:"addOptions",value:function(e){e.plugins||(e.plugins={}),t.addGoogleAdOptions(e),t.addComscoreOptions(e),t.addDaiOptions(e)}},{key:"addGoogleAdOptions",value:function(e){e.plugins.GoogleAdsPlugin||(e.plugins.GoogleAdsPlugin={}),l(a,e,e.plugins.GoogleAdsPlugin)}},{key:"addComscoreOptions",value:function(e){e.plugins.ComscoreStreamSensePlugin||(e.plugins.ComscoreStreamSensePlugin={}),l(o,e,e.plugins.ComscoreStreamSensePlugin)}},{key:"addDaiOptions",value:function(e){e.plugins.DaiPlugin||(e.plugins.DaiPlugin={}),l(a,e,e.plugins.DaiPlugin)}}]),t}();r.default=u},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.map":156,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174}],259:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("log")),o=n(e("array-find-index")),l=new s.default("PosterSize"),u=[{width:320,height:180},{width:640,height:360},{width:960,height:540}],c=/(.*)-1x-1\.(.*)/,d=function(){function s(){(0,i.default)(this,s)}return(0,a.default)(s,null,[{key:"isTemplateImage",value:function(e){return c.test(e)}},{key:"closestImage",value:function(t,r,e){if(!s.isTemplateImage(e))return l.warn("Cannot resize: Invalid template image",e),e;if(t=parseFloat(t),r=parseFloat(r),t<=0)return l.warn("Cannot resize: Invalid container size",t,r),e;r<=0&&(r=.5625*t);var n=(0,o.default)(u,function(e){return e.width>=t&&e.height>=r});-1===n&&(n=u.length-1);var i=u[n];return e.replace(c,"$1".concat(i.width,"x").concat(i.height,".$2"))}}]),s}();r.default=d},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"array-find-index":25,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,log:"log"}],260:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=function(){function r(e,t){(0,i.default)(this,r),this.appId=e,this.htmlChildId=t}return(0,s.default)(r,[{key:"prioritizeStreams",value:function(e){return e?Promise.resolve(e):Promise.resolve(null)}},{key:"prioritizeCDNs",value:function(e){return e?Promise.resolve(e):Promise.resolve(null)}}]),r}();r.default=a},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178}],261:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass"));function a(e,r){for(var t,n,i,s=[].concat(e),a=[],o=s.reduce(function(e,t){return e+t[r]},0);0<s.length&&1e-13<o;){t=0,n=Math.random()*o;for(var l=0,u=s.length;l<u;l++)if(n<=(t+=(i=s[l])[r])){a.push(i),s.splice(l,1),o-=i[r];break}}return a.concat(s)}var o=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"prioritizeStreams",value:function(e){return e?a(e,"percent"):null}},{key:"prioritizeCDNs",value:function(e){return e?a(e,"weight"):null}}]),e}();r.default=o},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.reduce":157,"core-js/modules/es.array.splice":161,"core-js/modules/es.object.define-property":169}],262:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.map"),e("core-js/modules/es.date.to-json"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.url.to-json"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("../../utils/persist-controls")),l=n(e("../projector-autoplay")),u=n(e("../bmmr-asset-js/bmmr-asset-js")),c=n(e("./cdn")),d=n(e("./prioritize-cdn/cedexis-priority-provider")),p=n(e("../../../config/errorStrings.json")),f=n(e("./plugin-options")),h=n(e("./poster-size")),m=n(e("../projector-ads")),b=n(e("../../utils/projector-utils")),v=n(e("resources")),y=n(e("./prioritize-cdn/weighted-random-priority-provider")),g=n(e("log")),_=n(e("error-report")),j=n(e("triton-stream-provider")),C=e("bvp-constant"),A=n(e("lodash.clone")),E=n(e("lodash.pick")),P=n(e("../bmmr-asset-js/video-stream")),w=e("dai-util"),S=new g.default("ProjectorSettings"),T=C.MPEG_STREAM_TYPE,k={MP4:!0,TS:!0,F4M:!0},R=["id","title","live","form_type","player_type","cedexisAppID","streamProvider","streamProviderConfig"];function D(e){return"https:"===location.protocol&&v.default.isDev?e.replace(":".concat(v.default.localPort),":".concat(v.default.localPort+1)):e}var O=function(){function r(e){var t=this;if((0,i.default)(this,r),(0,a.default)(this,"config",void 0),(0,a.default)(this,"liveId",void 0),(0,a.default)(this,"version",void 0),(0,a.default)(this,"userOptions",void 0),(0,a.default)(this,"bmmrAsset",void 0),(0,a.default)(this,"htmlChildId",void 0),(0,a.default)(this,"prioritizeStreams",void 0),(0,a.default)(this,"dataSetup",void 0),(0,a.default)(this,"readyPromise",void 0),(0,a.default)(this,"debugLogEnabled",void 0),(0,a.default)(this,"finalizeSettings",function(){t.dataSetup=Object.assign({swf:r.getSwfUrl(),ui_skin_url:r.getSkinUrl(),buffering_animation:r.getBufferingAnimationUrl(),asset_version:t.version,original_user_options:t.config.userOptions},t.config.defaultOptions||{},t.userOptions||{},{poster:void 0},t.generateProjectorAssetWithStreams()),(0,w.isDaiEnabled)(t.dataSetup)&&(t.dataSetup=(0,w.formatStreams)(t.dataSetup)),t._overwriteSettingsForHidingPlayerControls(),t.determineMuteState();var e=new m.default(t.dataSetup,t.bmmrAsset);t.dataSetup=Object.assign(t.dataSetup,e.prepare()),t._determineContentAutoplay(),f.default.addOptions(t.dataSetup),t.initializeIsViewable(),t.determineTechOrder(),t.determineTitle(),t.setControlsVisibility(),t.setNativeTextTrack(),t.addPlayerIdToPluginSettings(),t.filterStreamsForMobile(),t._overwriteSettingsForStreamProvider(),t._overwriteSettingsForExperiment(),!t._isTritonStream()&&t.dataSetup.hlsjs&&(t.dataSetup.hlsjs.hlsConfig.startLevel=-1),t.dataSetup.autoplayReportingValues=l.default.getReportingValues(t.dataSetup)}),(0,a.default)(this,"addPlayerIdToPluginSettings",function(){t.dataSetup&&t.dataSetup.plugins?Object.keys(t.dataSetup.plugins).forEach(function(e){t.dataSetup.plugins[e].playerId=t.dataSetup.id}):S.debug("Cannot add playerid tp plugin options")}),this.config=e,this.config.version){if(this.liveId=null,this.dataSetup=null,this.prioritizeStreams=null,this.version=this.config.version,this.userOptions=this.config.userOptions,this.userOptions.live=Boolean(+this.userOptions.live),this.bmmrAsset=this.config.bmmrAsset,this.htmlChildId=this.userOptions.htmlChildId,this.userOptions.live){if(!this.config.liveId)return void _.default.recordGenericError(S,"liveId not passed");if(this.liveId=this.config.liveId,!this.config.liveStreams[this.liveId])return void _.default.recordGenericError(S,"Invalid liveId:",this.liveId)}!this.bmmrAsset||this.bmmrAsset instanceof u.default?(this.debugLogEnabled=this.userOptions.log_debug,videojs.addLanguage("en",p.default),void 0!==this.userOptions.tech_order&&(this.userOptions.techOrder=this.userOptions.tech_order),this.readyPromise=this.prepareStreams().then(this.setPrioritizedStreams.bind(this),function(e){return S.warn("Stream prioritize failure: ".concat(e))}).then(this.finalizeSettings).then(function(){return t})):_.default.recordGenericError(S,"Unexpected BMMR asset type")}else _.default.recordGenericError(S,"Invalid version passed")}return(0,s.default)(r,[{key:"ready",value:function(){return this.readyPromise}},{key:"determineTechOrder",value:function(){var e=this.dataSetup.techOrder||[],t=[];if(b.default.isMobile()||b.default.isSafariDesktop())this.dataSetup.techOrder=["html5"];else{for(var r=0;r<e.length;r++)if("html5"===e[r])t.push("hlsjs");else{if("Chromecast"===e[r]&&b.default.isIeOrEdge())continue;t.push(e[r])}this.dataSetup.techOrder=t}}},{key:"determineMuteState",value:function(){this.dataSetup.muted=!b.default.isRadioPlayer(this.dataSetup)&&(b.default.isMutedOverlayShowing(this.dataSetup)||this.config.userOptions.start_muted||b.default.isMiniPlayer(this.dataSetup)||"true"===o.default.get("muted"))}},{key:"initializeIsViewable",value:function(){this.dataSetup.isViewable=!0}},{key:"setControlsVisibility",value:function(){b.default.isMobile()&&!this.dataSetup.hideNativePlayerControls&&(this.dataSetup.nativeControlsForTouch=!0)}},{key:"setNativeTextTrack",value:function(){var e=this.dataSetup&&this.dataSetup.html5||{};this.userOptions.live&&b.default.isSafariDesktop()&&(e.nativeTextTracks=!0);var t=!e.hasOwnProperty("nativeTextTracks")||e.nativeTextTracks,r=videojs.getTech("Html5");r&&(r.prototype.featuresNativeTextTracks=t);var n=videojs.getTech("Hlsjs");n&&(n.prototype.featuresNativeTextTracks=t)}},{key:"prepareStreams",value:function(){if(this._isTritonStream()){var e=this.config.liveStreams[this.liveId].streamProviderConfig;return j.default.syncAndFetchStreamInfo(e,this.htmlChildId)}if(this.userOptions.url_override)return this.getStreamsManualUrl();var t=new y.default,r=new d.default(this.getCedexisAppID(),this.htmlChildId);if(this.userOptions.live){var n=t.prioritizeCDNs(this.config.liveStreams[this.liveId].cdns);return r.prioritizeCDNs(n).then(function(e){return c.default.getStreams(e)})}var i=t.prioritizeStreams(this.getStreams());return r.prioritizeStreams(i)}},{key:"getCedexisAppID",value:function(){return this.bmmrAsset?this.bmmrAsset.getCedexisAppID():this.config.liveStreams[this.liveId].cedexisAppID}},{key:"getStreams",value:function(){if(this.bmmrAsset){var e="https:"===window.location.protocol;return this.bmmrAsset.getStreams(e)}return c.default.getStreams(this.config.liveStreams[this.liveId].cdns)}},{key:"getStreamsManualUrl",value:function(){var e=this.userOptions.url_override;return Promise.resolve([new P.default({percent:100,stream_type:e.type,url:e.url,muxing_format:e.mux})])}},{key:"setPrioritizedStreams",value:function(e){this.prioritizeStreams=e}},{key:"getPrioritizedStreams",value:function(){return this.prioritizeStreams?this.prioritizeStreams:this.getStreams()}},{key:"getProjectorAssetCaptionsVod",value:function(){var e=this.bmmrAsset?this.bmmrAsset.getCaptions():null;if(e){for(var t=[],r=0;r<e.length;++r)t.push({url:e[r].getUrl()});return t}}},{key:"getProjectorAssetStreamsVod",value:function(){for(var e=this.getPrioritizedStreams(),t=[],r=0;r<e.length;++r){var n=e[r],i=n.getMuxingFormat();k[i]&&t.push(n.toJSON())}return t}},{key:"getProjectorAssetNiCodesVod",value:function(){return(this.bmmrAsset?this.bmmrAsset.getNiCodes():null).map(function(e){return e.code})}},{key:"getProjectorAssetPeoplesVod",value:function(){return(this.bmmrAsset?this.bmmrAsset.getPeoples():null).map(function(e){return e.description})}},{key:"getPosterTemplateImage",value:function(){return this.userOptions.poster?this.userOptions.poster:this.userOptions.live?this.config.liveStreams[this.liveId].poster:this.bmmrAsset?this.bmmrAsset.getPosterTemplateImage():null}},{key:"getPosterContainerSize",value:function(){if(this.userOptions.width&&this.userOptions.height)return{width:this.userOptions.width,height:this.userOptions.height};if(this.userOptions.containerElement){var e=this.userOptions.containerElement.getBoundingClientRect();return{width:e.width,height:e.height}}return{width:9999,height:9999}}},{key:"getPosterImage",value:function(){var e=this.getPosterTemplateImage();if(!e)return S.warn("No poster template image"),null;var t=this.getPosterContainerSize();return h.default.closestImage(t.width,t.height,e)}},{key:"generateProjectorAssetWithStreamsVod",value:function(){var e=this.getPosterImage();return{posterUrl:e,streams:this.getProjectorAssetStreamsVod(),metadata:this.userOptions.url_override?{id:"urlOverride_"+(Math.floor(1e3*Math.random())+1)}:{bb_pub_d:this.bmmrAsset.getComscoreMetadata().getBbPubD(),c5:this.bmmrAsset.getComscoreMetadata().getC5(),cedexisAppID:this.bmmrAsset.getCedexisAppID(),compressedID:this.bmmrAsset.getCompressedID(),createdate:this.bmmrAsset.getCreateDate(),duration:""+this.bmmrAsset.getDuration(),form_type:this.bmmrAsset.getComscoreMetadata().getNsStTy(),id:this.bmmrAsset.getId(),show_name:(this.bmmrAsset.getShowName()||"").replace(/[']/g,"&apos;"),title:this.bmmrAsset.getTitle(),version:this.version,captions:this.getProjectorAssetCaptionsVod(),ni_codes:this.getProjectorAssetNiCodesVod(),keywords:this.bmmrAsset.getKeywords(),peoples:this.getProjectorAssetPeoplesVod(),adCuePoints:this.bmmrAsset.getAdCuePoints(),poster:e}}}},{key:"generateProjectorAssetWithStreamsLive",value:function(){var e=this.config.liveStreams[this.liveId],t=this.getPosterImage(),r=this.getPrioritizedStreams();return{posterUrl:t,streams:r,playerType:e.player_type,daiAssetKey:e.daiAssetKey,metadata:Object.assign((0,A.default)((0,E.default)(e,R)),{streams:r,poster:t,version:this.version})}}},{key:"generateProjectorAssetWithStreams",value:function(){return this.userOptions.live?this.generateProjectorAssetWithStreamsLive():this.generateProjectorAssetWithStreamsVod()}},{key:"filterStreamsForMobile",value:function(){b.default.isMobile()&&(this.dataSetup.streams=this.dataSetup.streams.filter(function(e){return e.type===T}))}},{key:"determineTitle",value:function(){var e=this.config.bmmrAsset?this.config.bmmrAsset.getTitle():this.config.title;this.dataSetup.title=e||""}},{key:"_isTritonStream",value:function(){return this.userOptions.live&&this.config.liveStreams[this.liveId].streamProvider===C.TRITON_PROVIDER_NAME}},{key:"_overwriteSettingsForStreamProvider",value:function(){if(this._isTritonStream()){var e=this.dataSetup;if(e.hlsjs){var t=e.hlsjs.hlsConfig;t.autoStartLoad=!0,t.manifestLoadingMaxRetry=0}b.default.isSafariDesktop()&&(e.preload=!0)}}},{key:"_determineContentAutoplay",value:function(){var e=this.dataSetup,t=this.userOptions,r=t.autoplay,n=b.default.isAllowedToAutoplay(e),i="disabled"!==t.module_ad_player&&e.hasPreroll;e.autoplay=Boolean(r&&!i&&n)}},{key:"_overwriteSettingsForExperiment",value:function(){}},{key:"_overwriteSettingsForHidingPlayerControls",value:function(){this.userOptions.hidePlayerControls&&Object.assign(this.dataSetup,e("../../../config/hidePlayerControlsOverride"))}}],[{key:"getSwfUrl",value:function(){return D(v.default.SWF_FILE_NAME_INSIGHTS)}},{key:"getSkinUrl",value:function(){return D(v.default.SKIN_FILE_NAME)}},{key:"getBufferingAnimationUrl",value:function(){return D(v.default.BUFFERING_ANIMATION_FILE_NAME)}}]),r}();r.default=O},{"../../../config/errorStrings.json":211,"../../../config/hidePlayerControlsOverride":212,"../../utils/persist-controls":295,"../../utils/projector-utils":296,"../bmmr-asset-js/bmmr-asset-js":231,"../bmmr-asset-js/video-stream":235,"../projector-ads":254,"../projector-autoplay":255,"./cdn":257,"./plugin-options":258,"./poster-size":259,"./prioritize-cdn/cedexis-priority-provider":260,"./prioritize-cdn/weighted-random-priority-provider":261,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.map":156,"core-js/modules/es.date.to-json":163,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190,"core-js/modules/web.dom-collections.for-each":193,"core-js/modules/web.url.to-json":197,"dai-util":"dai-util","error-report":"error-report","lodash.clone":201,"lodash.pick":204,log:"log",resources:"resources","triton-stream-provider":"triton-stream-provider"}],263:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),i=function(){function i(e,t,r){(0,s.default)(this,i),(0,o.default)(this,"url",void 0),(0,o.default)(this,"type",void 0),(0,o.default)(this,"percent",void 0);var n=100*r;if(!e||!t)throw new Error("Invalid url and type specified");if(isNaN(n)||n<0||100<n)throw new Error("Invalid stream weight specified (".concat(r,")"));this.url=e,this.type=t,this.percent=n}return(0,a.default)(i,[{key:"serialize",value:function(){return{url:this.url,type:this.type,percent:this.percent}}}]),i}();r.default=i},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],264:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");require("core-js/modules/es.object.define-property"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.split"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _queryString=_interopRequireDefault(require("../utils/query-string")),_log=_interopRequireDefault(require("log")),REGEXP_BPLAYER_HREF=/bplayer\.js$|bplayer\.js\?/,REGEXP_BPLAYER_NAME=/^bplayer$/,DATA_EXCLUDE="data-exclude",DATA_NAME="data-name",log=new _log.default("ScriptElement");function findScriptElement(){if(document.currentScript)return document.currentScript;var e,t=document.getElementsByTagName("script"),r=t[t.length-1];if(REGEXP_BPLAYER_HREF.test(r.src))e=r;else for(var n=0,i=t.length;n<i;++n)REGEXP_BPLAYER_HREF.test(t[n].src)&&!t[n].getAttribute(DATA_EXCLUDE)&&(e=t[n]);if(!e)for(var s=0,a=t.length;s<a;++s)REGEXP_BPLAYER_NAME.test(t[s].getAttribute(DATA_NAME))&&(e=t[s]);return e}function getScriptQueryParameters(scriptElement){log.warn("Specifying user options through URL query-string has been deprecated.");var query=scriptElement.src.split("?")[1];return query?(0,_queryString.default)(query):("bplayer"!==scriptElement.getAttribute("data-name")&&(log.warn("Initialization of BPlayer within a script tag has been deprecated."),eval(scriptElement.innerHTML)),"undefined"==typeof setup?{}:setup)}var _default={findScriptElement:findScriptElement,getScriptQueryParameters:getScriptQueryParameters};exports.default=_default},{"../utils/query-string":297,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187,log:"log"}],265:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("error-report")),l=n(e("lodash.pick")),u=new a.default("UserOptionsValidator"),c={id:{required:!0,type:String},autoplay:Boolean,aspectRatio:String,htmlChildId:String,serverUrl:String,width:String,height:String,log_debug:Boolean,comscore_ns_site:String,vertical:String,poster:String,start_muted:Boolean,live:Boolean,comscore_page_level_tags:Object,techOrder:Array,tech_order:Array,idType:String,share_metadata:Object,video_autoplay_on_page:Boolean,controls:Boolean,containerElement:HTMLElement,source:String,zone:String,poster_as_slate:Boolean,forcePosterMobile:Boolean,byzantium_client:Object,parselyPageUrl:String,playlistIndex:Number,isPlaylistPreloadedPlayer:Boolean,use_comscore:Boolean,use_parsely:Boolean,use_share_overlay:Boolean,use_title_bar:Boolean,continuous_play_previous_url:String,use_google_tag_manager:Boolean,google_tag_manager_data_layer_id:String,enableFence:Boolean,enableAudioBars:Boolean,offsite_embed:Boolean,analyticsParams:Object,useRegUIPopUpPlugin:Boolean,useChromeCastPlugin:Boolean,enableDai:Boolean,useMoatDai:Boolean,user_tracking_config:Object,hidePlayerControls:Boolean,useNonInteractiveProgressBar:Boolean,useCustomBufferingAnimation:Boolean,customBufferingAnimationAsset:String,enableClosedCaptionsApi:Boolean,hideNativePlayerControls:Boolean,enablePlayPauseOverlay:Boolean,useTranscriptPlugin:Boolean,useTheaterModePlugin:Boolean,usePlayerToutPlugin:Boolean,hideLiveDisplay:Boolean,use_youbora:Boolean,useFullscreenControlPlugin:Boolean,useViewabilityPlugin:Boolean,useTestDaiStream:Boolean,module_ad_player:String,ad_tag:String,ad_tag_sz_preroll:String,ad_tag_midroll:String,ad_tag_sz_midroll:String,ad_tag_gpt_preroll:Boolean,ad_tag_gpt_midroll:Boolean,ad_network_id_preroll:String,ad_network_id_midroll:String,ad_tag_cust_params_preroll:String,ad_tag_cust_params_midroll:String,use_js_ads:Boolean,ad_code_prefix:String,ad_companion:Boolean,additionalSites:String,site:String,url_override:Object},d=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"getValidatedOptions",value:function(n){var t=0,i=0;return Object.keys(c).forEach(function(e){c[e].constructor!==Object||!c[e].required||void 0!==n[e]&&null!==n[e]||(o.default.recordGenericError(u,'Missing required option "'.concat(e,'"')),t++)}),Object.keys(n).forEach(function(e){var t=n[e];if(void 0===c[e])return u.warn("Unexpected option passed: ".concat(e," with value: "),t),void i++;var r="[object Object]"===Object.prototype.toString.call(c[e])?c[e].type:c[e];null==t||t.constructor===r||t instanceof r||(u.warn("Unexpected option type: ".concat(e,'. Was expecting type "').concat(r.name,'" but got'),t),i++)}),u.info("validation complete with ".concat(t," errors and ").concat(i," warnings")),(0,l.default)(n,Object.keys(c))}}]),e}();r.default=d},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.date.to-string":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.constructor":166,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.to-string":181,"core-js/modules/web.dom-collections.for-each":193,"error-report":"error-report","lodash.pick":204,log:"log"}],266:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"isIEBasedXml",value:function(){return void 0!==window.ActiveXObject}},{key:"parseXml",value:function(e){if(this.isIEBasedXml()){var t=new window.ActiveXObject("Microsoft.XMLDOM");if(t)return t.async="false",t.loadXML(e),t}return(new window.DOMParser).parseFromString(e,"text/xml")}},{key:"removeXmlNamespaces",value:function(e){return e.replace(/xmlns[:]*[a-z]*=\"[^\"]*\"/g,"").replace(/xsi[:]*[a-z]*=\"[^\"]*\"/g,"")}},{key:"getNodeForXPath",value:function(e,t){if(this.isIEBasedXml())return e.selectSingleNode(t);var r=e.evaluate(t,e.documentElement,null,XPathResult.ANY_TYPE,null);return r?r.iterateNext():null}},{key:"getTextForXPath",value:function(e,t){var r=this.getNodeForXPath(e,t);if(r){var n=this.getTextForNode(r);if(n)return n}return null}},{key:"getTextForNode",value:function(e){return e?this.isIEBasedXml()?e.childNodes&&e.childNodes[0]&&void 0!==e.childNodes[0].nodeValue?e.childNodes[0].nodeValue:null:void 0!==e.textContent?e.textContent:null:null}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185}],267:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var h=i(e("@babel/runtime/helpers/slicedToArray")),s=i(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var a=i(e("@babel/runtime/helpers/asyncToGenerator")),o=i(e("@babel/runtime/helpers/classCallCheck")),l=i(e("@babel/runtime/helpers/createClass")),u=i(e("./trigr-service")),c=i(e("./lotame-service")),d=i(e("./SuperBurst")),p=i(e("./FenceService")),m=i(e("./MoatYieldIntelligenceService")),b=n(e("./ConsentService")),f=function(){function r(e){var t=e.playerHtmlChildId;(0,o.default)(this,r),this._playerHtmlChildId=t}var t;return(0,l.default)(r,[{key:"fillAdditionalParams",value:(t=(0,a.default)(s.default.mark(function e(f){var t,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[(new u.default).getTrigrResults(),d.default.retrieveSuperBurstParams(),p.default.getSubscriberStatus(),m.default.getTargeting({playerHtmlChildId:this._playerHtmlChildId}),b.fetchParams().then(function(){var t=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t1=t.isPersonalizedAdAllowed,e.t1)return e.next=5,new c.default({playerHtmlChildId:r._playerHtmlChildId}).getSegments();e.next=6;break;case 5:e.t1=e.sent;case 6:return e.t2=e.t1,e.abrupt("return",{consentParams:e.t0,lotameResult:e.t2});case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())],e.abrupt("return",Promise.all(t).then(function(e){var t=(0,h.default)(e,5),r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=a.consentParams,l=a.lotameResult;if(r&&r.results&&0<r.results.length&&(f.tr=r.results.join(",")),n&&n.srnd&&(f.srnd=n.srnd),i&&(f.subscriber=i),l&&0<l.length){var u=l.join(",");f.ksg=u}if(s&&Object.assign(f,s),o){var c=o.gdpr,d=o.consentString,p=o.usPrivacy;Object.assign(f,{gdpr:c,gdpr_consent:d,us_privacy:p})}}));case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),r}();r.default=f},{"./ConsentService":268,"./FenceService":269,"./MoatYieldIntelligenceService":270,"./SuperBurst":271,"./lotame-service":272,"./trigr-service":273,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/regenerator":24,"core-js/modules/es.array.iterator":153,"core-js/modules/es.array.join":154,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":194,"regenerator-runtime/runtime":207}],268:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.fetchParams=function(){return Promise.all([s.default.gdprAppliesAsync({timeout:o}).then(function(t){var e=t?{}:{timeout:100};return s.default.iabConsentStringAsync(e).then(function(e){return{gdprApplies:t,consentString:e}}).catch(function(){return{gdprApplies:t,consentString:""}})}).catch(function(e){return l.info("Error fetching consent info.",e),{gdprApplies:!0,consentString:""}}),s.default.getUSPrivacyStringAsync({timeout:o}).catch(function(){return""})]).then(function(e){var t=(0,i.default)(e,2),r=t[0];return{gdpr:r.gdprApplies?"1":"0",consentString:r.consentString,usPrivacy:t[1],isPersonalizedAdAllowed:function(){try{return s.default.padAllowed()}catch(e){return l.info("Error getting padAllowed info"),!1}}()}})};var i=n(e("@babel/runtime/helpers/slicedToArray")),s=n(e("ms.consent")),a=n(e("log")),o=1500,l=new a.default("ConsentService")},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/slicedToArray":19,"core-js/modules/es.array.iterator":153,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":194,log:"log","ms.consent":205}],269:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../utils/deadline")),s=n(e("error-report")),a=new(n(e("log")).default)("FenceService");var o={getSubscriberStatus:function(){return(0,i.default)(500,new Promise(function(n){if(!window._fence)return n(null);window._fence.ready(function(){var e=window._fence,t=!!e.isTerminalSubscriber,r=!!e.isBBGSubscriber;return n(t?"term":r?"yes":"no")})})).catch(function(e){return s.default.recordGenericError(a,"Error getting fence subscriber status",e),null})}};r.default=o},{"../utils/deadline":289,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report",log:"log"}],270:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../utils/deadline")),s=n(e("error-report")),a=n(e("log")),o=n(e("script-injector")),l=n(e("load-timer")),u=o.default.getInstance(),c=new a.default("MoatYieldIntelligenceService");function d(){var e=window.moatPrebidApi;return e&&"function"==typeof e.pageDataAvailable&&e.pageDataAvailable()?window.moatPrebidApi.getMoatTargetingForPage():null}var p={getTargeting:function(e){var t=e.playerHtmlChildId,r=d();return r?Promise.resolve(r):(0,i.default)(750,function(e){var t=window.__bvpMoatYeildPromise__=window.__bvpMoatYeildPromise__||new Promise(function(e){var t;window.moatYieldReady&&"function"==typeof window.moatYieldReady&&(t=window.moatYieldReady),window.moatYieldReady=function(){e(),window.moatYieldReady=t,window.__bvpMoatYeildPromise__=null,t&&t()}});return u.inject("https://z.moatads.com/bloombergprebidheader853620778109/moatheader.js",e,l.default.loadTypes.MOAT_YIELD_INTELLIGENCE).then(function(){return t}).then(function(){var e=d();return e||(s.default.recordGenericError(c,"Missing moatPrebidApi on window"),null)})}(t)).catch(function(e){return s.default.recordGenericError(c,"Error loading moat yield intelligence",e),null})}};r.default=p},{"../utils/deadline":289,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report","load-timer":"load-timer",log:"log","script-injector":"script-injector"}],271:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../utils/deadline")),o=n(e("log")),l=new o.default("SuperBurst"),u=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"retrieveSuperBurstParams",value:function(){var e=window.__bloomberg__&&window.__bloomberg__.fetchSuperBurstParam;return e?(0,a.default)(2500,e).catch(function(e){l.error("Error retrieving superburst data",e)}):(l.info("window.__bloomberg__.fetchSuperBurstParam not available"),Promise.resolve(null))}}]),e}();r.default=u},{"../utils/deadline":289,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,log:"log"}],272:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("script-injector")),o=n(e("log")),l=n(e("../utils/deadline")),u=n(e("../utils/cookies")),c=n(e("load-timer")),d=new o.default("LotameService"),p=function(){function r(e){var t=e.playerHtmlChildId;(0,i.default)(this,r),this.playerHtmlChildId=t,this._audience=[],this.jsonpCallbackName="jsonpCallback_"+(Math.floor(1e4*Math.random())+2).toString(),window.bvpLotame=window.bvpLotame||{},window.bvpLotame[this.jsonpCallbackName]=this._jsonpCallback.bind(this)}return(0,s.default)(r,[{key:"getSegments",value:function(){var e=this;return(0,l.default)(5e3,this._loadLotame()).then(function(){return e._audience}).catch(function(e){d.error("Lotame audience data not available",e)})}},{key:"_jsonpCallback",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.Profile&&t.Profile.Audiences&&t.Profile.Audiences.Audience&&(this._audience=t.Profile.Audiences.Audience.map(function(e){return e.id}))}},{key:"_loadLotame",value:function(){return d.info("Loading lotame data"),a.default.injectScript(this._getLotameUrl(),document.querySelector("body"),this.playerHtmlChildId,c.default.loadTypes.LOTAME)}},{key:"_getLotameUrl",value:function(){var e,t=".crwdcntrl.net",r=!0,n=u.default.get("_cc_domain");n&&(t=n,r=!1);var i=!1;if(r){var s=u.default.get("_cc_id");s&&(e=s,i=!0)}var a="//ad"+t;return a="".concat(a,"/5/c=").concat(12097,"/pe=y/rand=").concat(Math.floor(1e4*Math.random())+2,"/callback=bvpLotame.").concat(this.jsonpCallbackName),i&&(a=a+"/pid="+e),a}}]),r}();r.default=p},{"../utils/cookies":286,"../utils/deadline":289,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.map":156,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.to-string":181,"load-timer":"load-timer",log:"log","script-injector":"script-injector"}],273:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("resources")),o=n(e("error-report")),l=n(e("log")),u=n(e("../utils/deadline")),c=new l.default("TrigrService"),d="".concat(a.default.TRIGR_API,"/targets"),p=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"getTrigrResults",value:function(){return(0,u.default)(500,fetch(d,{mode:"cors"})).then(function(e){var t=e.headers.get("content-type");if(e.ok&&t&&-1!==t.indexOf("application/json"))return e.json();throw new Error("Trigr Service returned an invalid response")}).catch(function(e){o.default.recordLoadError(c,d,"Error fetching trigr data ",e)})}}]),e}();r.default=p},{"../utils/deadline":289,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.index-of":152,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report",log:"log",resources:"resources"}],274:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=e("bvp-shims"),o=n(e("../lib/bmmr-asset-js/bmmr-asset-js")),l=n(e("../lib/bmmr-asset-js/bmmr-loader")),u=n(e("../lib/projector-settings-js/projector-settings-js")),c=n(e("../lib/projector-config")),d=n(e("../utils/utils")),p=n(e("../view/View")),f=n(e("../lib/user-options-validator")),h=["loadBMMRData","loadProjectorConfiguration","setProjectorSettings","setupViewRenderer","renderView"],m=function(){function n(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if((0,i.default)(this,n),this.assetDetails=r,this.userOptions=f.default.getValidatedOptions(e),this.view=null,this.el_=null,d.default.isEmptyObject(this.userOptions))throw new Error("Unable to run strategy without userOptions");h.forEach(function(e){t[e]=t[e].bind(t)})}return(0,s.default)(n,[{key:"run",value:function(){return this.loadBMMRData(this.assetDetails).then(this.loadProjectorConfiguration).then(this.setProjectorSettings).then(this.setupViewRenderer).then(this.renderView)}},{key:"loadBMMRData",value:function(e){return this.isLive()?Promise.resolve():this.userOptions.url_override?Promise.resolve():e?Promise.resolve(new o.default(e)):l.default.load(this.userOptions)}},{key:"loadProjectorConfiguration",value:function(e){var t=0<arguments.length&&void 0!==e?e:null,r=this.userOptions.live?this.userOptions.id:void 0;return c.default.load({userOptions:this.userOptions,version:a.version,bmmrAsset:t,liveId:r})}},{key:"setProjectorSettings",value:function(e){return new u.default(e).ready()}},{key:"setupViewRenderer",value:function(e){return new this.view(this.el_,e)}},{key:"renderView",value:function(e){var t=this;return new Promise(function(r,n){e.on(p.default.ON_RENDER,function(e){var t=e.detail.player;r(t)}).on(p.default.ON_ERROR,function(e){var t=e.detail.error;n(t)}).on(p.default.ON_DISPOSE,function(){return t.dispose()}),e.render()})}},{key:"isLive",value:function(){return Boolean(this.userOptions.live)}},{key:"dispose",value:function(){this.assetDetails=this.userOptions=this.view=this.el_=null}}]),n}();r.default=m},{"../lib/bmmr-asset-js/bmmr-asset-js":231,"../lib/bmmr-asset-js/bmmr-loader":232,"../lib/projector-config":256,"../lib/projector-settings-js/projector-settings-js":262,"../lib/user-options-validator":265,"../utils/utils":300,"../view/View":352,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-shims":"bvp-shims","core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178}],275:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf")),o=n(e("@babel/runtime/helpers/inherits")),l=n(e("./AbstractViewStrategy")),u=n(e("../view/insert-view")),c=function(e){function n(e,t){var r;if((0,i.default)(this,n),(r=(0,s.default)(this,(0,a.default)(n).call(this,e,t))).view=u.default,r.el_=e.containerElement,!r.el_)throw new Error("Container element is not found. Make sure userOptions.containerElement is set!");return r}return(0,o.default)(n,e),n}(l.default);t.exports=c},{"../view/insert-view":353,"./AbstractViewStrategy":274,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17}],276:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),i=n(e("@babel/runtime/helpers/inherits")),s=n(e("./AbstractViewStrategy")),u=n(e("../lib/script-element")),c=n(e("../view/replace-view")),d=function(e){function s(e,t){var r;(0,a.default)(this,s);var n=e.containerElement||u.default.findScriptElement();e.containerElement=n.parentNode;var i=e||u.default.getScriptQueryParameters(n);if((r=(0,o.default)(this,(0,l.default)(s).call(this,i,t))).view=c.default,r.el_=n,!r.el_)throw new Error("Container element is not found. Make sure your code is wrapped in a script tag.");return r}return(0,i.default)(s,e),s}(s.default);t.exports=d},{"../lib/script-element":264,"../view/replace-view":354,"./AbstractViewStrategy":274,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17}],277:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.isTab=r.isSpace=r.isArrowLeft=r.isArrowRight=r.isKey=r.KeyCodes=void 0;var i={ArrowRight:39,ArrowLeft:37,Tab:9," ":32};r.KeyCodes=i;function n(n){return function(e){var t=e.key,r=e.keyCode;return t===n||r===i[n]}}var s=(r.isKey=n)("ArrowRight");r.isArrowRight=s;var a=n("ArrowLeft");r.isArrowLeft=a;var o=n(" ");r.isSpace=o;var l=n("Tab");r.isTab=l},{"core-js/modules/es.object.define-property":169}],278:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n="localStorage";function i(e){var t=function(){try{return n in window&&window[n]}catch(e){return null}}();return t?e(t):null}var s={get:function(t){return i(function(e){return e.getItem(t)})},set:function(t,r){i(function(e){return e.setItem(t,r)})},del:function(t){i(function(e){return e.removeItem(t)})}};r.default=s},{"core-js/modules/es.object.define-property":169}],279:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.getFocusableElements=c,r.default=void 0;var i=n(e("@babel/runtime/helpers/slicedToArray")),s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=e("./KeyCodes"),l=["a[href]","button",'input[type="checkbox"]','input[type="password"]','input[type="radio"]','input[type="submit"]','input[type="text"]','input[type="reset"]',"select","textarea","[tabindex]"].map(function(e){return e+':not([tabindex^="-"])'}).join(", ").trim(),u=function(e){var t=window.getComputedStyle(e);return 0<e.offsetWidth&&0<e.offsetHeight&&"hidden"!==t.visibility&&"0"!==t.opacity&&"none"!==t["pointer-events"]};function c(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=e.querySelectorAll("".concat(l).concat(t)),n=[],i=0;i<r.length;i++){var s=r[i];u(s)&&n.push(s)}return n}var d=function(){function t(e){(0,s.default)(this,t),this._overlayEl=e,this._handleKeyDown=this._handleKeyDown.bind(this)}return(0,a.default)(t,[{key:"_hasFocusableElements",value:function(){return this._focusableEls&&this._focusableEls.length}},{key:"focus",value:function(){if(this._focusableEls=c(this._overlayEl),this._hasFocusableElements()){var e=(0,i.default)(this._focusableEls,1)[0];e&&e.focus(),this._overlayEl.addEventListener("keydown",this._handleKeyDown),this._currIndex=0}}},{key:"unfocus",value:function(){this._overlayEl.removeEventListener("keydown",this._handleKeyDown)}},{key:"_handleKeyDown",value:function(e){if((0,o.isTab)(e)){e.preventDefault();var t=function(e){return!e.shiftKey}(e)?1:-1;this._currIndex=(this._currIndex+this._focusableEls.length+t)%this._focusableEls.length,this._focusableEls[this._currIndex].focus()}}}]),t}();r.default=d},{"./KeyCodes":277,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/slicedToArray":19,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.join":154,"core-js/modules/es.array.map":156,"core-js/modules/es.object.define-property":169,"core-js/modules/es.string.trim":189}],280:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("uuid/v4")),o=n(e("./LocalStorage")),l=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"get",value:function(){var e=o.default.get("bbg_ppid");return e||(e=(0,a.default)().replace(/-/g,""),o.default.set("bbg_ppid",e)),e}}]),e}();r.default=l},{"./LocalStorage":278,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,"uuid/v4":210}],281:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.some"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../../types/SiteType")),s=i.default.BUSINESS,a=i.default.COJP,o=/^(.+\.)?bloomberg\.co\.jp$/i,l=[/^(.+\.)?bloomberg\.com$/i,/^(.+\.)?bloombergradio\.com$/i,o];var u={isOnSite:function(t){return l.some(function(e){return e.test(t)})},getSiteName:function(e){return o.test(e)?a:s}};r.default=u},{"../../types/SiteType":357,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.some":159,"core-js/modules/es.object.define-property":169}],282:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var v=n(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var s,a,o,l,u,c,d=n(e("@babel/runtime/helpers/asyncToGenerator")),p=n(e("@babel/runtime/helpers/defineProperty")),f=e("bvp-constant"),y=n(e("./projector-utils")),h=n(e("log")),g=n(e("error-report")),m=n(e("./deadline")),_=i(e("../services/ConsentService")),j=new h.default("SpotXUtils"),b=f.AD_TYPES.PREROLL,C=f.AD_TYPES.MIDROLL,A=f.STREAM_TYPES.VOD,E=f.STREAM_TYPES.LIVE,P=3e3,w=(o={},(0,p.default)(o,A,(s={},(0,p.default)(s,b,{vpaidAllowed:!0,channelId:"236173"}),(0,p.default)(s,C,{vpaidAllowed:!1,channelId:"236175"}),s)),(0,p.default)(o,E,(a={},(0,p.default)(a,b,{vpaidAllowed:!1,channelId:"236172"}),(0,p.default)(a,C,{vpaidAllowed:!1,channelId:"236174"}),a)),o),S=(c={},(0,p.default)(c,A,(l={},(0,p.default)(l,b,{vpaidAllowed:!1,channelId:f.DEFAULT_SPOTX_CHANNEL_ID}),(0,p.default)(l,C,{vpaidAllowed:!1,channelId:"236179"}),l)),(0,p.default)(c,E,(u={},(0,p.default)(u,b,{vpaidAllowed:!1,channelId:"236176"}),(0,p.default)(u,C,{vpaidAllowed:!1,channelId:"236178"}),u)),c);function T(){return k.apply(this,arguments)}function k(){return(k=(0,d.default)(v.default.mark(function e(i){var s,a,o,l,u,c,d,p,f,h,m,b;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.adUrl,a=i.streamType,o=i.adType,l=i.adHTMLContainer,u=i.videoElement,c=i.usPrivacyString,window.SpotX){e.next=4;break}return j.error("SpotX library missing."),e.abrupt("return",s);case 4:return e.prev=4,void 0,r=(t={streamType:a,adType:o}).streamType,n=t.adType,d=(y.default.isMobile()?S:w)[r][n],e.next=8,_.fetchParams();case 8:return p=e.sent,f=p.gdpr,h=p.consentString,m={channel_id:d.channelId,slot:l,no_vpaid_ads:!d.vpaidAllowed,video_slot:u,demand_source_timeout:P,ados:{user:{ext:{consent:h}},regs:{ext:{gdpr:f}}}},b=new window.SpotX.DirectAdOS(c?Object.assign({},m,{us_privacy:c}):m),e.abrupt("return",b.addSpotXParamsToMVT(s));case 16:return e.prev=16,e.t0=e.catch(4),g.default.recordGenericError(j,"Error generating SpotX Ad URL",e.t0),e.abrupt("return",s);case 20:case"end":return e.stop()}var t,r,n},e,null,[[4,16]])}))).apply(this,arguments)}function R(){return(R=(0,d.default)(v.default.mark(function e(t){var r,n,i,s,a,o;return v.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.adUrl,n=t.streamType,i=t.adType,s=t.adHTMLContainer,a=t.videoElement,o=t.usPrivacyString,e.abrupt("return",(0,m.default)(P,T({adUrl:r,streamType:n,adType:i,adHTMLContainer:s,videoElement:a,usPrivacyString:o})).catch(function(e){return g.default.recordGenericError(j,"Error adding SpotX parameters to ad url",e),r}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D={addParamsToAdUrl:function(e){return R.apply(this,arguments)}};r.default=D},{"../services/ConsentService":268,"./deadline":289,"./projector-utils":296,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/regenerator":24,"bvp-constant":"bvp-constant","core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"error-report":"error-report",log:"log","regenerator-runtime/runtime":207}],283:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Events=void 0;var s=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),o=i(e("@babel/runtime/helpers/possibleConstructorReturn")),l=i(e("@babel/runtime/helpers/getPrototypeOf")),u=i(e("@babel/runtime/helpers/assertThisInitialized")),c=i(e("@babel/runtime/helpers/inherits")),d=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("log"));e("intersection-observer");var f=i(e("./event-target")),h=n(e("./VisibilityMonitor")),m=new p.default("ViewabilityMonitor"),b={Viewable:"viewable",Unviewable:"unviewable"};r.Events=b;var v=function(e){function i(e,t){var r;(0,s.default)(this,i),r=(0,o.default)(this,(0,l.default)(i).call(this)),(0,d.default)((0,u.default)(r),"_threshold",void 0),(0,d.default)((0,u.default)(r),"_targetElement",void 0),(0,d.default)((0,u.default)(r),"_observer",void 0),(0,d.default)((0,u.default)(r),"_visibilityMonitor",void 0),(0,d.default)((0,u.default)(r),"_isInViewport",!1),(0,d.default)((0,u.default)(r),"_isElementViewable",r._calculateViewability()),(0,d.default)((0,u.default)(r),"_detectChange",function(){var e=r._calculateViewability();e!==r._isElementViewable&&(r._isElementViewable=e,r.trigger(r._isElementViewable?b.Viewable:b.Unviewable))}),(0,d.default)((0,u.default)(r),"_observerCallback",function(e){e.forEach(function(e){e.target===r._targetElement&&(r._isInViewport=e.intersectionRatio>=r._threshold,r._detectChange())})}),m.info("Initializing with threshold: ",t),r._threshold=t,r._targetElement=e;var n={root:null,threshold:t};return r._observer=i._createIntersectionObserver(r._observerCallback,n),r._observer.POLL_INTERVAL=250,r._observer.observe(r._targetElement),r._visibilityMonitor=new h.default,r._visibilityMonitor.on(h.EVENTS.VISIBLE,r._detectChange),r._visibilityMonitor.on(h.EVENTS.INVISIBLE,r._detectChange),r}return(0,c.default)(i,e),(0,a.default)(i,[{key:"isViewable",value:function(){return this._isElementViewable}},{key:"dispose",value:function(){this._observer.disconnect(),this._visibilityMonitor.dispose()}},{key:"_calculateViewability",value:function(){return h.default.isPageVisible()&&this._isInViewport}}],[{key:"_createIntersectionObserver",value:function(e,t){return new IntersectionObserver(e,t)}}]),i}(f.default);r.default=v},{"./VisibilityMonitor":284,"./event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/web.dom-collections.for-each":193,"intersection-observer":200,log:"log"}],284:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.EVENTS=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("./event-target")),p={VISIBLE:"VISIBLE",INVISIBLE:"INVISIBLE"};r.EVENTS=p;var f,h,m={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"},b=!1;for(var v in m)if(void 0!==document[v]){h=m[f=v],b=!0;break}var y=function(e){function t(){var e;return(0,i.default)(this,t),e=(0,a.default)(this,(0,l.default)(t).call(this)),t._isVisibilityAPISupported()&&(e._onVisibilityChange=e._onVisibilityChange.bind((0,o.default)(e)),document.addEventListener(h,e._onVisibilityChange)),e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"dispose",value:function(){t._isVisibilityAPISupported()&&document.removeEventListener(h,this._onVisibilityChange),(0,u.default)((0,l.default)(t.prototype),"dispose",this).call(this)}},{key:"_onVisibilityChange",value:function(){var e=t.isPageVisible()?p.VISIBLE:p.INVISIBLE;this.trigger(e)}}],[{key:"isPageVisible",value:function(){return!document[f]}},{key:"_isVisibilityAPISupported",value:function(){return b}}]),t}(d.default);r.default=y},{"./event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],285:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./utils"));function s(e){e=e||7776e6;var t=new Date;if(t.setTime(t.getTime()+e),t&&!function(e){return i.default.isDate(e)&&!isNaN(e.getTime())}(t))throw new Error("Invalid expires parameter");return t}var a={stringInGMT:function(e){return s(e).toGMTString()},totalMilliseconds:function(e){return s(e).getTime()}};r.default=a},{"./utils":300,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169}],286:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("escape-string-regexp")),o=n(e("./cookie-expiration-date")),l=new(function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"get",value:function(e){var t=document.cookie.match("(^|;) ?".concat((0,a.default)(e),"=([^;$]*)"));if(t)return decodeURI(t[2])}},{key:"set",value:function(e,t,r,n){var i=this.getCookieOptions(n||{});t=r?encodeURIComponent(t):t,document.cookie=this.generateCookieString(e,t,i)}},{key:"remove",value:function(e,t){var r=this.getCookieOptions(t||{});r.expires=new Date(-1).toGMTString(),this.set(e,"",!1,r)}},{key:"generateCookieString",value:function(e,t,r){var n=e+"="+t;return n+=";path="+r.path,r.domain&&(n+=";domain="+r.domain),n+=r.expires?";expires="+r.expires:"",n+=r.secure?";secure":""}},{key:"getCookieOptions",value:function(e){var t=(e=e||{})&&e.expires?e.expires:null;return{path:e&&e.path?e.path:"/",domain:"",expires:o.default.stringInGMT(t),secure:void 0!==e.secure&&e.secure}}}]),e}());r.default=l},{"./cookie-expiration-date":285,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.match":184,"escape-string-regexp":199}],287:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("./utils")),o=/\s+/,l=["-webkit-","-moz-","-ms-","-o-"];function u(e,t){for(var r=e.length,n=0;n<r;n++)if(t===e[n])return n;return-1}var c=function(){function r(){(0,i.default)(this,r)}return(0,s.default)(r,null,[{key:"addClass",value:function(e,t){if(!e||!t)return this;if(e.classList)return e.classList.add(t),this;var r=e.className?e.className.trim().split(o):[];return-1!==u(r,t)||(e.className=r.concat([t]).join(" ")),this}},{key:"addClassList",value:function(t,e){return a.default.isArray(e)&&e.forEach(function(e){r.addClass(t,e)}),this}},{key:"removeClass",value:function(e,t){if(!e)return this;if(e.classList)return e.classList.remove(t),this;var r=e.className?e.className.trim().split(o):[],n=u(r,t);return-1===n||(r.splice(n,1),e.className=r.join(" ")),this}},{key:"hasClass",value:function(e,t){if(e)return e.classList?e.classList.contains(t):-1!==u(e.className.trim().split(o),t)}},{key:"css",value:function(e,n){if("string"!=typeof n){var t=Object.keys(n).map(function(e){var t=e.toLowerCase(),r=n[e];return"".concat(t,": ").concat(r,";")}).join("");t&&(e.style.cssText=t)}else e.style.cssText=n}},{key:"computedStylesFor",value:function(e){return document.defaultView.getComputedStyle(e,"")}},{key:"transform",value:function(e,t){if(e){var r="transform";if(!(r in e.style))for(var n=0,i=l.length;n<i&&!((r=l[n]+r)in e.style);n++);e.style[r]=t}}}]),r}();r.default=c},{"./utils":300,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.join":154,"core-js/modules/es.array.map":156,"core-js/modules/es.array.splice":161,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187,"core-js/modules/es.string.trim":189,"core-js/modules/web.dom-collections.for-each":193}],288:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=["January","February","March","April","May","June","July","August","September","October","November","December"],o=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"convertToSeconds",value:function(e){if(!e)return null;var t=e.split(":");return t.length<3?null:3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseFloat(t[2])}},{key:"formatSeconds",value:function(e){if(!e||0===e)return"";var t=Math.round(e),r=0;60<=t&&(r=Math.floor(t/60),t%=60);var n="".concat(r||"0"),i="".concat(t<10?"0"+t:t);return"".concat(n,":").concat(i)}},{key:"formatForReporting",value:function(e){if(!e)return"";var t=e.getUTCDate(),r=e.getUTCMonth(),n=e.getUTCFullYear();return"".concat(a[r]," ").concat(t,", ").concat(n)}}]),e}();r.default=o},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,"core-js/modules/es.parse-int":177,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187}],289:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;function n(e,i){return new Promise(function(t,r){var n=setTimeout(function(){r(new Error("Promise timeout"))},e);i.then(function(e){clearTimeout(n),t(e)},function(e){clearTimeout(n),r(e)})})}r.default=n},{"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178}],290:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=/\s*,\s*/g,u=Symbol("listeners"),c=Symbol("parent");function o(e,t){return l(e)&&t&&"function"==typeof t}function l(e){return e&&"string"==typeof e}var d=function(){function t(){(0,i.default)(this,t),this[u]={},this[c]=null}return(0,s.default)(t,[{key:"addEventListener",value:function(e,t,r){var n=2<arguments.length&&void 0!==r&&r;o(e,t)&&(this[u][e]||(this[u][e]=[]),this[u][e].push({callback:t,deRegister:n}))}},{key:"removeEventListener",value:function(e,t){if(o(e,t)){var r=this[u][e];if(r)if(t){for(var n=0,i=r.length;n<i;n++)if(r[n].callback===t)return r.splice(n,1),this.removeEventListener(e,t)}else r.length=0}}},{key:"removeAllEventListeners",value:function(){var t=this;this[u]&&Object.keys(this[u]).forEach(function(e){t[u][e].length=0})}},{key:"dispatchEvent",value:function(e){var t=this;if(this[u]){var r=e.type;if(this[u].hasOwnProperty(r)){var n=this[u][r],i=[];Object.defineProperty(e,"target",{value:this,configurable:!0});for(var s=0,a=n.length;s<a;s++){var o=n[s].callback,l=n[s].deRegister;o.call(this,e),l&&i.push(o)}i.forEach(function(e){return t.removeEventListener(r,e)})}!function(e,t,r){e&&t.bubbles&&!t.defaultPrevented&&(t.originalTarget||Object.defineProperty(t,"originalTarget",{value:r}),e.dispatchEvent(t))}(this[c],e,this)}}},{key:"setEventParent",value:function(e){e instanceof t&&(this[c]=e)}},{key:"on",value:function(e,t){var r=this;return o(e,t)&&e.split(a).forEach(function(e){r.addEventListener(e,t)}),this}},{key:"one",value:function(e,t){var r=this;return o(e,t)&&e.split(a).forEach(function(e){r.addEventListener(e,t,!0)}),this}},{key:"off",value:function(e,t){var r=this;return o(e,t)&&e.split(a).forEach(function(e){r.removeEventListener(e,t)}),this}},{key:"trigger",value:function(e,t){if(!l(e))return this;var r=new CustomEvent(e,{detail:t,bubbles:!0,originalTarget:this,target:this});return this.dispatchEvent(r),this}},{key:"dispose",value:function(){this.removeAllEventListeners(),this[u]=null,this[c]=null}}]),t}();r.default=d},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.splice":161,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190,"core-js/modules/web.dom-collections.for-each":193}],291:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a={webkit:{element:"webkitFullscreenElement",enabled:"webkitFullscreenEnabled",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror",request:"webkitRequestFullscreen",status:"webkitIsFullScreen"},moz:{element:"mozFullScreenElement",enabled:"mozFullScreenEnabled",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror",request:"mozRequestFullScreen",status:"mozFullScreen"},ms:{element:"msFullscreenElement",enabled:"msFullscreenEnabled",exit:"msExitFullscreen",onchange:"MSfullscreenchange",onerror:"MSfullscreenerror",request:"msRequestFullscreen",status:"msFullscreen"},default:{element:"fullscreenElement",enabled:"fullscreenEnabled",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror",request:"requestFullscreen",status:"fullscreen"}},o=function(){if(void 0!==document.fullscreenEnabled)return"default";if(void 0!==document.webkitFullscreenEnabled)return"webkit";if(void 0!==document.mozFullScreenEnabled)return"moz";if(void 0!==document.msFullscreenEnabled)return"ms"}(),l=void 0!==o,u=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"requestFullScreen",value:function(e){l&&e[a[o].request]()}},{key:"exitFullScreen",value:function(){if(l){var e=a[o].exit;this._getDocumentProperty(e)()}}},{key:"isEnabled",value:function(){if(!l)return!1;var e=a[o].enabled;return this._getDocumentProperty(e)}},{key:"isSupported",value:function(){return l}},{key:"isInFullScreen",value:function(){if(l){var e=a[o].status;return this._getDocumentProperty(e)}}},{key:"getFullScreenElement",value:function(){if(l){var e=a[o].element;return this._getDocumentProperty(e)}}},{key:"getVendorPrefix",value:function(){return o}},{key:"_getDocumentProperty",value:function(e){return document[e]}}]),e}();Object.assign(u,{vendorMap:a,fullscreenchange:l&&a[o].onchange,fullscreenerror:l&&a[o].onerror});var c=u;r.default=c},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169}],292:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s,a,o,l,u,c,d=n(e("@babel/runtime/helpers/defineProperty")),p=n(e("../../../types/StreamType")),f=n(e("../../../types/AdType")),h=n(e("../../../types/SiteType")),m=(c={},(0,d.default)(c,h.default.BUSINESS,{byAdType:(a={},(0,d.default)(a,f.default.PREROLL,(i={},(0,d.default)(i,p.default.LIVE,"bloomberg_video_LiveTV_Preroll_1x7v"),(0,d.default)(i,p.default.VOD,"bloomberg_video_VOD_Preroll_1x7v"),i)),(0,d.default)(a,f.default.MIDROLL,(s={},(0,d.default)(s,p.default.LIVE,"bloomberg_video_LiveTV_Midroll_1x7v"),(0,d.default)(s,p.default.VOD,"bloomberg_video_VOD_Midroll_1x7v"),s)),a),scriptUrl:"https://js-sec.indexww.com/ht/p/184795-45553530326378.js"}),(0,d.default)(c,h.default.COJP,{byAdType:(u={},(0,d.default)(u,f.default.PREROLL,(o={},(0,d.default)(o,p.default.LIVE,"co.jp_video_LiveTV_Preroll_1x7v"),(0,d.default)(o,p.default.VOD,"co.jp_video_VOD_Preroll_1x7v"),o)),(0,d.default)(u,f.default.MIDROLL,(l={},(0,d.default)(l,p.default.LIVE,"co.jp_video_LiveTV_Midroll_1x7v"),(0,d.default)(l,p.default.VOD,"co.jp_video_VOD_Midroll_1x7v"),l)),u),scriptUrl:"https://js-sec.indexww.com/ht/p/184795-221475390811523.js"}),c);r.default=m},{"../../../types/AdType":356,"../../../types/SiteType":357,"../../../types/StreamType":358,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],293:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.addParamsToAdUrl=function(e){return A.apply(this,arguments)};var f=n(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var i=n(e("@babel/runtime/helpers/asyncToGenerator")),u=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("@babel/runtime/helpers/slicedToArray")),a=n(e("../query-string")),h=n(e("../deadline")),o=n(e("log")),m=n(e("./IXConfig")),b=n(e("../../../types/StreamType")),v=n(e("../../../types/SiteType"));function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(r,!0).forEach(function(e){(0,u.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var y=new o.default("IXUtils"),d=1500,g=3e3;function p(e){return JSON.parse(JSON.stringify(e))}function _(e){var t=p(a.default.parseQueryString(e));return t.sz&&(t.sz=t.sz.split("x").map(Number)),t.cust_params=function(e){var t=p(a.default.parseQueryString(e));return Object.entries(t).reduce(function(e,t){var r=(0,s.default)(t,2),n=r[0],i=r[1];return c({},e,(0,u.default)({},n,[String(i)]))},{})}(t.cust_params),t}function j(){return C.apply(this,arguments)}function C(){return(C=(0,i.default)(f.default.mark(function e(n,o,l){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,r){n.push(function(){try{var e=(n=o,i=l,s=t,a=r,function(e){try{y.info("Received IX video demand for slot: ",i," demandObjs:",e);var t=(0,u.default)({},i,c({description_url:encodeURIComponent(window.location.href)},_(n))),r=window.headertag.buildGamMvt(t,e)[i];if(!r)throw new Error("Empty IX Ad Url generated");s(r)}catch(e){a(e)}});y.info("Retrieving IX video demand for slot: ",l),window.headertag.retrieveVideoDemand([{htSlotName:l}],e,{timeout:d})}catch(e){r(e)}var n,i,s,a})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=(0,i.default)(f.default.mark(function e(t){var r,n,i,s,a,o,l,u,c,d,p;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.adUrl,n=t.streamType,i=t.adType,s=t.site,a=window.headertag=window.headertag||{},o=a.cmd=a.cmd||[],l=m.default[s]||m.default[v.default.BUSINESS],u=l.byAdType,c=u[i]){e.next=7;break}return e.abrupt("return",r);case 7:if(d=c[n]){e.next=10;break}return e.abrupt("return",r);case 10:return e.prev=10,e.next=13,(0,h.default)(g,j(o,r,d));case 13:return p=e.sent,n===b.default.LIVE&&(p=p.replace("/gampad/ads?","/gampad/live/ads?")),y.info("Final Ad Url for slot: ",d,p),e.abrupt("return",p);case 19:return e.prev=19,e.t0=e.catch(10),y.error("Error adding IX params to ad Url",e.t0),e.abrupt("return",r);case 23:case"end":return e.stop()}},e,null,[[10,19]])}))).apply(this,arguments)}},{"../../../types/SiteType":357,"../../../types/StreamType":358,"../deadline":289,"../query-string":297,"./IXConfig":292,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/regenerator":24,"core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.map":156,"core-js/modules/es.array.reduce":157,"core-js/modules/es.number.constructor":166,"core-js/modules/es.object.define-properties":168,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.entries":170,"core-js/modules/es.object.get-own-property-descriptor":172,"core-js/modules/es.object.get-own-property-descriptors":173,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,"core-js/modules/es.string.split":187,"core-js/modules/es.symbol":192,"core-js/modules/web.dom-collections.for-each":193,log:"log","regenerator-runtime/runtime":207}],294:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("./utils")),o=Symbol("memoCache"),l=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"memoize",value:function(i){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce(function(e,t){return e+a.default.isPlainObject(t)?JSON.stringify(t):t},"");return i[o]=i[o]?i[o]:{},i[o].hasOwnProperty(n)||(i[o][n]=i.apply(null,t)),i[o][n]}}}]),e}();r.default=l},{"./utils":300,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.reduce":157,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190}],295:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./cookies")),s=new(n(e("log")).default)("PersistControls"),a={volume:"com.bloomberg.player.volume.level",muted:"com.bloomberg.player.volume.muted"},o={get:function(e){var t=a[e];return t?i.default.get(t):(s.warn("Attempting to get an unknown type: ".concat(e)),null)},set:function(e,t){var r=a[e];r?i.default.set(r,t):s.warn("Attempting to persist an unknown type: ".concat(e))}};r.default=o},{"./cookies":286,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],296:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.regexp.exec"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=/Firefox\//,o=/CriOS/,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,u=/version\/(\d+)(\.(\d+))?(\.(\d+))?/i,c=/Edge\/|Trident\/|MSIE /,d="mini",p="radio",f=!1,h=function(){function r(){(0,i.default)(this,r)}return(0,s.default)(r,null,[{key:"isAllowedToAutoplay",value:function(e){return!this.isRadioPlayer(e)&&(!r.isAutoplayDisabledBrowser()||e.muted||r.isMutedOverlayShowing(e))}},{key:"isMutedOverlayShowing",value:function(e){return!this.isRadioPlayer(e)&&(e.original_user_options.isPlaylistPreloadedPlayer||e.original_user_options.autoplay)&&r.isMutedOverlayEnabled(e)}},{key:"isMutedOverlayEnabled",value:function(e){return e.useMutedOverlayPlugin&&function(e){if(!h.isAutoplayDisabledBrowser()&&!e.start_muted)return!1;var t=e.metadata.player_type;return"mini"!==t&&"radio"!==t}(e)}},{key:"isActionRequiredToPlayAd",value:function(e,t){return r.isRadioPlayer(1<arguments.length&&void 0!==t?t:{})||!e&&r.isAutoplayDisabledBrowser()}},{key:"isHlsSupported",value:function(){return!!r.isMobile()||Hls.isSupported()}},{key:"isMiniPlayer",value:function(e){return(0<arguments.length&&void 0!==e?e:{}).playerType===d}},{key:"isRadioPlayer",value:function(e){return(0<arguments.length&&void 0!==e?e:{}).playerType===p}},{key:"isMobile",value:function(){return l.test(this.userAgent())}},{key:"isSafariDesktop",value:function(){var e=this.userAgent().toLocaleLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")&&!r.isMobile()}},{key:"isSafariDesktop11",value:function(){if(!this.isSafariDesktop())return!1;var e=this.getBrowserVersion(this.userAgent(),u);return 11===e.major&&0===e.minor&&0===e.patch}},{key:"canAutoplayAfterAction",value:function(){return!(this.isSafariDesktop11()||this.isMobile())}},{key:"isAutoplayDisabledBrowser",value:function(){return!r.getAutoplayAllowed()}},{key:"needDirectUserActionToPlay",value:function(){return!this.getAutoplayAllowed()&&(this.isSafariDesktop11()||this.isMobile())}},{key:"setAutoplayAllowed",value:function(e){f=e}},{key:"getAutoplayAllowed",value:function(){return f}},{key:"isFirefox",value:function(){return a.test(this.userAgent())}},{key:"isChromeIos",value:function(){return o.test(navigator.userAgent)}},{key:"isIeOrEdge",value:function(){return c.test(this.userAgent())}},{key:"userAgent",value:function(){return navigator.userAgent}},{key:"getBrowserVersion",value:function(e,t){var r=t.exec(e);return r?{major:parseInt(r[1],10)||0,minor:parseInt(r[3],10)||0,patch:parseInt(r[5],10)||0}:{major:0,minor:0,patch:0}}},{key:"isAdOrContentPlaying",value:function(e){var t=e.AdController;return t&&t.adUnit?t.isPlaying():!e.paused()}}]),r}();var m=h;r.default=m},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.index-of":152,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-int":177,"core-js/modules/es.regexp.exec":179}],297:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.freeze"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),o=/([^?=&]+)(=([^&]*))?/g,a=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"toQueryString",value:function(n){return Object.keys(n).reduce(function(e,t,r){return"".concat(e).concat(0<r?"&":"").concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))},"")}},{key:"parseQueryString",value:function(e){if(!e||"string"!=typeof e)return{};var a={};return e.replace(o,function(e,t,r,n){var i=decodeURIComponent(t),s=void 0!==n?decodeURIComponent(n).replace("+"," "):void 0;if(a.hasOwnProperty(i))return Array.isArray(a[i])?a[i].push(s):void(a[i]=[a[i],s]);a[i]=s}),Object.freeze(a)}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.reduce":157,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.freeze":171,"core-js/modules/es.object.keys":174,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185}],298:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.sort"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("./event-target")),p=new(n(e("log")).default)("ResizeMonitor"),f=/\d+/g,h=["onResize","monitor"],m=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this))).el_=e,t.monitorId_=null,h.forEach(function(e){t[e]=t[e].bind((0,o.default)(t))}),t.width=null,t.wBreakpoints_=[],t.setupBreakpoints(),t.monitor(),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"setupBreakpoints",value:function(){var e=this.el_.getAttribute("data-breakpoints");if(e){var t=e.match(f)||[];t=t.map(function(e){return parseFloat(e)}),this.wBreakpoints_=this.wBreakpoints_.concat(t).sort()}}},{key:"getMinWidth",value:function(e){for(var t=this.wBreakpoints_.length-1;0<=t;t--){var r=this.wBreakpoints_[t];if(r<=e)return r}return 0}},{key:"monitor",value:function(){var r=this;this.monitorId_=window.requestAnimationFrame(function(){var e=r.el_.clientWidth;if(r.width!==e){var t=r.getMinWidth(e);r.width=e,r.el_.setAttribute("data-min-width",t),r.onResize()}r.monitor()})}},{key:"stopMonitoring",value:function(){window.cancelAnimationFrame(this.monitorId_),this.monitorId_=null}},{key:"onResize",value:function(){try{var e=this.el_.getBoundingClientRect();this.trigger("resize",{dimensions:e})}catch(e){p.error("Unable to calculate element bounds")}}},{key:"dispose",value:function(){this.el_=this.width=this.wBreakpoints_=null,this.stopMonitoring(),(0,u.default)((0,l.default)(r.prototype),"dispose",this).call(this)}}]),r}(d.default);r.default=m},{"./event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.map":156,"core-js/modules/es.array.sort":160,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.match":184,log:"log"}],299:[function(e,t,r){"use strict";e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=/^\w+:\/\/\w+/i,i={getURLExtension:function(e){if(!e)return"";var t=(e=e.split("?")[0].split("#")[0]).substr(1+e.lastIndexOf("/")),r=t.split(".").pop();return r==t?"":r},getDomain:function(e){return e?URL&&e.match(n)?new URL(e).hostname:-1==e.indexOf("//")?"":e.split("/")[2].split(":")[0]:""},getProtocol:function(e){return e?URL&&e.match(n)?new URL(e).protocol:e.indexOf("//")<1?null:e.split("/")[0]:null}};r.default=i},{"core-js/modules/es.array.index-of":152,"core-js/modules/es.array.iterator":153,"core-js/modules/es.array.last-index-of":155,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.match":184,"core-js/modules/es.string.split":187,"core-js/modules/web.dom-collections.iterator":194,"core-js/modules/web.url":196}],300:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.reduce"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("@babel/runtime/helpers/typeof")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("lodash.clonedeep"));function u(e){return Object.prototype.toString.call(e)}var i=function(){function i(){(0,a.default)(this,i)}return(0,o.default)(i,null,[{key:"isArray",value:function(e){return"[object Array]"===u(e)}},{key:"isObject",value:function(e){return e&&"object"===(0,s.default)(e)}},{key:"isPlainObject",value:function(e){return"[object Object]"===u(e)}},{key:"isString",value:function(e){return"[object String]"===u(e)}},{key:"isDate",value:function(e){return"[object Date]"===u(e)}},{key:"isEmptyObject",value:function(e){if(!i.isPlainObject(e))return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"deepMerge",value:function(e,t){if(!e)return JSON.parse(JSON.stringify(t));if(!t)return JSON.parse(JSON.stringify(e));var r=(0,l.default)(e);for(var n in e.streams&&(r.streams=e.streams),t)t.hasOwnProperty(n)&&(n in r&&"object"===(0,s.default)(r[n])?r[n]=this.deepMerge(r[n],t[n]):r[n]=t[n]);return r}},{key:"filterEmptyValues",value:function(n){return i.isPlainObject(n)?Object.keys(n).reduce(function(e,t){var r=n[t];return i.isString(r)?""!==r.trim()&&(e[t]=r):"boolean"==typeof r||"number"==typeof r?e[t]=r:r&&(e[t]=r),e},{}):n}}]),i}();r.default=i},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":22,"core-js/modules/es.array.reduce":157,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.to-string":181,"core-js/modules/es.string.trim":189,"lodash.clonedeep":202}],301:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),o=n(e("./css-helpers")),l=n(e("../utils/projector-utils")),s=n(e("log")),u=n(e("error-report")),c=e("bvp-constant"),d=new s.default("VideoTagGenerator"),p=function(){function s(e){if((0,a.default)(this,s),e){var t=e.dataSetup,r=t.streams,n=t.width,i=t.height;this.dataSetup=t,this.options=e.userOptions,this.isMiniPlayer=l.default.isMiniPlayer(t),this.height=i,this.playerId=s.getUniqueVideoTagId(t),this.preload=this.options.preload||"metadata",this.streams=r,this.width=n,this.forcePosterMobile=t.forcePosterMobile,this.poster=t.posterUrl}else u.default.recordGenericError(d,"VideoTagGenerator requires a ProjectorSettings instance")}return(0,i.default)(s,[{key:"generateVideoTag",value:function(){var e=document.createElement("video");e.setAttribute("id",this.playerId),e.setAttribute("preload",this.preload);var t=["video-js","vjs-default-skin"];return this.isMiniPlayer?t.push("bvp-mini-player"):t.push("vjs-show-big-play-button-on-pause"),this.width&&this.height?o.default.css(e,{width:this.width,height:this.height}):e.setAttribute("fluid",!0),this.dataSetup.autoplay&&(t.push(c.AUTOPLAY_CLASS),e.setAttribute("autoplay",!0)),l.default.isMobile()&&(e.setAttribute("playsinline",!0),this.forcePosterMobile&&e.setAttribute("poster",this.poster)),o.default.addClassList(e,t),s.setVideoSources(e,this.streams),e}}],[{key:"getUniqueVideoTagId",value:function(e){var t=String(e.htmlChildId||e.id);return"bvp-".concat(t.substr(0,6),"-").concat(Math.floor(1e6*Math.random()))}},{key:"setVideoSources",value:function(r,e){var n=document.createElement("source");e.forEach(function(e){var t=n.cloneNode(!1);t.setAttribute("src",e.url),t.setAttribute("type",e.type),e.percent&&t.setAttribute("data-percent",e.percent),r.appendChild(t)})}}]),s}();r.default=p},{"../utils/projector-utils":296,"./css-helpers":287,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/web.dom-collections.for-each":193,"error-report":"error-report",log:"log"}],302:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../components/audio/AudioBarsComponent")),l=new a.default("AudioBarsPlugin"),u=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"init",value:function(){var e=this.options_;e.enableAudioBars?"radio"===e.metadata.player_type?(l.info("plugin initialized"),videojs.registerComponent("AudioBarsComponent",o.default),this.options_.AudioBarsComponent=this.options_.AudioBarsComponent||!0):l.info("plugin disabled for non-radio streams"):l.info("plugin disabled")}}]),e}();videojs.registerPlugin("AudioBarsPlugin",u.init);var c=u;r.default=c},{"../components/audio/AudioBarsComponent":215,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],303:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../events/player-events")),l=n(e("../events/ad-events")),u=n(e("../utils/projector-utils")),c=new a.default("AutoplayBrowsersPlugin"),d=["_onPlay","_onPause","_onVolumeChange","_onAdTimeUpdate","_onContentTimeUpdate"],p=function(){function r(e){var t=this;(0,i.default)(this,r),this._player=e,d.forEach(function(e){t[e]=t[e].bind(t)}),this._isMuted=e.options_.muted||0===e.volume(),e.on(o.default.BVP_VOLUME_CHANGE,this._onVolumeChange),e.on(l.default.AD_PLAYBACK_PROGRESS_UPDATE,this._onAdTimeUpdate),e.on(o.default.TIMEUPDATE,this._onContentTimeUpdate),e.on([o.default.PLAY,l.default.AD_STARTED,l.default.AD_RESUMED],this._onPlay),e.on([o.default.PAUSE,l.default.AD_PAUSED],this._onPause),this._wasLastTickPlayingWithSound=!1,this._lastPlayingWithSoundTime=0}return(0,s.default)(r,[{key:"removeEventListeners",value:function(){c.debug("removing event listeners"),this._player.off(o.default.BVP_VOLUME_CHANGE,this._onVolumeChange),this._player.off(l.default.AD_PLAYBACK_PROGRESS_UPDATE,this._onAdTimeUpdate),this._player.off(o.default.TIMEUPDATE,this._onContentTimeUpdate),this._player.off([o.default.PLAY,l.default.AD_STARTED,l.default.AD_RESUMED],this._onPlay),this._player.off([o.default.PAUSE,l.default.AD_PAUSED],this._onPause)}},{key:"_onPlay",value:function(){this._isPlaying=!0}},{key:"_onPause",value:function(){this._wasLastTickPlayingWithSound=!1,this._isPlaying=!1}},{key:"_onVolumeChange",value:function(e){var t=e.data,r=t.volume,n=t.muted;this._isMuted=n||0===r}},{key:"_onAdTimeUpdate",value:function(e){var t=e.data.elapsedTime;this._handleTimeUpdate(t)}},{key:"_onContentTimeUpdate",value:function(){this._handleTimeUpdate(this._player.currentTime())}},{key:"_handleTimeUpdate",value:function(e){var t=!this._isMuted&&this._isPlaying;this._wasLastTickPlayingWithSound?t?1<=e-this._lastPlayingWithSoundTime&&(c.info("Setting autoplayAllowed flag to true"),u.default.setAutoplayAllowed(!0),this.removeEventListeners()):(this._wasLastTickPlayingWithSound=!1,this._lastPlayingWithSoundTime=0):t&&(this._wasLastTickPlayingWithSound=!0,this._lastPlayingWithSoundTime=e)}}],[{key:"init",value:function(){var e=this.options_,t=e.metadata.player_type;if(e.useAutoplayBrowsersPlugin&&!u.default.getAutoplayAllowed()&&u.default.canAutoplayAfterAction()&&!u.default.isMiniPlayer({playerType:t})&&!u.default.isRadioPlayer({playerType:t}))return new r(this);c.info("plugin disabled")}}]),r}();videojs.registerPlugin("AutoplayBrowsersPlugin",p.init);var f=p;r.default=f},{"../events/ad-events":226,"../events/player-events":228,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],304:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../components/chromecast/BloombergChromeCastButton")),l=new a.default("ChromeCastPlugin"),u=function(){function r(){(0,i.default)(this,r)}return(0,s.default)(r,null,[{key:"init",value:function(){var e=this.options_,t=e.metadata.player_type;e.live&&"standard"===t&&e.useChromeCastPlugin&&r._isCastAllowed()?videojs.registerComponent("BloombergChromeCastButton",o.default):l.info("plugin disabled")}},{key:"_isCastAllowed",value:function(){return"https:"===location.protocol||"localhost"===location.hostname}}]),r}();videojs.registerPlugin("ChromeCastPlugin",u.init);var c=u;r.default=c},{"../components/chromecast/BloombergChromeCastButton":216,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],305:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../events/player-events")),o=new(n(e("log")).default)("ClosedCaptionsApiPlugin"),l=["_showClosedCaptions","_hideClosedCaptions"],u="showing",c="disabled",d=function(){function r(e){var t=this;(0,i.default)(this,r),this.player=e,l.forEach(function(e){t[e]=t[e].bind(t)}),this.player.on(a.default.SHOW_CLOSED_CAPTIONS,this._showClosedCaptions),this.player.on(a.default.HIDE_CLOSED_CAPTIONS,this._hideClosedCaptions)}return(0,s.default)(r,[{key:"_showClosedCaptions",value:function(){this.closedCaptionsShown||(this._setTextTrackMode(u),this.closedCaptionsShown=!0)}},{key:"_hideClosedCaptions",value:function(){this.closedCaptionsShown&&(this.closedCaptionsShown=!1,this._setTextTrackMode(c))}},{key:"_setTextTrackMode",value:function(e){for(var t=this.player.textTracks(),r=0;r<t.length;r++){var n=t[r];"captions"===n.kind&&"en"===n.language&&(n.mode=e)}}}],[{key:"init",value:function(){if(this.options_.enableClosedCaptionsApi)return new r(this);o.info("plugin disabled")}}]),r}();videojs.registerPlugin("ClosedCaptionsApiPlugin",d.init);var p=d;r.default=p},{"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],306:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=new(n(e("log")).default)("CustomBufferingComponent"),d=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,o.default)(r).call(this,e))).$(".bvp-custom-buffering__spinner").setAttribute("data-spinner-asset",e.options_.customBufferingAnimationAsset),t.el_.style.backgroundImage='url(" '.concat(e.options_.posterUrl,' "'),t}return(0,u.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,l.default)((0,o.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-custom-buffering",innerHTML:'<div class="bvp-custom-buffering__spinner"></div>'})}}],[{key:"init",value:function(){this.options_.useCustomBufferingAnimation?videojs.registerComponent("CustomBufferingComponent",r):c.info("plugin disabled")}}]),r}(videojs.getComponent("Component"));videojs.registerPlugin("CustomBufferingPlugin",d.init);var p=d;r.default=p},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169,log:"log"}],307:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=i(e("@babel/runtime/regenerator")),o=i(e("@babel/runtime/helpers/slicedToArray"));e("regenerator-runtime/runtime");var s=i(e("@babel/runtime/helpers/asyncToGenerator")),l=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/defineProperty")),d=i(e("log")),p=i(e("../utils/projector-utils")),f=i(e("../utils/datetime-utils")),h=i(e("../events/ad-events")),m=i(e("../events/player-events")),b=e("bvp-constant"),v=i(e("../lib/google-ads/videojs-dai-ad-controls")),y=i(e("../lib/google-ads/videojs-ad-learn-more")),g=i(e("../lib/google-ads/videojs-ad-time-remaining")),_=i(e("uuid/v4")),j=i(e("../utils/query-string")),C=i(e("../services/AdditionalCustomParameterService")),A=e("dai-util"),E=i(e("../utils/PPID")),P=n(e("../services/ConsentService"));function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(r,!0).forEach(function(e){(0,c.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var T=new d.default("DaiPlugin"),k=function(){function r(e,t){var i=this;(0,l.default)(this,r),(0,c.default)(this,"dai",void 0),(0,c.default)(this,"player",void 0),(0,c.default)(this,"pluginOptions",void 0),(0,c.default)(this,"daiEvents",void 0),(0,c.default)(this,"daiAssetKey",void 0),(0,c.default)(this,"isMobile",void 0),(0,c.default)(this,"additionalCustomParameterService",void 0),(0,c.default)(this,"streamManager",void 0),(0,c.default)(this,"isInAdBreak",void 0),(0,c.default)(this,"impressionId",void 0),(0,c.default)(this,"daiAdControls",void 0),(0,c.default)(this,"_videoTag",void 0),(0,c.default)(this,"currentAdInfo",void 0),(0,c.default)(this,"streamUrl",void 0),(0,c.default)(this,"_isYouboraAdAdapterAttached",void 0),(0,c.default)(this,"_onReady",function(){i._setVideoTag(),i.streamManager=r.getStreamManager(i._videoTag),i.streamManager.addEventListener(i.daiEvents.LOADED,i._onManifestLoaded),i.streamManager.addEventListener(i.daiEvents.ERROR,i._onManifestLoadError),i.streamManager.addEventListener(i.daiEvents.AD_BREAK_STARTED,i._onAdBreakStarted),i.streamManager.addEventListener(i.daiEvents.STARTED,i._onAdStarted),i.streamManager.addEventListener(i.daiEvents.AD_PROGRESS,i._onAdProgress),i.streamManager.addEventListener(i.daiEvents.FIRST_QUARTILE,i._onAdFirstQuartile),i.streamManager.addEventListener(i.daiEvents.MIDPOINT,i._onAdMidPoint),i.streamManager.addEventListener(i.daiEvents.THIRD_QUARTILE,i._onAdThirdQuartile),i.streamManager.addEventListener(i.daiEvents.COMPLETE,i._onAdComplete),i.streamManager.addEventListener(i.daiEvents.AD_BREAK_ENDED,i._onAdBreakEnded),i.streamManager.addEventListener(i.daiEvents.CLICK,i._onAdClick),i.daiAdControls=i.player.getChild("DaiAdControlsComponent"),i.streamManager.setClickElement(i._getAdClickEl()),i.initialize()}),(0,c.default)(this,"_onManifestLoaded",function(e){T.info("Manifest loaded"),i.streamUrl=e.getStreamData().url,i._loadUrl(i.streamUrl)}),(0,c.default)(this,"_onManifestLoadError",function(){T.info("Error loading DAI stream"),i.player.src((0,A.getOriginalStreamUrl)(i.player.options_))}),(0,c.default)(this,"_onAddTrack",function(e){if(!i._getHlsjs()){T.info("Track added");var u=e.track,c=i.streamManager;"metadata"===u.kind&&(u.mode="hidden",u.addEventListener("cuechange",function(){var e={},t=!0,r=!1,n=void 0;try{for(var i,s=u.activeCues[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var a=i.value.value,o=a.key,l=a.data;e[o]=l}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}c.onTimedMetadata(e)}))}}),(0,c.default)(this,"_onAdBreakStarted",function(){T.info("Ad break started"),i.isInAdBreak=!0}),(0,c.default)(this,"_onAdStarted",function(e){i.daiAdControls.show(),i.currentAdInfo=e;var t=i._extractDetails(i.currentAdInfo);i.player.trigger({type:h.default.AD_LOADED,data:Object.assign({},t,{isLive:!0,mediaUrl:t.url})}),i.player.trigger({type:h.default.AD_STARTED,data:t}),i.player.trigger({type:h.default.CLIP,data:t})}),(0,c.default)(this,"_onAdProgress",function(e){var t=e.getStreamData().adProgressData,r=t.currentTime,n=t.duration-r;i.daiAdControls.setCountdownTime(f.default.formatSeconds(n)),i.player.trigger({type:h.default.AD_PLAYBACK_PROGRESS_UPDATE,data:Object.assign({},i._extractDetails(i.currentAdInfo),{elapsedTime:r})})}),(0,c.default)(this,"_onAdFirstQuartile",function(){i.player.trigger({type:h.default.AD_FIRST_QUARTILE,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onAdMidPoint",function(){i.player.trigger({type:h.default.AD_MIDPOINT,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onAdThirdQuartile",function(){i.player.trigger({type:h.default.AD_THIRD_QUARTILE,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onAdComplete",function(){T.info("AD complete"),i.player.trigger({type:h.default.AD_COMPLETED,data:i._extractDetails(i.currentAdInfo)}),i.currentAdInfo=null}),(0,c.default)(this,"_onAdBreakEnded",function(){T.info("Ad break ended"),i.isInAdBreak=!1,i.daiAdControls.hide(),i.player.trigger({type:h.default.ALL_ADS_COMPLETED}),i.player.trigger({type:h.default.CLIP,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onAdClick",function(){T.info("Ad clicked. pausing player"),i.player.pause(),i.player.bigPlayButton.hide(),i.player.trigger({type:h.default.AD_CLICKED,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_attachYouboraAdAdapter",function(){i._isYouboraAdAdapterAttached||(window.youboraPlugin.setAdsAdapter(i._getYouboraImaAdapter()),i._isYouboraAdAdapterAttached=!0)}),(0,c.default)(this,"_onPlay",function(){i.isInAdBreak&&i.player.trigger({type:h.default.AD_RESUMED,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onPause",function(){i.isInAdBreak&&i.player.trigger({type:h.default.AD_PAUSED,data:i._extractDetails(i.currentAdInfo)})}),(0,c.default)(this,"_onVolumeChange",function(){i.isInAdBreak&&i.player.trigger({type:h.default.AD_VOLUME_CHANGE,data:{isDai:!0}})}),(0,c.default)(this,"_onDispose",function(){i.streamManager.removeEventListener(i.daiEvents.LOADED,i._onManifestLoaded),i.streamManager.removeEventListener(i.daiEvents.ERROR,i._onManifestLoadError),i.streamManager.removeEventListener(i.daiEvents.AD_BREAK_STARTED,i._onAdBreakStarted),i.streamManager.removeEventListener(i.daiEvents.STARTED,i._onAdStarted),i.streamManager.removeEventListener(i.daiEvents.AD_PROGRESS,i._onAdProgress),i.streamManager.removeEventListener(i.daiEvents.FIRST_QUARTILE,i._onAdFirstQuartile),i.streamManager.removeEventListener(i.daiEvents.MIDPOINT,i._onAdMidPoint),i.streamManager.removeEventListener(i.daiEvents.THIRD_QUARTILE,i._onAdThirdQuartile),i.streamManager.removeEventListener(i.daiEvents.COMPLETE,i._onAdComplete),i.streamManager.removeEventListener(i.daiEvents.AD_BREAK_ENDED,i._onAdBreakEnded),i.streamManager.removeEventListener(i.daiEvents.CLICK,i._onAdClick),i._getTextTracks().removeEventListener("addtrack",i._onAddTrack)}),this._isYouboraAdAdapterAttached=!1,this.dai=window.google.ima.dai.api,this.player=t,this.pluginOptions=e,this.daiEvents=this.dai.StreamEvent.Type,this.daiAssetKey=this.player.options_.useTestDaiStream?"sN_IYUG8STe1ZzhIIE_ksA":this.player.options_.daiAssetKey,this.isMobile=p.default.isMobile(),this.additionalCustomParameterService=new C.default({playerHtmlChildId:t.options_.htmlChildId}),this.player.on(m.default.PLAY,this._onPlay),this.player.one(m.default.PLAY,this._attachYouboraAdAdapter),this.player.on(m.default.PAUSE,this._onPause),this.player.on(m.default.BVP_VOLUME_CHANGE,this._onVolumeChange),this.player.on(m.default.DISPOSE,this._onDispose),this.player.ready(this._onReady),this.isInAdBreak=!1,this.impressionId=r._getImpressionId(),videojs.registerComponent("DaiAdControlsComponent",v.default),videojs.registerComponent("AdTimeRemaining",g.default),this.isMobile&&videojs.registerComponent("AdLearnMore",y.default)}var e;return(0,u.default)(r,[{key:"_listenToId3Events",value:function(){var n=this,e=this._getHlsjs();e&&e.on(window.Hls.Events.FRAG_PARSING_METADATA,function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).samples;(void 0===t?[]:t).forEach(function(e){var t=e.data,r=e.pts;return n.streamManager.processMetadata("ID3",t,r)})})}},{key:"_getHlsjs",value:function(){return this.player&&this.player.tech_&&this.player.tech_.hls_}},{key:"_getYouboraImaAdapter",value:function(){return new window.YouboraLib.adapters.Ima(this.streamManager)}},{key:"initialize",value:function(){return this._listenToId3Events(),this._requestLiveStream(this.daiAssetKey,null)}},{key:"_getAdClickEl",value:function(){return this.isMobile?this.daiAdControls.adLearnMoreComponent.el():this.daiAdControls.el()}},{key:"_loadUrl",value:function(e){T.info("Loading: ".concat(e)),this.player.src(e),this._getTextTracks().addEventListener("addtrack",this._onAddTrack),this.player.options_.isPlayingDai=!0}},{key:"_getTextTracks",value:function(){return this._videoTag.textTracks}},{key:"_setVideoTag",value:function(){this._videoTag||(this._videoTag=this.player.el_.getElementsByTagName("video")[0])}},{key:"_extractDetails",value:function(e){if(!e)return null;var t=e.getAd(),r=t.getWrapperCreativeIds(),n=t.getWrapperAdIds();return{isDai:!0,url:this.streamUrl,type:this.isInAdBreak&&"ad-".concat(b.AD_TYPES.MIDROLL)||this.player.options_.metadata.form_type,adType:b.AD_TYPES.MIDROLL,title:t.getTitle(),duration:t.getDuration(),dfpCreativeId:r.length?r:[t.getCreativeId()],dfpLineItemId:n.length?n:[t.getAdId()],clip:{contentId:this.isInAdBreak?t.getAdId():this.player.options_.metadata.id},impressionId:this.impressionId}}},{key:"_requestLiveStream",value:function(r,n){var i=this;return this._getAdTagParams().then(function(e){var t=new i.dai.LiveStreamRequest({adTagParameters:e});t.assetKey=r,t.apiKey=n||"",i.streamManager.requestStream(t)})}},{key:"_getAdTagParams",value:(e=(0,s.default)(a.default.mark(function e(){var t,r,n,i,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getDAICustomParams(),P.fetchParams()]);case 2:return t=e.sent,r=(0,o.default)(t,2),n=r[0],i=r[1].isPersonalizedAdAllowed,s={cust_params:j.default.toQueryString(n)},e.abrupt("return",i?S({},s,{ppid:E.default.get()}):s);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_getDAICustomParams",value:function(){var e=Object.assign({},this.pluginOptions.midrollCustParams,{iid:this.impressionId});return this.additionalCustomParameterService.fillAdditionalParams(e).then(function(){return e})}}],[{key:"_getImpressionId",value:function(){return(0,_.default)()}},{key:"getStreamManager",value:function(e){return new window.google.ima.dai.api.StreamManager(e)}},{key:"init",value:function(e){if((0,A.isDaiEnabled)(this.options_))return T.info("Initializing Dai plugin"),new r(e,this)}}]),r}();r.default=k,videojs.registerPlugin("DaiPlugin",k.init)},{"../events/ad-events":226,"../events/player-events":228,"../lib/google-ads/videojs-ad-learn-more":248,"../lib/google-ads/videojs-ad-time-remaining":251,"../lib/google-ads/videojs-dai-ad-controls":252,"../services/AdditionalCustomParameterService":267,"../services/ConsentService":268,"../utils/PPID":280,"../utils/datetime-utils":288,"../utils/projector-utils":296,"../utils/query-string":297,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/regenerator":24,"bvp-constant":"bvp-constant","core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.iterator":153,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-properties":168,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.get-own-property-descriptor":172,"core-js/modules/es.object.get-own-property-descriptors":173,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":192,"core-js/modules/es.symbol.description":190,"core-js/modules/es.symbol.iterator":191,"core-js/modules/web.dom-collections.for-each":193,"core-js/modules/web.dom-collections.iterator":194,"dai-util":"dai-util",log:"log","regenerator-runtime/runtime":207,"uuid/v4":210}],308:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../utils/projector-utils")),l=n(e("../components/muted-overlay/MutedOverlayComponent")),u=new a.default("MutedOverlayPlugin"),c=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"init",value:function(){o.default.isMutedOverlayEnabled(this.options_)?(u.info("plugin initialized"),videojs.registerComponent("MutedOverlayComponent",l.default),this.options_.MutedOverlayComponent=this.options_.MutedOverlayComponent||!0):u.info("plugin disabled")}}]),e}();videojs.registerPlugin("MutedOverlayPlugin",c.init);var d=c;r.default=d},{"../components/muted-overlay/MutedOverlayComponent":219,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],309:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../events/player-events")),p=new(n(e("log")).default)("NonInteractiveProgressBarComponent"),f=videojs.getComponent("Component"),h=["_onPlayerTimeUpdate"],m=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this,e))).player=e,h.forEach(function(e){t[e]=t[e].bind((0,o.default)(t))}),t.player.on(d.default.TIMEUPDATE,t._onPlayerTimeUpdate),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,u.default)((0,l.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-non-interactive-progress-bar",innerHTML:'<div class="bvp-non-interactive-progress-bar__progress"></div>'})}},{key:"_onPlayerTimeUpdate",value:function(){var e="".concat(this.player.currentTime()/this.player.duration()*100,"%");this.$(".bvp-non-interactive-progress-bar__progress").style.setProperty("width",e)}}],[{key:"init",value:function(){this.options_.useNonInteractiveProgressBar?videojs.registerComponent("NonInteractiveProgressBarComponent",r):p.info("plugin disabled")}}]),r}(f);videojs.registerPlugin("NonInteractiveProgressBarPlugin",m.init);var b=m;r.default=b},{"../events/player-events":228,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],310:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=new(n(e("log")).default)("PlayPauseOverlayComponent"),p=videojs.getComponent("Component"),f=["_handleClick"],h=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this,e))).player=e,f.forEach(function(e){t[e]=t[e].bind((0,o.default)(t))}),t.el_.addEventListener("click",t._handleClick),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,u.default)((0,l.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-play-pause-overlay",innerHTML:""})}},{key:"_handleClick",value:function(){this.player.paused()?this.player.play():this.player.pause()}}],[{key:"init",value:function(){this.options_.enablePlayPauseOverlay?videojs.registerComponent("PlayPauseOverlayComponent",r):d.info("plugin disabled")}}]),r}(p);videojs.registerPlugin("PlayPauseOverlayPlugin",h.init);var m=h;r.default=m},{"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],311:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../events/player-events")),l=n(e("../utils/projector-utils")),u=new a.default("MutedOverlayPlugin"),c=["_onRegUIPopUpShown","_onRegUIPopUpClosed","_onDispose"],d=function(){function r(e){var t=this;(0,i.default)(this,r),this._player=e,this._playerPausedByRegUIPopUp=!1,c.forEach(function(e){t[e]=t[e].bind(t)}),window.addEventListener(o.default.REG_UI_POP_UP_SHOWN,this._onRegUIPopUpShown),window.addEventListener(o.default.REG_UI_POP_UP_CLOSED,this._onRegUIPopUpClosed),this._player.on(o.default.DISPOSE,this._onDispose)}return(0,s.default)(r,[{key:"_onRegUIPopUpShown",value:function(){l.default.isAdOrContentPlaying(this._player)&&(this._playerPausedByRegUIPopUp=!0,this._player.pause(),this._player.trigger(o.default.REG_UI_POP_UP_SHOWN))}},{key:"_onRegUIPopUpClosed",value:function(){!l.default.isAdOrContentPlaying(this._player)&&this._isPlayerPausedByRegUIPopUp()&&(this._playerPausedByRegUIPopUp=!1,this._player.trigger(o.default.REG_UI_POP_UP_CLOSED))}},{key:"_onDispose",value:function(){window.removeEventListener(o.default.REG_UI_POP_UP_SHOWN,this._onRegUIPopUpShown),window.removeEventListener(o.default.REG_UI_POP_UP_CLOSED,this._onRegUIPopUpClosed)}},{key:"_isPlayerPausedByRegUIPopUp",value:function(){return this._playerPausedByRegUIPopUp}}],[{key:"init",value:function(){if(this.options_.useRegUIPopUpPlugin)return new r(this);u.info("Reg UI pop-up plugin is disabled!")}}]),r}();videojs.registerPlugin("RegUIPopUpPlugin",d.init);var p=d;r.default=p},{"../events/player-events":228,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],312:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../utils/resize-monitor")),l=new a.default("ResizePlayerPlugin"),u=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"init",value:function(){this.options_.use_resize_player?(l.info("monitoring player size"),function(e){var t=e.el_;t.setAttribute("data-breakpoints","320 640 800"),new o.default(t).setEventParent(e)}(this)):l.info("plugin disabled")}}]),e}();videojs.registerPlugin("ResizePlayerPlugin",u.init);var c=u;r.default=c},{"../utils/resize-monitor":298,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],313:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../events/player-events")),l=n(e("../events/ad-events")),u=n(e("resources")),c=new a.default("VideoMidrollPlugin"),d="bvp-progress-bar-marker",p=".vjs-progress-holder",f=function(){function t(e){(0,i.default)(this,t),this._player=e,this._lastAdTime=new Date(0),this._lastAdCuePointIndex=-1,this._playedAdCuePoints={},e.ready(this.initialize.bind(this))}return(0,s.default)(t,[{key:"initialize",value:function(){var e=this._player;this._adCuePoints=e.options_.metadata.adCuePoints||[],0!==this._adCuePoints.length&&(e.on(o.default.TIMEUPDATE,this._onTimeUpdate.bind(this)),e.on([l.default.ALL_ADS_COMPLETED,o.default.ADS_TIMEOUT_ERROR],this._setLastAdTime.bind(this)),e.on(o.default.LOADED_METADATA,this._updateProgressBarMarker.bind(this)))}},{key:"_onTimeUpdate",value:function(){if(!this._player.scrubbing()){var e=this._getCurrentAdCuePointIndex();e!==this._lastAdCuePointIndex&&(c.info("Setting last cue point index to: ".concat(e)),this._lastAdCuePointIndex=e,this._passedExemptionPeriod()&&(this._playedAdCuePoints[e]||(c.info("Triggering cue point ad @ ".concat(this._player.currentTime())),this._player.tech_.trigger({type:o.default.HLS_CUE_OUT,data:{duration:60}}),this._playedAdCuePoints[e]=!0,this._updateProgressBarMarker())))}}},{key:"_passedExemptionPeriod",value:function(){return 6e4<=new Date-this._lastAdTime}},{key:"_getCurrentAdCuePointIndex",value:function(){for(var e=this._player.currentTime(),t=this._adCuePoints.length-1;0<=t;t--)if(e>=this._adCuePoints[t])return t;return-1}},{key:"_setLastAdTime",value:function(){this._lastAdTime=new Date,c.info("Set last Ad time to: ".concat(this._lastAdTime))}},{key:"_updateProgressBarMarker",value:function(){var r=this,e=this._player,t=e.el(),n=t.querySelector(p);if(n){var i=e.duration();if(i){for(var s=t.querySelectorAll(".".concat(d)),a=0;a<s.length;a++){var o=s[a];o.parentNode.removeChild(o)}this._adCuePoints.filter(function(e,t){return!r._playedAdCuePoints[t]}).forEach(function(e){var t=e/i*100,r=videojs.createEl("div",{},{class:d,style:"left: ".concat(t,"%;")});n.appendChild(r)})}else c.error("Can't get player duration")}else c.error("Can't find ".concat(p," element"))}}],[{key:"init",value:function(){var e=this.options_;if("true"===u.default.VOD_MIDROLL_ENABLED)if(e.useVideoMidrollPlugin){if(!e.live)return c.info("plugin initialized"),new t(this);c.info("plugin disabled for live stream.")}else c.info("plugin disabled");else c.info("plugin disabled for this environment")}}]),t}();videojs.registerPlugin("VideoMidrollPlugin",f.init);var h=f;r.default=h},{"../events/ad-events":226,"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/web.dom-collections.for-each":193,log:"log",resources:"resources"}],314:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../events/player-events")),l=n(e("../events/ad-events")),u=new a.default("VideoWatchedTimeUpdate"),c=["_startTimeCounter","_stopTimeCounter","_onTimeUpdate"],d=[o.default.PLAY,l.default.ALL_ADS_COMPLETED],p=[l.default.AD_STARTED,o.default.PAUSE,o.default.ENDED,o.default.WATCHDOG_RELOAD,o.default.HLS_BRIDGE_FATAL_ERROR],f=function(){function r(e){var t=this;(0,i.default)(this,r),this._player=e,this._lastBroadcastedValue=0,this._lastBroadcastedDateTime=null,this._isTrackingVideoWatchTime=!1,c.forEach(function(e){t[e]=t[e].bind(t)}),e.on(p,this._stopTimeCounter),e.on(d,this._startTimeCounter),e.on(o.default.TIMEUPDATE,this._onTimeUpdate)}return(0,s.default)(r,[{key:"_startTimeCounter",value:function(e){this._isTrackingVideoWatchTime||(u.info("Time tracking started by event: ",e.type),this._isTrackingVideoWatchTime=!0,this._lastBroadcastedDateTime=new Date)}},{key:"_stopTimeCounter",value:function(e){this._isTrackingVideoWatchTime&&(u.info("Time tracking stopped by event: ",e.type),this._broadcastUpdate(this._getDeltaVideoWatchedTime()),this._isTrackingVideoWatchTime=!1)}},{key:"_onTimeUpdate",value:function(){if(this._isTrackingVideoWatchTime){var e=this._getDeltaVideoWatchedTime();10<=e&&this._broadcastUpdate(e)}}},{key:"_getDeltaVideoWatchedTime",value:function(){return parseFloat((new Date-this._lastBroadcastedDateTime)/1e3)}},{key:"_broadcastUpdate",value:function(e){var t=this._lastBroadcastedValue+e;this._player.trigger({type:"videoWatchedTimeUpdate",data:{timeWatchedSinceLastUpdate:e,totalTimeWatched:t}}),u.info("Video watch time boradcast. Total time watched: ".concat(t,", Time watched since last update: ").concat(e)),this._lastBroadcastedValue=t,this._lastBroadcastedDateTime=new Date}}],[{key:"init",value:function(){return new r(this)}}]),r}();videojs.registerPlugin("VideoWatchedTimeUpdatePlugin",f.init);var h=f;r.default=h},{"../events/ad-events":226,"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,log:"log"}],315:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../../utils/projector-utils")),o=n(e("./videojs-vod-captions-helper")),l=new(n(e("log")).default)("ClosedCaptionsPlugin"),u=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"isEnabled",value:function(e){return"true"===String(e.options_.use_captions)}},{key:"shouldParseVodCaptions",value:function(e){return!e.options_.metadata.live&&!a.default.isMobile()}},{key:"init",value:function(){e.isEnabled(this)?e.shouldParseVodCaptions(this)&&o.default.parse(this):l.info("plugin disabled")}}]),e}();videojs.registerPlugin("ClosedCaptionsPlugin",u.init);var c=u;r.default=c},{"../../utils/projector-utils":296,"./videojs-vod-captions-helper":316,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],316:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),d=n(e("../../utils/datetime-utils")),a=n(e("../../events/player-events")),o=n(e("log")),l=n(e("error-report")),u=new o.default("VodCaptionsHelper"),p=/<br.*?>\s*/g,f=window.VTTCue||window.TextTrackCue,c=function(){function c(){(0,i.default)(this,c)}return(0,s.default)(c,null,[{key:"onMetadataLoad",value:function(e){var t=c.getDfxpUrlFromOptions(e.options_);t&&fetch(t).then(c.handleLoadDfxpResponse.bind(this,t)).then(c.parseDfxpResponse.bind(this,e)).catch(function(e){u.warn("Fetching DFXP with url ".concat(t," failed"),e)})}},{key:"handleLoadDfxpResponse",value:function(e,t){if(200==t.status)return t.text();l.default.recordLoadError(u,e,"Fetching DFXP with url ".concat(e," failed with status ").concat(t.status))}},{key:"parseDfxpResponse",value:function(e,t){var r=c.extractCuesFrom(t);if(r&&0!==r.length)for(var n=e.addTextTrack("captions","English","en"),i=0,s=r.length;i<s;i++){var a=r[i],o=d.default.convertToSeconds(a["@begin"]),l=d.default.convertToSeconds(a["@end"]),u=new f(o,l,a.Text);n.addCue(u)}}},{key:"getDfxpUrlFromOptions",value:function(e){return!e.metadata||!e.metadata.captions||0<!e.metadata.captions.length?null:e.metadata.captions[0].url}},{key:"extractCuesFrom",value:function(e){e=e.replace(p,"\n");try{return window.xml.xmlToJSON(e).tt.body.div.p}catch(e){return l.default.recordGenericError(u,"Unable to parse dfxp file with error:",e),[]}}},{key:"parse",value:function(e){e.on(a.default.LOADED_METADATA,c.onMetadataLoad.bind(this,e))}}]),c}();r.default=c},{"../../events/player-events":228,"../../utils/datetime-utils":288,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,"error-report":"error-report",log:"log"}],317:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("../../utils/fullscreen")),l=n(e("../../utils/OverlayFocusHandler")),u=n(e("../../events/player-events")),c=new(n(e("log")).default)("FullscreenAccessibilityPlugin"),d=function(){function r(e){var t=this;(0,i.default)(this,r),(0,a.default)(this,"_player",void 0),(0,a.default)(this,"_focusHandler",void 0),(0,a.default)(this,"_fullScreenChange",function(){o.default.isInFullScreen()?t._focusHandler.focus():t._focusHandler.unfocus()}),(0,a.default)(this,"dispose",function(){t._focusHandler.unfocus(),t._player.off(u.default.PLAY,t._fullScreenChange),t._player.off(u.default.FULL_SCREEN_CHANGE,t._fullScreenChange)}),this._player=e,this._player.on(u.default.DISPOSE,this.dispose),this._focusHandler=new l.default(this._player.el_),this._player.ready(function(){t._player.on(u.default.PLAY,t._fullScreenChange)}),this._player.on(u.default.FULL_SCREEN_CHANGE,this._fullScreenChange)}return(0,s.default)(r,null,[{key:"register",value:function(){if(this.options_.useFullscreenControlPlugin)return new r(this);c.info("plugin disabled")}}]),r}();r.default=d,videojs.registerPlugin("FullscreenAccessibilityPlugin",d.register)},{"../../events/player-events":228,"../../utils/OverlayFocusHandler":279,"../../utils/fullscreen":291,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],318:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.find"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.streamToSource=void 0;var d=n(e("@babel/runtime/regenerator")),p=n(e("@babel/runtime/helpers/toConsumableArray"));e("regenerator-runtime/runtime");function f(e){return{type:e.type,src:e.url}}var i=n(e("@babel/runtime/helpers/asyncToGenerator")),s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/defineProperty")),h=e("bvp-constant"),m=n(e("./videojs-hls-bridge")),l=n(e("log")),b=n(e("error-report")),u=n(e("../../events/player-events")),v=new l.default("GeneralHlsFallbackStrategy"),y=["_onTimeUpdate"];r.streamToSource=f;var c=function(){function t(e){var c=this;(0,s.default)(this,t),(0,o.default)(this,"player",void 0),(0,o.default)(this,"previousTime",void 0),(0,o.default)(this,"streamRetryDelay",void 0),(0,o.default)(this,"generateStreamList",(0,i.default)(d.default.mark(function e(){var t,r,n,i,s,a,o,l,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.default.getSourceType(),r=c.player.currentSrc(),n=c.player.options_.originalStreams||[],i=c.player.options_.filteredStreams||[],s=[].concat((0,p.default)(c.player.currentSources()),(0,p.default)(n.map(f))).filter(function(e){return e.type===t&&!i.includes(e)}),a=s.find(function(e){return e.src===r})){e.next=9;break}throw b.default.recordHLSError(v,"Could not find current source url ".concat(r," in original streams"),s),h.CURRENT_STREAM_NOT_FOUND;case 9:if(o=[].concat((0,p.default)(i),(0,p.default)(c.player.options_.isPlayingDai?[]:[a])),l=s.filter(function(e){return e.src!==r}),c._resetDai(),0===l.length)return v.warn("Ran out of original streams. Recycling filteredStreams and delaying ".concat(c.streamRetryDelay,"ms until next retry cycle begins")),c.player.options_.filteredStreams=[],u=c._calculateAndGetDelay(),e.next=18,c._delay(u);e.next=19;break;case 18:return e.abrupt("return",o);case 19:return c.player.options_.filteredStreams=o,e.next=22,c._delay(0);case 22:return e.abrupt("return",l);case 23:case"end":return e.stop()}},e)}))),this.player=e,y.forEach(function(e){return c[e]=c[e].bind(c)}),this.player.on(u.default.TIMEUPDATE,this._onTimeUpdate),this.previousTime=0,this.streamRetryDelay=1e3}return(0,a.default)(t,[{key:"_resetDai",value:function(){this.player.options_.originalStreams=[],this.player.options_.isPlayingDai=!1}},{key:"_delay",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}},{key:"_calculateAndGetDelay",value:function(){if(this.streamRetryDelay<6e4){var e=this.streamRetryDelay;return this.streamRetryDelay=2*this.streamRetryDelay,e}return 6e4}},{key:"_onTimeUpdate",value:function(){var e=this.player.currentTime();this.previousTime!==e&&(this.previousTime=e,this.streamRetryDelay=1e3)}},{key:"dispose",value:function(){}}]),t}();r.default=c},{"../../events/player-events":228,"./videojs-hls-bridge":320,"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":21,"@babel/runtime/regenerator":24,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.array.filter":148,"core-js/modules/es.array.find":149,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.includes":151,"core-js/modules/es.array.map":156,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":182,"error-report":"error-report",log:"log","regenerator-runtime/runtime":207}],319:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("triton-stream-provider")),o=n(e("retry-controller")),l=e("bvp-constant"),u=n(e("../../events/player-events")),c=n(e("log")),d=n(e("error-report")),p=new c.default("TritonHlsFallbackStrategy"),f=["_fetchNewStreamList","_onTimeUpdate"];function h(e){return e.map(function(e){return{src:e.url,type:e.type}})}var m=function(){function r(e){var t=this;(0,i.default)(this,r),this.previousTime=0,this.player=e,f.forEach(function(e){return t[e]=t[e].bind(t)}),this.retryController=new o.default({name:"Triton Recover",tryCallback:this._fetchNewStreamList,maxRetryDelay:4e3}),this.player.on(u.default.TIMEUPDATE,this._onTimeUpdate)}return(0,s.default)(r,[{key:"dispose",value:function(){this.player.off(u.default.TIMEUPDATE,this._onTimeUpdate),this.retryController.dispose(),this.retryController=null}},{key:"generateStreamList",value:function(){var t=this;return this._getRemainingStreams().then(function(e){return 0<e.length?h(e):t.retryController.retry()})}},{key:"_onTimeUpdate",value:function(){var e=this.player.currentTime();this.previousTime!==e&&(this.previousTime=e,this.retryController.resetRetryDelay())}},{key:"_fetchNewStreamList",value:function(){p.debug("Fetching new stream list from provision API.");var t=this.player.options_,e=t.original_user_options.htmlChildId,r=t.metadata.streamProviderConfig;return a.default.fetchStreamInfo(r,e).then(function(e){return t.streams=e,t.filteredStreams=[],h(e)},function(){return Promise.resolve([])})}},{key:"_getRemainingStreams",value:function(){var e=this.player.options_,t=e.filteredStreams=e.filteredStreams||[],r=this.player.currentSrc(),n=e.streams;if(!n.some(function(e){return e.url===r}))return d.default.recordHLSError(p,"Could not find current source url ".concat(r," in original streams"),n),Promise.reject(l.CURRENT_STREAM_NOT_FOUND);t.push(r);var i=n.filter(function(e){return t.indexOf(e.url)<0});return Promise.resolve(i)}}]),r}();r.default=m},{"../../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.index-of":152,"core-js/modules/es.array.map":156,"core-js/modules/es.array.some":159,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report",log:"log","retry-controller":"retry-controller","triton-stream-provider":"triton-stream-provider"}],320:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-int"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/createClass")),d=n(e("@babel/runtime/helpers/inherits")),p=n(e("./videojs-hls-tag-parser")),f=n(e("../../events/player-events")),i=n(e("./videojs-hls-cue-handler")),h=n(e("../../events/ad-events")),m=n(e("log")),b=e("bvp-constant"),v=n(e("lodash.debounce")),y=videojs.getTech("Tech"),g=videojs.getTech("Html5"),_=b.MPEG_STREAM_TYPE,j=new m.default("HlsjsBridge"),C=["onMediaAttached","onManifestParsed","onFragLoaded","onFragChanged","onError","createTextTrack","startLoad","onLevelLoaded","duration"],A={cueHandler:i.default},E=function(e){function i(e){var t;(0,s.default)(this,i),(t=(0,a.default)(this,(0,l.default)(i).call(this,e))).numMediaErrorRetries=0,t.lastSource="",t.lastBitrateReported=null,t.hasLoadedSource=!1,t.el_.tech=(0,o.default)(t),C.forEach(function(e){t[e]=t[e].bind((0,o.default)(t))});var r=Object.assign({},A,e.hlsConfig);t.hls_=new Hls(r),t.hls_.on(Hls.Events.MEDIA_ATTACHED,t.onMediaAttached),t.hls_.on(Hls.Events.MANIFEST_PARSED,t.onManifestParsed),t.hls_.on(Hls.Events.FRAG_CHANGED,t.onFragChanged),t.hls_.on(Hls.Events.LEVEL_LOADED,t.onLevelLoaded),t.hls_.on(Hls.Events.FRAG_LOADED,t.onFragLoaded),t.hls_.on(Hls.Events.ERROR,t.onError),t.hls_.attachMedia(t.el_);var n=t.createTextTrack;return t.hls_.coreComponents&&t.hls_.coreComponents.forEach(function(e){e.createTextTrack&&(e.createTextTrack=n)}),t.options_.source&&t.src(t.options_.source.src),e.__disableDebounceForTesting||(t.dispatchHlsBridgeError=(0,v.default)(t.dispatchFatalHlsBridgeError,100)),t.on(h.default.AD_ALMOST_FINISHED,t.startLoad),t}return(0,d.default)(i,e),(0,c.default)(i,null,[{key:"isSupported",value:function(){return Hls.isSupported()}},{key:"canPlaySource",value:function(e){return!(!e||e.type!==_)&&Hls.isSupported()}},{key:"getSourceType",value:function(){return _}}]),(0,c.default)(i,[{key:"createTextTrack",value:function(e,t,r){return this.addTextTrack(e,"english",r)}},{key:"onMediaAttached",value:function(){this.triggerReady()}},{key:"onLevelLoaded",value:function(e,t){this._isLive=t.details.live}},{key:"duration",value:function(){return this._isLive?1/0:this.el_.duration}},{key:"onManifestParsed",value:function(){this.player_.options_.autoplay&&this.player_.play()}},{key:"onFragLoaded",value:function(e,t){var r=t.frag,n=p.default.extractCueFrom(r);n&&n.event===f.default.HLS_CUE_OUT&&this.trigger({type:f.default.HLS_CUE_OUT_LOADED,data:n})}},{key:"onFragChanged",value:function(e,t){var r=t.frag,n=p.default.extractCueFrom(r);if(n&&this.trigger({type:n.event,data:n}),this.hls_&&this.hls_.levels){var i=parseInt(this.hls_.levels[r.level].bitrate,10);i!==this.lastBitrateReported&&(this.trigger({type:f.default.BITRATE_CHANGE,newBitrate:i}),this.lastBitrateReported=i)}}},{key:"currentSrc",value:function(){return this.hls_?this.hls_.url:(0,u.default)((0,l.default)(i.prototype),"currentSrc",this).call(this)}},{key:"setSrc",value:function(e){this.lastSource=e,this.numMediaErrorRetries=0,this.hls_&&this.hls_.loadSource(e)}},{key:"pause",value:function(){this._removeAutoplayOnManifestParsedHandler(),(0,u.default)((0,l.default)(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){this.startLoad(),(0,u.default)((0,l.default)(i.prototype),"play",this).call(this)}},{key:"startLoad",value:function(){this.hasLoadedSource||(this.hasLoadedSource=!0,this.hls_.startLoad())}},{key:"onError",value:function(e,t){t.fatal&&this.handleFatalError(t),j.warn("".concat(t.type," - ").concat(t.details,". Fatal: ").concat(t.fatal)),this.broadcastHlsError(t)}},{key:"handleFatalError",value:function(e){switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:this.handleNetworkError();break;case Hls.ErrorTypes.MEDIA_ERROR:this.handleMediaError();break;default:this.dispatchFatalHlsBridgeError()}}},{key:"broadcastHlsError",value:function(e){this.trigger({type:f.default.HLS_BRIDGE_ERROR,data:e})}},{key:"handleNetworkError",value:function(){j.warn("Network error: retrying to load same manifest"),this.dispatchFatalHlsBridgeError()}},{key:"handleMediaError",value:function(){if(this.numMediaErrorRetries<1)return j.warn("Media error: attempting to get hls to recover from fatal media error"),this.hls_.recoverMediaError(),void this.numMediaErrorRetries++;this.dispatchFatalHlsBridgeError()}},{key:"dispatchFatalHlsBridgeError",value:function(){this.trigger(f.default.HLS_BRIDGE_FATAL_ERROR)}},{key:"dispose",value:function(){this._removeAutoplayOnManifestParsedHandler(),this.hls_.off(Hls.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls_.off(Hls.Events.ERROR,this.onError),this.hls_.off(Hls.Events.LEVEL_LOADED,this.onLevelLoaded),this.hls_.destroy(),(0,u.default)((0,l.default)(i.prototype),"dispose",this).call(this)}},{key:"_removeAutoplayOnManifestParsedHandler",value:function(){this.hls_.off(Hls.Events.MANIFEST_PARSED,this.onManifestParsed)}}]),i}(g);y.registerTech("Hlsjs",E),videojs.options.techOrder.push("Hlsjs");var P=E;r.default=P},{"../../events/ad-events":226,"../../events/player-events":228,"./videojs-hls-cue-handler":321,"./videojs-hls-tag-parser":322,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"bvp-constant":"bvp-constant","core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-int":177,"core-js/modules/web.dom-collections.for-each":193,"lodash.debounce":203,log:"log"}],321:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),f=n(e("../../utils/projector-utils"));var a=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"newCue",value:function(e,t,r,n){!function(e){if(e&&e.cues&&1e3<=e.cues.length){var t=e.cues.length-1e3+1;e.cues_.splice(0,t),e.cues.setCues_(e.cues_)}}(e);for(var i=window.vttjs?window.vttjs.VTTCue:window.VTTCue||window.TextTrackCue,s=0;s<n.rows.length;s++){var a=n.rows[s],o=!0,l=0,u="";if(!a.isEmpty()){for(var c=0;c<a.chars.length;c++)a.chars[c].uchar.match(/\s/)&&o?l++:(u+=a.chars[c].uchar,o=!1);var d=new i(a.cueStartTime=t,r,u.trim());16<=l?l--:l++;var p=f.default.isFirefox();d.line=p?s+1:7<s?s-2:s+1,d.align="left",d.positionAlign="left",d.position=Math.max(0,Math.min(100,l/32*100+(p?50:0))),e.addCue(d)}}}}]),e}();r.default=a},{"../../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.splice":161,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.trim":189}],322:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.reduce"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/slicedToArray")),o=n(e("../../events/player-events")),l="EXT-X-CUE-OUT",u="EXT-X-CUE-IN";var i={extractCueFrom:function(e){var t=e.tagList;if(!t)return null;for(var r=0;r<t.length;r++){var n=t[r],i=n[0]||"",s=n[1]||"";switch(i){case l:return Object.assign({event:o.default.HLS_CUE_OUT,type:l},(void 0,s.split(",").reduce(function(e,t){var r=t.split("="),n=(0,a.default)(r,2),i=n[0],s=n[1];return e[i.toLowerCase()]=s,e},{})));case u:return{event:o.default.HLS_CUE_IN,type:u}}}return null}};r.default=i},{"../../events/player-events":228,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/slicedToArray":19,"core-js/modules/es.array.reduce":157,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.split":187}],323:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("./GeneralHlsFallbackStrategy")),l=n(e("./TritonHlsFallbackStrategy")),u=e("bvp-constant"),c=n(e("../../events/player-events")),d=n(e("log")),p=n(e("error-report")),f=new d.default("RecoverHlsError"),h=["onPlayerReady","onHlsBridgeFatalError","onWatchdogReload"],m="The Media Player Encountered an Error, Please Reload the Web Page and Try Again",b=function(){function n(e,t){var r=this;(0,i.default)(this,n),(0,a.default)(this,"player",void 0),(0,a.default)(this,"recoveryInProgress",void 0),(0,a.default)(this,"fallbackStrategy",void 0),this.recoveryInProgress=!1,this.player=e,this.fallbackStrategy=t,h.forEach(function(e){r[e]=r[e].bind(r)}),this.player.on(c.default.READY,this.onPlayerReady),this.player.on(c.default.WATCHDOG_RELOAD,this.onWatchdogReload)}return(0,s.default)(n,[{key:"onPlayerReady",value:function(){this.player.tech_.on(c.default.HLS_BRIDGE_FATAL_ERROR,this.onHlsBridgeFatalError)}},{key:"onWatchdogReload",value:function(){f.info("onWatchdogReload"),this.recoverStream()}},{key:"onHlsBridgeFatalError",value:function(){f.info("onHlsBridgeFatalError"),this.recoverStream()}},{key:"recoverStream",value:function(){var r=this,n=function(e){var t=e.tech_;return t&&t.hls_?t.hls_:null}(this.player);return n?this.recoveryInProgress?void f.debug("Recovery in progress. Ignoring."):(this.recoveryInProgress=!0,this.fallbackStrategy.generateStreamList().then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(r.recoveryInProgress=!1,e.length<=0)return Promise.reject("error_no_hls_stream");f.info("Attempting to recover streams",e);var t=!r.player.paused();n.stopLoad(),r.player.src(e),n.recoverMediaError(),n.startLoad(),t&&r.player.play()}).catch(function(e){r.recoveryInProgress=!1,v(r.player,e)})):(v(this.player,"error_no_hls_tech"),void p.default.recordHLSError(f,"Cannot recover from error. Can't find Hls tech on the player."))}}],[{key:"init",value:function(){if(this.options_.use_recover_hls){var e=this.options_.metadata,t=new((void 0===e?{}:e).streamProvider===u.TRITON_PROVIDER_NAME?l.default:o.default)(this);new n(this,t),this.on(c.default.DISPOSE,function(){t.dispose()})}else f.info("plugin disabled")}}]),n}();function v(e,t){!function(e){e.error(m)}(e),function(e,t){e.trigger({type:c.default.FATAL_ERROR,error:t})}(e,t)}videojs.registerPlugin("RecoverHlsError",b.init);var y=b;r.default=y},{"../../events/player-events":228,"./GeneralHlsFallbackStrategy":318,"./TritonHlsFallbackStrategy":319,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"error-report":"error-report",log:"log"}],324:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../../events/player-events")),l=n(e("../../events/ad-events")),u=new a.default("PlayerToutPlugin"),c=["_triggerDelayedEvent","_resetToutTrigger","_setContentPlayStatus","_onDispose"],d=function(){function r(e){var t=this;(0,i.default)(this,r),this._player=e,c.forEach(function(e){t[e]=t[e].bind(t)}),this._player.ready(function(){t._player.on(o.default.PLAY,t._setContentPlayStatus),t._player.on(o.default.DISPOSE,t._onDispose)})}return(0,s.default)(r,[{key:"_setContentPlayStatus",value:function(){this._isContentStarted||(this._isContentStarted=!0,this._triggerDelayedEvent())}},{key:"_triggerDelayedEvent",value:function(){var e=this;this._timeoutId=setTimeout(function(){e._player.off(l.default.AD_STARTED,e._resetToutTrigger),e._player.trigger(o.default.PLAYER_TOUT_ON)},2e3),this._player.one(l.default.AD_STARTED,this._resetToutTrigger)}},{key:"_resetToutTrigger",value:function(){clearTimeout(this._timeoutId),this._player.one(l.default.ALL_ADS_COMPLETED,this._triggerDelayedEvent)}},{key:"_onDispose",value:function(){clearTimeout(this._timeoutId)}}],[{key:"register",value:function(){if(this.options_.usePlayerToutPlugin)return new r(this);u.debug("Plugin disabled")}}]),r}();videojs.registerPlugin("PlayerToutPlugin",d.register);var p=d;r.default=p},{"../../events/ad-events":226,"../../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],325:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"buildCSSClass",value:function(){return"blvs-share-button "+(0,l.default)((0,o.default)(t.prototype),"buildCSSClass",this).call(this)}}]),t}(videojs.getComponent("Button"));c.prototype.controlText_="Share";var d=c;r.default=d},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],326:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./videojs-share-button")),s=n(e("./videojs-share-overlay")),a=n(e("../../utils/utils")),o=n(e("../../events/player-events")),l=new(n(e("log")).default)("ShareControl");function u(){var t=this;t.options_.use_share_overlay&&function(e){if(a.default.isEmptyObject(e))return!1;return!(!e.bitly_url&&!e.canonical_url)}(t.options_.share_metadata)?(videojs.registerComponent("ShareOverlay",s.default),videojs.registerComponent("ShareButton",i.default),t.on(o.default.READY,function(){var e=t.getChild("ShareOverlay");t.controlBar.getChild("shareButton").on(["click","touchstart"],function(){e.toggleOverlay.call(e),t.trigger(o.default.REQUEST_SHARE)})})):l.debug("Share control disabled. use_share_overlay: ".concat(t.options_.use_share_overlay,", metadata: "),t.options_.share_metadata)}videojs.registerPlugin("ShareControl",u);var c=u;r.default=c},{"../../events/player-events":228,"../../utils/utils":300,"./videojs-share-button":325,"./videojs-share-overlay":327,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,log:"log"}],327:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),B=n(e("../../utils/css-helpers")),V=n(e("../../events/player-events")),q=n(e("../../utils/OverlayFocusHandler")),c=videojs.getComponent("Component"),F="blvs-share-overlay__line",H="blvs-share-overlay__title",G="blvs-share-overlay__share-link",z="vjs-hidden";var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"createEl",value:function(){var e=this,t=document.createElement("div"),r=document.createElement("span"),n=document.createElement("input"),i=document.createElement("button"),s=["blvs-share-overlay",z],a="blvs-video-permalink-".concat(this.player_.options_.id),o=this.playerOptions.metadata.live,l=this.playerOptions.metadata.title,u=t.cloneNode(!1);o&&(s.push("blvs-share-overlay__live"),l="Bloomberg TV"),B.default.addClassList(u,s);var c=t.cloneNode(!1);B.default.addClass(c,F);var d=i.cloneNode(!1),p=r.cloneNode(!1),f=document.createTextNode("Close");B.default.addClass(p,"vjs-control-text"),B.default.addClass(d,"blvs-share-overlay__close"),d.addEventListener("click",this.toggleOverlay.bind(this)),u.appendChild(d);var h=t.cloneNode(!1);B.default.addClass(h,"blvs-share-overlay__share-controls"),u.appendChild(h);var m=t.cloneNode(!1),b=document.createTextNode("Share");B.default.addClass(m,H);var v=i.cloneNode(!1),y=[G,G+"-facebook"];B.default.addClassList(v,y),v.setAttribute("aria-label","Facebook"),v.setAttribute("title","Facebook"),v.addEventListener("click",this.socialShareClickHandlerFor("facebook",l));var g=i.cloneNode(!1),_=[G,G+"-twitter"];B.default.addClassList(g,_),g.setAttribute("aria-label","Twitter"),g.setAttribute("title","Twitter"),g.addEventListener("click",this.socialShareClickHandlerFor("twitter",l));var j=i.cloneNode(!1),C=[G,G+"-linkedin"];B.default.addClassList(j,C),j.setAttribute("aria-label","Linkedin"),j.setAttribute("title","Linkedin"),j.addEventListener("click",this.socialShareClickHandlerFor("linkedin",l));var A=i.cloneNode(!1),E=[G,G+"-email"];B.default.addClassList(A,E),A.setAttribute("aria-label","Email"),A.setAttribute("title","Email"),A.addEventListener("click",this.socialShareClickHandlerFor("email",l)),h.appendChild(m),h.appendChild(c);var P=document.createElement("hr");if(B.default.addClassList(P,["blvs-share-overlay__divider","blvs-hide-on-mobile"]),h.appendChild(P),!o){var w=t.cloneNode(!1),S="".concat(this.id(),"__embed-label-text");B.default.addClassList(w,[F,"blvs-hide-on-mobile"]);var T=t.cloneNode(!1),k=document.createElement("Label");k.textContent="Embed";var R="".concat(this.id(),"__embed-label");T.setAttribute("id",R),B.default.addClassList(T,[H,"blvs-hide-on-mobile"]),h.appendChild(T),T.appendChild(k);var D=n.cloneNode(!1);B.default.addClassList(D,["blvs-share-overlay__embed-input","blvs-share-overlay__embed-input--embed"]);var O=function(e,t){return'<iframe src="'.concat(e,"/iframe?id=").concat(t,'" allowscriptaccess="always" frameborder="0"></iframe>')}(this.playerOptions.serverUrl,this.playerOptions.metadata.id);D.setAttribute("type","text"),D.setAttribute("id",S),D.setAttribute("readOnly",""),D.setAttribute("size",35),D.setAttribute("value",O),D.setAttribute("aria-labelledby",R),D.addEventListener("click",function(){return e.player_.trigger({type:V.default.SHARE_ACTION,data:{shareType:"embed-text",shareUrl:O}})}),k.setAttribute("for",S),h.appendChild(w),w.appendChild(D);var I=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.bitly_url||e.canonical_url}(this.playerOptions.share_metadata);if(I){var L=t.cloneNode(!1),x="".concat(this.id(),"__permalink-label");L.setAttribute("id",x),B.default.addClassList(L,[F,"blvs-hide-on-mobile"]);var M=t.cloneNode(!1),U=document.createElement("Label");U.textContent="Permalink",B.default.addClassList(M,[H,"blvs-hide-on-mobile"]),h.appendChild(M),M.appendChild(U);var N=n.cloneNode(!1);B.default.addClassList(N,["blvs-share-overlay__embed-input","blvs-share-overlay__embed-input--permalink"]),N.setAttribute("id",a),N.setAttribute("type","text"),N.setAttribute("readOnly",""),N.setAttribute("size",35),N.setAttribute("value",I),N.setAttribute("aria-labelledby",x),N.addEventListener("click",function(){return e.player_.trigger({type:V.default.SHARE_ACTION,data:{shareType:"permalink-text",shareUrl:I}})}),U.setAttribute("for",a),h.appendChild(L),L.appendChild(N),L=N=U=M=null}h=w=k=T=D=null}return p.appendChild(f),d.appendChild(p),c.appendChild(v),c.appendChild(g),c.appendChild(j),c.appendChild(A),m.appendChild(b),P=c=p=d=f=m=b=A=j=g=v=null,this._focusHandler=new q.default(u),u}},{key:"socialShareClickHandlerFor",value:function(e,t){var r=this,n=this.shareUrlFor(e,t);return function(){-1<n.indexOf("mailto")?window.location.href=n:window.open(n,e.toUpperCase(),"width=1000,height=500"),r.player_.trigger({type:V.default.SHARE_ACTION,data:{shareType:e,shareUrl:n}})}}},{key:"shareUrlFor",value:function(e,t){var r=this.playerOptions.share_metadata||{},n=encodeURI(r.bitly_url||r.canonical_url||"");if("twitter"==e){var i=r.twitter_handle?"&via="+r.twitter_handle:"";return"http://twitter.com/share?text=".concat(t,"&url=").concat(n).concat(i)}if("facebook"==e)return"https://www.facebook.com/sharer/sharer.php?u=".concat(n);if("linkedin"!=e)return"email"==e?"mailto:?subject=".concat(t,"&body=").concat(t,"%0D%0A").concat(n):void 0;var s=r.twitter_handle?"&source=".concat(r.twitter_handle):"";return"http://www.linkedin.com/shareArticle?mini=true&url=".concat(n,"&title=").concat(t).concat(s)}},{key:"toggleOverlay",value:function(){if(B.default.hasClass(this.el_,z))return B.default.removeClass(this.el_,z),this._focusHandler.focus(),void this.player_.pause();this._focusHandler.unfocus(),B.default.addClass(this.el_,z),this.player_.trigger(V.default.DISMISS_SHARE),this.player_.play()}},{key:"buildCSSClass",value:function(){return"blvs-share-overlay "+(0,l.default)((0,o.default)(t.prototype),"buildCSSClass",this).call(this)}},{key:"playerOptions",get:function(){return this.player_.options_}}]),t}(c);r.default=d},{"../../events/player-events":228,"../../utils/OverlayFocusHandler":279,"../../utils/css-helpers":287,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.index-of":152,"core-js/modules/es.object.define-property":169}],328:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../../components/theater-mode/TheaterMode")),l=n(e("../../events/player-events")),u=n(e("../../events/ad-events")),c=new a.default("TheaterModePlugin"),d=["_triggerDelayedEvent","_resetTheaterModeTrigger","_setContentPlayStatus","_onDispose"],p=function(){function r(e){var t=this;(0,i.default)(this,r),this._player=e,d.forEach(function(e){t[e]=t[e].bind(t)}),this._player.ready(function(){e.usingNativeControls()||(t._player.on(l.default.PLAY,t._setContentPlayStatus),t._player.on(l.default.DISPOSE,t._onDispose))})}return(0,s.default)(r,[{key:"_setContentPlayStatus",value:function(){this._isContentStarted||(this._isContentStarted=!0,this._triggerDelayedEvent())}},{key:"_triggerDelayedEvent",value:function(){var e=this;this._timeoutId=setTimeout(function(){e._player.off(u.default.AD_STARTED,e._resetTheaterModeTrigger),e._player.trigger(l.default.ENTER_THEATER_MODE)},1e4),this._player.one(u.default.AD_STARTED,this._resetTheaterModeTrigger)}},{key:"_resetTheaterModeTrigger",value:function(){clearTimeout(this._timeoutId),this._player.one(u.default.ALL_ADS_COMPLETED,this._triggerDelayedEvent)}},{key:"_onDispose",value:function(){clearTimeout(this._timeoutId)}}],[{key:"register",value:function(){if(this.options_.useTheaterModePlugin)return videojs.registerComponent("TheaterMode",o.default),new r(this);c.debug("Plugin disabled")}}]),r}();videojs.registerPlugin("TheaterModePlugin",p.register);var f=p;r.default=f},{"../../components/theater-mode/TheaterMode":220,"../../events/ad-events":226,"../../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],329:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../../events/player-events")),o=n(e("../../events/playlist-events")),l=n(e("../../events/ad-events")),u=n(e("../../utils/fullscreen")),c=n(e("../../lib/google-ads/ad-utils")),d=n(e("load-timer")),p=n(e("log")),f=n(e("error-report")),h=window.BVP_GTM,m=new p.default("GoogleTagManagerPlugin"),b="initial",v="content",y="activate",g="chromecast-start",_="chromecast-stop",j={"ad-preroll":"preroll","ad-midroll":"midroll"},C=["_createAdEventHandler","_createContentEventHandler","_handleInitialEvent","_handleContentFirstPlay","_handleContentPause","_handleTimeUpdate","_handleTextTrackChange","_handleFullScreenChange","_handleRequestShare","_handleShareAction","_handleReplayAction","_setContinuousPlayStatus","_createEngagementHandler","_handlePlaylistSlideClick","_handleVolumeChange"],A=[25,50,75,100],E=function(){function r(e){var t=this;(0,i.default)(this,r),this.player=e,this.isContinuousPlay=!1,this.userOptions=e.options_.original_user_options,this.htmlChildId=this.userOptions.htmlChildId,this.hasBeenUmmuted=!1,C.forEach(function(e){t[e]=t[e].bind(t)}),e.on([l.default.AD_STARTED,a.default.PLAY],this._handleInitialEvent),e.on(l.default.AD_STARTED,this._createAdEventHandler(h.eventActions.PLAY)),e.on(l.default.AD_PAUSED,this._createAdEventHandler(h.eventActions.PAUSE)),e.on(l.default.AD_RESUMED,this._createAdEventHandler(h.eventActions.RESUME)),e.on(l.default.AD_COMPLETED,this._createAdEventHandler(h.eventActions.END)),e.on(a.default.PAUSE,this._handleContentPause),e.on(a.default.ENDED,this._createContentEventHandler(h.eventActions.END)),e.on(a.default.FULL_SCREEN_CHANGE,this._handleFullScreenChange),e.on(a.default.REQUEST_SHARE,this._handleRequestShare),e.on(a.default.SHARE_ACTION,this._handleShareAction),e.on(a.default.REPLAY,this._handleReplayAction),e.on(a.default.CONTINUOUS_PLAY_START,this._setContinuousPlayStatus),e.on(a.default.BVP_VOLUME_CHANGE,this._handleVolumeChange),e.on(a.default.TIMEUPDATE,this._handleTimeUpdate),e.on(a.default.MUTED_OVERLAY_CLICKED,this._createEngagementHandler(y)),e.on(a.default.START_CHROME_CAST,this._createEngagementHandler(g)),e.on(a.default.STOP_CHROME_CAST,this._createEngagementHandler(_)),e.on(o.default.SLIDE_CLICK,this._handlePlaylistSlideClick),e.on(a.default.TRANSCRIPT_ON,function(){return t._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:"transcript_on"})}),e.on(a.default.TRANSCRIPT_OFF,function(){return t._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:"transcript_off"})}),e.on(a.default.THEATER_MODE_ENTER_BUTTON_CLICK,function(){t._trackEvent({bvpEventAction:h.eventActions.CLICK,bvpEventLabel:"Theater_mode_on"})}),e.on(a.default.THEATER_MODE_OFF,function(){t._trackEvent({bvpEventAction:h.eventActions.CLICK,bvpEventLabel:"Theater_mode_off"})}),e.one(a.default.PLAY,this._handleContentFirstPlay),e.ready(function(){e.textTracks().on("change",t._handleTextTrackChange),d.default.getEnabled(t.htmlChildId)&&(d.default.trackLoadComplete(t.htmlChildId,d.default.loadTypes.PLAYER_INIT,d.default.loadStatus.COMPLETE),t._trackLoadTimes())})}return(0,s.default)(r,[{key:"_createEngagementHandler",value:function(e){var t=this;return function(){t._trackEvent({bvpEventAction:h.eventActions.CLICK,bvpEventLabel:e})}}},{key:"_handlePlaylistSlideClick",value:function(e){var t=e.data.itemPosition,r="up-next-".concat(t);this._trackEvent({bvpEventAction:h.eventActions.CLICK,bvpEventLabel:r})}},{key:"_setContinuousPlayStatus",value:function(){this.isContinuousPlay=!0}},{key:"_handleContentFirstPlay",value:function(){this._trackEvent({bvpEventAction:h.eventActions.PLAY,bvpEventLabel:v}),this.player.on(a.default.PLAY,this._createContentEventHandler(h.eventActions.RESUME))}},{key:"_handleContentPause",value:function(){this.player.ended()||this.contentPauseEventHandled||(this.contentPauseEventHandled=!0,this._trackEvent({bvpEventAction:h.eventActions.PAUSE,bvpEventLabel:v}))}},{key:"_handleTimeUpdate",value:function(){var e=this.player;if(!e.options_.live){var t=e.duration();if(t<=0)m.warn("Invalid video duration: ".concat(t));else{var r=e.currentTime()/t*100,n=A.length;this.markersCache=this.markersCache||{};for(var i=0;i<n;i++){var s=A[i];if(r<s)return;this.markersCache[s]||(this.markersCache[s]=!0,this._trackEvent({bvpEventAction:h.eventActions.COMPLETION,bvpEventLabel:s.toString()}))}}}}},{key:"_createContentEventHandler",value:function(e){var t=this;return function(){t._trackEvent({bvpEventAction:e,bvpEventLabel:v})}}},{key:"_createAdEventHandler",value:function(r){var n=this;return function(e){if(e.data){var t=e.data;n._trackEvent({bvpEventAction:r,bvpEventLabel:j[t.type],mediaDuration:1e3*t.duration})}else f.default.recordGenericError("Missing event data, cannot log action: ".concat(r))}}},{key:"_handleInitialEvent",value:function(){this.initEventHandled||(this.initEventHandled=!0,this._trackEvent({bvpEventAction:h.eventActions.PLAY,bvpEventLabel:b}))}},{key:"_handleTextTrackChange",value:function(){for(var e=this.player.textTracks(),t=!1,r=0,n=e.length;r<n;r++){var i=e[r];if("showing"===i.mode&&"captions"===i.kind){t=!0;break}}this._trackCaptionEvent(t)}},{key:"_handleFullScreenChange",value:function(){var e=u.default.isInFullScreen()?"fullscreenenter":"fullscreenexit";this._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:e})}},{key:"_handleRequestShare",value:function(){this._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:"shareopen"})}},{key:"_handleShareAction",value:function(e){var t=e&&e.data&&e.data.shareUrl;this._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:"shareaction",bvpLoaderUrl:t})}},{key:"_handleReplayAction",value:function(){this._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:"replayaction"})}},{key:"_trackLoadTimes",value:function(){var r=this,n=d.default.getLoadTimes(this.htmlChildId);Object.keys(n).forEach(function(e){var t=n[e];r._trackDevEvent({bvpEventAction:h.eventActions.LOAD_START,bvpEventLabel:e,bvpAbsoluteTime:t.startTime,bvpDeltaTime:t.startDeltaTime,bvpLoaderUrl:t.url,bvpTrackGA:!0}),r._trackDevEvent({bvpEventValue:parseInt(t.duration,10),bvpEventAction:h.eventActions.LOAD_END,bvpEventLabel:e,bvpAbsoluteTime:t.endTime,bvpDeltaTime:t.endDeltaTime,bvpDuration:t.duration,bvpLoaderUrl:t.url,bvpTrackGA:!0})})}},{key:"_trackEvent",value:function(e){var t=Object.assign(this._createCommonEventData(),this.userOptions.user_tracking_config,e);h.trackEvent(t)}},{key:"_trackDevEvent",value:function(e){var t=Object.assign(this._createCommonEventData(),this.userOptions.user_tracking_config,e);h.trackDevEvent(t)}},{key:"_trackCaptionEvent",value:function(e){this._trackEvent({bvpEventAction:h.eventActions.UI_ACTION,bvpEventLabel:e?"captionon":"captionoff"})}},{key:"_createCommonEventData",value:function(){var e=this.player,t=e.options_,r=(t.autoplayReportingValues||{}).analytics||{},n=t.metadata,i=t.live,s=Boolean(r.autoplay).toString(),a=(this.isContinuousPlay||Boolean(r.continuousPlay)).toString(),o=this._determineStartMutedState();return{mediaTitle:function(e,t){return e?t.form_type:t.title}(i,n),mediaProgram:n.show_name,mediaType:function(e,t){if(e)return t.id.replace("_","-").toLowerCase();var r=t.form_type||"short-form";return"vod-".concat(r)}(i,n),niCodes:function(e){return(e.ni_codes||[]).join(",")}(n),bmmrId:n.id,mediaDuration:function(e,t){return e?0:t.duration}(i,n),mediaPublishedAt:function(e,t){return e?void 0:t.createdate}(i,n),mediaTech:e.techName_.toLowerCase(),mediaStartMuted:o,continuousPlay:a,autoplay:s,videoModule:"N/A"}}},{key:"_determineStartMutedState",value:function(){var e=this._isMuted();return!e||this.hasBeenUmmuted?"sound-activated":e&&this._hasPlayerStartedMuted()?"muted-bbg":"muted-browser"}},{key:"_isMuted",value:function(){var e=this.player;return c.default.isAdPlaying(e)?c.default.isAdMuted(e):e.muted()||0===e.volume()}},{key:"_hasPlayerStartedMuted",value:function(){return!!this.player.options_.start_muted}},{key:"_handleVolumeChange",value:function(e){var t=e.data.muted;this.hasBeenUmmuted||(this.hasBeenUmmuted=!t)}}],[{key:"init",value:function(){this.options_.use_google_tag_manager?new r(this):m.info("plugin disabled")}}]),r}();videojs.registerPlugin("GoogleTagManagerPlugin",E.init);var P=E;r.default=P},{"../../events/ad-events":226,"../../events/player-events":228,"../../events/playlist-events":229,"../../lib/google-ads/ad-utils":242,"../../utils/fullscreen":291,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.join":154,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.parse-int":177,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.regexp.to-string":181,"core-js/modules/es.string.replace":185,"core-js/modules/web.dom-collections.for-each":193,"error-report":"error-report","load-timer":"load-timer",log:"log"}],330:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../../events/player-events")),l=n(e("../../utils/datetime-utils")),u=n(e("../../components/transcript/TranscriptButton")),c=new a.default("TranscriptPlugin"),d=function(){function t(e){(0,i.default)(this,t),this._player=e,this._transcriptUrl=f(e.options_)}return(0,s.default)(t,[{key:"initialize",value:function(){var r=this;return this._fetchData().then(function(e){if(300<=e.status)throw new Error("Fetching caption failed @ ".concat(r._transcriptUrl," : ").concat(e.status));return e.text()}).then(function(e){var t=function(e){return window.xml.xmlToJSON(e.replace(p," ")).tt.body.div.p.map(function(e){return{begin:l.default.convertToSeconds(e["@begin"]),text:e.Text}})}(e);r._player._bbTranscript=t,r._player.trigger(o.default.TRANSCRIPT_READY)})}},{key:"_fetchData",value:function(){return fetch(this._transcriptUrl)}}],[{key:"register",value:function(){if(this.options_.useTranscriptPlugin)if(f(this.options_)){c.debug("Plugin enabled.");var e=new t(this);videojs.registerComponent("TranscriptButton",u.default),e.initialize()}else c.debug("No caption found. Plugin disabled.");else c.debug("Plugin disabled.")}}]),t}(),p=/\s*<br[^>]*>\s*/gi;function f(e){return e.metadata&&e.metadata.captions&&e.metadata.captions[0]&&e.metadata.captions[0].url}videojs.registerPlugin("TranscriptPlugin",d.register);var h=d;r.default=h},{"../../components/transcript/TranscriptButton":223,"../../events/player-events":228,"../../utils/datetime-utils":288,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.map":156,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.to-string":175,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":179,"core-js/modules/es.string.replace":185,log:"log"}],331:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.MESSAGE=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("retry-controller")),p=n(e("../../utils/event-target")),f=["connect","disconnectSidebandMetadata","_onMessage"],h=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this))).sbmUrl=e,t.eventSource=null,f.forEach(function(e){return t[e]=t[e].bind((0,o.default)(t))}),t.retryController=new d.default({name:"Sideband Metadata",tryCallback:t.connect,cleanupCallback:t.disconnectSidebandMetadata,maxRetryDelay:6e4}),t.retryController.retry(),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"connect",value:function(){this.eventSource=this._createEventSource(this.sbmUrl),this.eventSource.addEventListener("open",this.retryController.resetRetryDelay),this.eventSource.addEventListener("error",this.retryController.retry),this.eventSource.addEventListener("message",this._onMessage)}},{key:"disconnectSidebandMetadata",value:function(){this.eventSource&&(this.eventSource.close(),this.eventSource.removeEventListener("open",this.retryController.resetRetryDelay),this.eventSource.removeEventListener("error",this.retryController.retry),this.eventSource.removeEventListener("message",this._onMessage),this.eventSource=null)}},{key:"dispose",value:function(){(0,u.default)((0,l.default)(r.prototype),"dispose",this).call(this),this.retryController.dispose()}},{key:"_createEventSource",value:function(e){return new EventSource(e)}},{key:"_onMessage",value:function(e){var t=JSON.parse(e.data);this.trigger(m,t)}}]),r}(p.default),m="MESSAGE";r.MESSAGE=m;var b=h;r.default=b},{"../../utils/event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,"retry-controller":"retry-controller"}],332:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.SRC_CHANGE=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../utils/event-target")),p=new(n(e("log")).default)("SidebandMetadataMonitor"),f=function(e){function r(e){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this)))._checkPlayerSrc=t._checkPlayerSrc.bind((0,o.default)(t)),t.player=e,t.previousPlayerSrc=null,t.checkTimer=setInterval(t._checkPlayerSrc,2e3),t.initialCheckTimer=setTimeout(t._checkPlayerSrc,0),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"dispose",value:function(){(0,u.default)((0,l.default)(r.prototype),"dispose",this).call(this),this.initialCheckTimer&&(clearTimeout(this.initialCheckTimer),this.initialCheckTimer=null),this.checkTimer&&(clearInterval(this.checkTimer),this.checkTimer=null)}},{key:"_checkPlayerSrc",value:function(){var e=this.player.currentSrc();this.previousPlayerSrc!==e&&(this.previousPlayerSrc=e,p.debug("New player src detected: ",e),this.trigger(h,e))}}]),r}(d.default),h="SRC_CHANGE";r.SRC_CHANGE=h;var m=f;r.default=m},{"../../utils/event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169,log:"log"}],333:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.QUEUE_MESSAGE=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../../utils/event-target")),p=new(n(e("log")).default)("SidebandMetadataQueue"),f=["enqueue","processQueue"],h=function(e){function r(){var t;return(0,i.default)(this,r),(t=(0,a.default)(this,(0,l.default)(r).call(this))).queue=[],f.forEach(function(e){return t[e]=t[e].bind((0,o.default)(t))}),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"enqueue",value:function(e){!function(e){return"ad"===e.name&&e.parameters&&(e.parameters.ad_vast||e.parameters.ad_vast_url||e.parameters.ad_url)}(e)||(p.debug("Enqueue: ",e),this.queue.push(e))}},{key:"reset",value:function(){this.queue.length=0}},{key:"processQueue",value:function(e){for(var t=this.queue[0];t&&t.timestamp<=e;)this.queue.shift(),p.debug("Queue Message: ",t),this.trigger(m,t),t=this.queue[0]}},{key:"dispose",value:function(){(0,u.default)((0,l.default)(r.prototype),"dispose",this).call(this),this.queue.length=0}}]),r}(d.default);var m="QUEUE_MESSAGE";r.QUEUE_MESSAGE=m;var b=h;r.default=b},{"../../utils/event-target":290,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.function.name":165,"core-js/modules/es.object.define-property":169,log:"log"}],334:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=e("bvp-constant"),l=n(e("../../components/triton/CompanionAdComponent")),u=new a.default("TritonCompanionAdPlugin"),c=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"init",value:function(){var e=this.options_.metadata;(void 0===e?{}:e).streamProvider===o.TRITON_PROVIDER_NAME&&(u.debug("plugin enabled."),videojs.registerComponent("CompanionAdComponent",l.default))}}]),e}();videojs.registerPlugin("TritonCompanionAdPlugin",c.init);var d=c;r.default=d},{"../../components/triton/CompanionAdComponent":225,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.object.define-property":169,log:"log"}],335:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),o=i(e("log")),l=i(e("../../events/player-events")),u=e("bvp-constant"),c=n(e("./SidebandMetadataConnection")),d=n(e("./SidebandMetadataQueue")),p=n(e("./SidebandMetadataMonitor")),f=new o.default("TritonSidebandMetadataPlugin"),h=["_initializeSBMSrcMonitor","_processQueue","_onSBMMessage","_connectToNewSBM"],m=function(){function r(e){var t=this;(0,s.default)(this,r),this.player=e,this.sbmSrcMonitorStarted=!1,this.sbmDelayTimer=null,this.sbmConnection=null,this.sbmMonitor=null,this.sbmQueue=new d.default,h.forEach(function(e){return t[e]=t[e].bind(t)}),this.sbmQueue.on(d.QUEUE_MESSAGE,this._onSBMMessage),e.on([l.default.LOADED_METADATA],this._initializeSBMSrcMonitor),e.on(l.default.TIMEUPDATE,this._processQueue)}return(0,a.default)(r,[{key:"dispose",value:function(){this.sbmDelayTimer&&(clearTimeout(this.sbmDelayTimer),this.sbmDelayTimer=null),this.sbmConnection&&(this.sbmConnection.dispose(),this.sbmConnection=null),this.sbmMonitor&&(this.sbmMonitor.dispose(),this.sbmMonitor=null),this.sbmQueue&&(this.sbmQueue.dispose(),this.sbmQueue=null)}},{key:"_processQueue",value:function(){var e=1e3*this.player.currentTime();this.sbmQueue.processQueue(e)}},{key:"_onSBMMessage",value:function(e){f.debug("COMPANION_AD",e.detail),this.player.trigger({type:l.default.COMPANION_AD,data:e.detail})}},{key:"_connectToNewSBM",value:function(e){var t=this,r=this._findSBMUrlForCurrentStream(e);r?(this._closeExistingSBMConnection(),f.debug("Connecting to new SBM: ",r),this.sbmQueue.reset(),this.sbmConnection=new c.default(r),this.sbmConnection.on(c.MESSAGE,function(e){return t.sbmQueue.enqueue(e.detail)})):f.warn("Can't find sbmUrl for current url: ",e)}},{key:"_closeExistingSBMConnection",value:function(){this.sbmConnection&&(this.sbmConnection.dispose(),this.sbmConnection=null)}},{key:"_initializeSBMSrcMonitor",value:function(){var t=this;this.sbmSrcMonitorStarted||(this.sbmSrcMonitorStarted=!0,this.sbmDelayTimer=setTimeout(function(){t.sbmDelayTimer=null,t.sbmMonitor=new p.default(t.player),t.sbmMonitor.on(p.SRC_CHANGE,function(e){return t._connectToNewSBM(e.detail)})},500))}},{key:"_findSBMUrlForCurrentStream",value:function(e){for(var t=this.player.options_.streams,r=0;r<t.length;r++){var n=t[r];if(n.url===e)return n.sbmUrl}}}],[{key:"init",value:function(){var e=this.options_.metadata;if((void 0===e?{}:e).streamProvider===u.TRITON_PROVIDER_NAME){f.debug("plugin enabled.");var t=new r(this);this.on(l.default.DISPOSE,function(){t.dispose()})}}}]),r}();videojs.registerPlugin("TritonSidebandMetadataPlugin",m.init);var b=m;r.default=b},{"../../events/player-events":228,"./SidebandMetadataConnection":331,"./SidebandMetadataMonitor":332,"./SidebandMetadataQueue":333,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"bvp-constant":"bvp-constant","core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],336:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("log")),l=n(e("lodash.debounce")),u=new i.default("ActivityOverridePlugin");function s(){var n=this;if(n.options_.use_activity_out){var i=(0,l.default)(function(){o||n.userActive(!1)}.bind(n),5e3),r=function(e){var t=e.screenX,r=e.screenY;t===s&&r===a||(s=t,a=r,n.userActive(!0));i()}.bind(n),e=n.reportUserActivity.bind(n),s=null,a=null,o=!1;n.listenForUserActivity_=function(){var t=n.$(".vjs-control-bar");n.on("mouseover",function(e){n.on("mousemove",r),o=e.target!==t&&t.contains(e.target),i()}),n.on("mouseleave",function(){n.off("mousemove",r),n.userActive(!1),o=!1}),n.on("play",i),n.on("mousedown",e),n.on("mouseup",e),n.on("keydown",e),n.on("keyup",e)}}else u.info("plugin disabled")}videojs.registerPlugin("ActivityOverridePlugin",s);var a=s;r.default=a},{"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"lodash.debounce":203,log:"log"}],337:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.string.starts-with"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),s=n(e("../events/ad-events")),l=n(e("../events/player-events")),a=n(e("log")),u=n(e("error-report")),c=new a.default("ComscoreStreamSensePlugin"),d={bb_pub_d:"bb_pub_d",bss_ni_codes:"ni_codes",c5:"c5",ns_st_ci:"id",ns_st_ct:!0,ns_st_dt:"createdate",ns_st_ep:"title",ns_st_li:"live",ns_st_pr:"show_name",ns_st_ty:"form_type"},p=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"ns_st_dt",value:function(e,t){return e[t]?e[t]:1===e.live?"N/A":void 0}},{key:"bss_ni_codes",value:function(e,t){if(e[t])return e[t].reduce(function(e,t,r){return"".concat(e).concat(0<r?" ":"").concat(t)},"")}},{key:"ns_st_ct",value:function(e){return this.isInAd?this.isLive?"va21":"va11":this.isLive?"vc13":"short-form"===e.form_type?"vc11":"vc12"}}]),e}(),f=["dispose","onAdClip","onAdCompleted","onAdLoading","onAdPaused","onAdPlayError","onAdResumed","onAdStarted","onAdTimeout","onBuffer","onContentChange","onDurationChange","onEnded","onError","onFullScreenChange","onPause","onPlay","onRetry","onShare","onShareAction","onTrackInfo","onVolumeChange"],h=function(){function a(e,t,r){var n=this;(0,o.default)(this,a),this.autoplayValues=t.autoplayReportingValues.comscore,this.clipDuration=0,this.clips={},this.clipsCount=0,this.currentClipId=null,this.initialClipId=null,this.isAsync=Boolean(t.ns_async),this.isInAd=!1,this.isLive=!1,this.player=r,this.playlistContentType=null,this.playlistDuration=0,this.playlistIndex=0,this.playlistTitle=null,this.lastRecordedTime=0,f.forEach(function(e){n[e]=n[e].bind(n)});var i=this.getBaseLabels(e,t),s=("https:"===window.location.protocol?"https://s":"http://")+"b.scorecardresearch.com/p?c1=2&c2="+("mini"===t.playerType?"6961552":"3005059");this.streamSense=new ns_.StreamSense(i,s),this.isAsync||this.initializePlaylist(),this.streamSense.setPauseOnBufferingInterval(0),this.streamSense.setKeepAliveInterval(6e5),this.startPositionPoll()}return(0,i.default)(a,[{key:"addDuration",value:function(e){0<e&&(this.playlistDuration+=e,this.streamSense.getPlaylist().setLabel("ns_st_ca",this.playlistDuration))}},{key:"getBaseLabels",value:function(e,t){var r=this.getDataFromClipMetadata(t.metadata);if(Object.assign(r,{bss_iframe:window!==window.top?1:0,c6:"*null",c7:window.location.href,c8:document.title,ns_st_mp:"BPlayer",ns_st_mv:t.metadata.version,ns_st_pu:"Bloomberg"},e),e.title&&(this.playlistTitle=e.title,delete r.title),e.page_level_tags)if(delete r.page_level_tags,function(e){return"string"==typeof e&&e.startsWith("javascript:")}(e.page_level_tags)){var n=function(e){var t=e.indexOf("("),r=-1!==t?e.slice(11,t).trim():null;if(r&&"function"==typeof window[r])return function(){try{return window[r]()}catch(e){u.default.recordGenericError(c,"Unable to execute page level tags:",e)}}}(e.page_level_tags);n&&Object.assign(r,n())}else Object.assign(r,e.page_level_tags);return r.bss_auto_play=this.autoplayValues.bss_auto_play,r.bss_cont_play=this.autoplayValues.bss_cont_play,r}},{key:"getDataFromClipMetadata",value:function(i){var s=this;if(!i)return{};var a={};return this.isLive=Boolean(i.live),i.form_type!==this.playlistContentType&&(this.playlistContentType=i.form_type,this.streamSense&&this.streamSense.getPlaylist().setLabel("bss_vid_type",this.playlistContentType)),i.title&&(this.isInAd||this.playlistTitle||(this.playlistTitle=i.title,this.streamSense&&this.streamSense.getPlaylist().setLabel("ns_st_pl",i.title))),i.duration&&!this.streamSense&&(this.playlistDuration=parseInt(i.duration,10),this.initialClipId=i.id),Object.keys(d).forEach(function(e){var t=d[e];if(p[e]){var r=p[e].call(s,i,t);void 0!==r&&(a[e]=r)}else{var n=i[t];void 0!==n&&(a[e]=n)}}),a}},{key:"getPosition",value:function(){if(this.isLive)return 0;try{return Math.round(1e3*this.player.currentTime())}catch(e){return this.lastRecordedTime}}},{key:"getDuration",value:function(){return this.isLive?0:this.player.duration()}},{key:"getFullScreen",value:function(){return this.player.isFullscreen()?"full":"norm"}},{key:"startPositionPoll",value:function(){var e=this;this.pollIntervalId=setInterval(function(){e.lastRecordedTime=e.getPosition()},750)}},{key:"stopPositionPoll",value:function(){clearInterval(this.pollIntervalId),this.pollIntervalId=null}},{key:"shareNotify",value:function(e,t,r){var n=this.streamSense.getPlaylist().getLabel("ns_st_pl")||window.location.href;this.streamSense.customNotify({social_network:e,social_url:n,social_action:t,social_position:"video-controlbar"},r)}},{key:"isUserAction",value:function(){return this.player.userActive()}},{key:"initializePlaylist",value:function(){var e={};e.ns_st_pl=this.playlistTitle||"",e.ns_st_ca=this.playlistDuration||0,e.bss_vid_type=this.playlistContentType||"",e.bss_pl_num=this.playlistIndex,this.streamSense.setPlaylist(e)}},{key:"toggleHeartbeat",value:function(){this.streamSense.setHeartbeatIntervals([{playingtime:6e4,interval:this.isInAd?1e9:1e4},{playingtime:null,interval:this.isInAd?1e9:1e6}])}},{key:"onAdCompleted",value:function(){this.isInAd=!1,this.streamSense.notify(ns_.StreamSense.PlayerEvents.END,{ns_st_pe:1},this.getPosition())}},{key:"onAdPaused",value:function(){var e=this.isUserAction()?1:0;this.streamSense.notify(ns_.StreamSense.PlayerEvents.PAUSE,{bss_user_action:e},this.getPosition())}},{key:"onAdResumed",value:function(){var e=this.isUserAction()?1:0;this.streamSense.notify(ns_.StreamSense.PlayerEvents.PLAY,{bss_user_action:e},this.getPosition())}},{key:"onAdStarted",value:function(){var e=this.isUserAction()?1:0;this.streamSense.notify(ns_.StreamSense.PlayerEvents.PLAY,{bss_user_action:e},this.getPosition())}},{key:"onAdClip",value:function(e){if(e.data){var t,r="none";this.currentClipId=e.data.clip.contentId,this.streamSense.notify(ns_.StreamSense.PlayerEvents.END,{},this.getPosition()),this.isInAd=e.data.type&&0===e.data.type.indexOf("ad-"),this.isInAd?(this.clipDuration=1e3*e.data.duration,this.currentClipId||(this.currentClipId="ad_clip_"+this.clipsCount)):this.clipDuration=this.getDuration(),e.data.url&&(r=e.data.url),this.clips[this.currentClipId]?(this.clips[this.currentClipId].part++,t=this.clips[this.currentClipId]):(this.currentClipId!==this.initialClipId&&this.addDuration(this.clipDuration),this.clipsCount++,this.streamSense.getPlaylist().setLabel("ns_st_cp",this.clipsCount),(t=this.getDataFromClipMetadata(e.data.metadata)).ns_st_cu=r,t.clip_num=this.clipsCount,t.part=1,this.clips[this.currentClipId]=t),this.isInAd?(this.isLive&&(t.ns_st_li=1),t.ns_st_ad=1,t.ns_st_ty=e.data.type.substring(3)):t.bss_precision=0,t.ns_st_cn=this.clips[this.currentClipId].clip_num,t.ns_st_ci=this.currentClipId,t.ns_st_cl=this.clipDuration,t.ns_st_pn=this.clips[this.currentClipId].part,t.ns_st_tp=0,t.ns_st_cs=this.player.width()+"x"+this.player.height(),t.bss_stream_url=r,t.bss_tech_name=this.player.techName_,this.streamSense.setClip(t)}}},{key:"onAdLoading",value:function(){0===this.clipsCount&&this.streamSense.notify(ns_.StreamSense.PlayerEvents.BUFFER,{},this.getPosition())}},{key:"onAdPlayError",value:function(e,t){var r={bss_aderror:"adsplayerror",ns_st_adtype:t||""};this.streamSense.customNotify(r,this.getPosition())}},{key:"onAdTimeout",value:function(e){var t,r=e&&e.data&&e.data.originalEvent,n=r&&r.type||"";switch(n){case s.default.MAX_RETRIES_REACHED:t="adsloadtimeout";break;case s.default.AD_PLAYBACK_TIMED_OUT:t="adsplaytimeout";break;case s.default.AD_LOAD_TIMED_OUT:t="adsloadtimeout"}var i={bss_aderror:t,ns_st_adtype:n};this.streamSense.customNotify(i,this.getPosition())}},{key:"onBuffer",value:function(){this.streamSense.notify(ns_.StreamSense.PlayerEvents.BUFFER,{},this.getPosition())}},{key:"onVolumeChange",value:function(){var e=this.player.muted()?0:this.player.volume();this.streamSense.setLabel("ns_st_vo",e)}},{key:"onContentChange",value:function(e){e.data&&(this.playlistIndex++,this.playlistTitle="",this.playlistDuration=0,this.playlistContentType="",e.data.title&&(this.playlistTitle=e.data.title),e.data.duration&&(this.playlistDuration=parseInt(e.data.duration)),e.data.form_type&&(this.playlistContentType=e.data.form_type),this.initializePlaylist())}},{key:"onDurationChange",value:function(){var e=this.getDuration();this.clipDuration||this.isInAd&&!(this.isInAd&&e<=60)||(this.clipDuration=1e3*e,this.currentClipId!==this.initialClipId&&this.addDuration(this.clipDuration),this.streamSense.getClip().setLabel("ns_st_cl",this.clipDuration))}},{key:"onEnded",value:function(){this.streamSense.notify(ns_.StreamSense.PlayerEvents.END,{ns_st_pe:1},this.getPosition())}},{key:"onError",value:function(){this.streamSense.notify(ns_.StreamSense.PlayerEvents.END,{ns_st_pe:1,ns_st_er:"Error"},this.getPosition())}},{key:"onFullScreenChange",value:function(){var e=this.getFullScreen();this.streamSense.setLabel("ns_st_ws",e),this.streamSense.customNotify({ns_st_ev:"wstate"},this.getPosition())}},{key:"onPause",value:function(){var e=this.isUserAction()?1:0;this.toggleHeartbeat(),this.streamSense.notify(ns_.StreamSense.PlayerEvents.PAUSE,{bss_user_action:e},this.getPosition())}},{key:"onPlay",value:function(){var e=this.isUserAction()?1:0;this.toggleHeartbeat(this.streamSense),this.streamSense.notify(ns_.StreamSense.PlayerEvents.PLAY,{bss_user_action:e},this.getPosition())}},{key:"onRetry",value:function(e){if(!this.isInAd){var t=e.data&&e.data.url?e.data.url:"none";this.streamSense.getClip().setLabel("bss_stream_url",t),this.streamSense.customNotify({bss_stream_url:t},this.getPosition())}}},{key:"onShare",value:function(){this.shareNotify("share-menu","share",this.getPosition())}},{key:"onShareAction",value:function(e){var t=e.data.shareType;if(t){var r=this.getPosition();"embed-copy"!==t&&"embed-text"!==t?this.shareNotify(t,"share",r):this.shareNotify(t,"embed",r)}}},{key:"onTrackInfo",value:function(e){this.isAsync&&this.initializePlaylist(),e.data&&e.data.referrer&&(this.streamSense.setLabel("c9",e.data.referrer),this.streamSense.notify("c9",e.data.referrer))}},{key:"dispose",value:function(){this.stopPositionPoll(),this.streamSense.notify(ns_.StreamSense.PlayerEvents.END,{ns_st_pe:1},this.getPosition()),this.streamSense.setClip(null),this.streamSense=null,this.player=null}}],[{key:"init",value:function(e){var t=this,r=t.options_;if(r.use_comscore&&ns_){var n=new a(e,r,t);t.on(s.default.AD_COMPLETED,n.onAdCompleted),t.on(s.default.AD_PAUSED,n.onAdPaused),t.on(s.default.AD_RESUMED,n.onAdResumed),t.on(s.default.AD_STARTED,n.onAdStarted),t.on(s.default.CLIP,n.onAdClip),t.on(l.default.AD_LOADING,n.onAdLoading),t.on(l.default.ADS_PLAY_ERROR,n.onAdPlayError),t.on(l.default.ADS_TIMEOUT_ERROR,n.onAdTimeout),t.on(l.default.BUFFER,n.onBuffer),t.on(l.default.VOLUME_CHANGE,n.onVolumeChange),t.on(l.default.CONTENT_CHANGE,n.onContentChange),t.on(l.default.DURATION_CHANGE,n.onDurationChange),t.on(l.default.ENDED,n.onEnded),t.on(l.default.ERROR,n.onError),t.on(l.default.FULL_SCREEN_CHANGE,n.onFullScreenChange),t.on(l.default.PAUSE,n.onPause),t.on(l.default.PLAY,n.onPlay),t.on(l.default.RETRY,n.onRetry),t.on(l.default.SHARE_ACTION,n.onShareAction),t.on(l.default.TRACK_INFO,n.onTrackInfo),t.on(l.default.DISPOSE,function(){n.dispose(),n=null})}else c.info("plugin disabled")}}]),a}();videojs.registerPlugin("ComscoreStreamSensePlugin",h.init);var m=h;r.default=m},{"../events/ad-events":226,"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.index-of":152,"core-js/modules/es.array.reduce":157,"core-js/modules/es.array.slice":158,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.keys":174,"core-js/modules/es.parse-int":177,"core-js/modules/es.string.starts-with":188,"core-js/modules/es.string.trim":189,"core-js/modules/web.dom-collections.for-each":193,"error-report":"error-report",log:"log"}],338:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("log")),o=n(e("../events/player-events")),l=n(e("../components/fence/FenceComponent")),u=new a.default("FencePlugin"),c=["_onSubscribe","_onRender","_checkSubscriptionStatusChange","_onPlay","_start","_onDispose"],d=function(){function n(e,t){var r=this;(0,i.default)(this,n),this.player=e,this.fence=t,this._isBBGSubscriber=!1,c.forEach(function(e){r[e]=r[e].bind(r)}),e.ready(function(){t.ready(function(){r.fence=window._fence,r._start()})})}return(0,s.default)(n,[{key:"_start",value:function(){if(this.fence.addEventListener){if(this.fence.addEventListener("onStoreChange",this._checkSubscriptionStatusChange),this.player.options_.enableFence&&(this.fence.addEventListener("onRender",this._onRender),this.fence.addEventListener("onSubscribe",this._onSubscribe),this.player.on(o.default.PLAY,this._onPlay),this._isPauseTriggeredByFence=!1,this.fence.enableRender)){var e=this.player.getChild("FenceComponent");this.fence.enableRender({liveSubscribeRendererId:e.selector})}this.player.on(o.default.DISPOSE,this._onDispose)}this._checkSubscriptionStatusChange()}},{key:"_onRender",value:function(e){e&&e.detail&&e.detail.showLivePageWall&&(this._isPauseTriggeredByFence=!0,this.player.trigger(o.default.PAY_WALL_PAUSE))}},{key:"_onSubscribe",value:function(e){e&&e.detail&&this.fence.isBBGSubscriber&&this.player.paused()&&this._isPauseTriggeredByFence&&this.player.trigger(o.default.PAY_WALL_PLAY)}},{key:"_checkSubscriptionStatusChange",value:function(){var e=!!this.fence.isBBGSubscriber;this._isBBGSubscriber!=e&&(this._isBBGSubscriber=e,this.player.trigger({type:o.default.SUBSCRIBER_STATUS_CHANGE,data:{isBBGSubscriber:e}}))}},{key:"_onPlay",value:function(){this._isPauseTriggeredByFence=!1}},{key:"_onDispose",value:function(){this.player.options_.enableFence&&(this.fence.removeEventListener("onRender",this._onRender),this.fence.removeEventListener("onSubscribe",this._onSubscribe)),this.fence.removeEventListener("onStoreChange",this._checkSubscriptionStatusChange)}}],[{key:"init",value:function(){var e=window._fence;if(e&&e.ready)return videojs.registerComponent("FenceComponent",l.default),new n(this,e);u.info("no fence library available on page")}}]),n}();videojs.registerPlugin("FencePlugin",d.init);var p=d;r.default=p},{"../components/fence/FenceComponent":217,"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],339:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../events/ad-events")),s=n(e("../utils/cookies")),a=n(e("log")),o=n(e("error-report")),l=n(e("../utils/query-string")),u=new a.default("MoatAdViewabilityPlugin"),c="bloombergjsvideo915507035426";function d(){this.options_.use_moat?this.on(i.default.AD_LOADED,p):u.info("plugin disabled")}function p(e){var t=e.data,r=void 0===t?{}:t;if(window.initMoatTracking){if(!r.isDai){var n={partnerCode:c,viewMode:r.viewMode,slicer1:document.location.href,zMoatCP:"{".concat(l.default.toQueryString(r.custParams),"}"),zMoatAT:r.adType,zMoatST:r.isLive?"live":"vod",zMoatII:r.impressionId},i=s.default.get("session_id")||null;i&&(n.zMoatKI=i),u.info("Moat Ad tracking: ",n),window.initMoatTracking(r.adsManager,n,r.adContainer)}}else o.default.recordGenericError(u,"Cannot track ads: missing window.initMoatTracking")}videojs.registerPlugin("MoatAdViewabilityPlugin",d),d.__PARTNER_CODE=c;var f=d;r.default=f},{"../events/ad-events":226,"../utils/cookies":286,"../utils/query-string":297,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"error-report":"error-report",log:"log"}],340:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../events/ad-events")),o=n(e("../events/moat-ad-events")),l=n(e("log")),u=n(e("error-report")),c=new l.default("MoatDaiAdViewabilityPlugin"),d="bloombergdaivideo974580554737",p=function(){function t(e){(0,i.default)(this,t),this.player=e,this.player.on(a.default.AD_STARTED,this._onAdStart.bind(this)),this.player.on(a.default.AD_PAUSED,this._trackMoat.bind(this,o.default.AdPaused)),this.player.on(a.default.AD_FIRST_QUARTILE,this._trackMoat.bind(this,o.default.AdVideoFirstQuartile)),this.player.on(a.default.AD_MIDPOINT,this._trackMoat.bind(this,o.default.AdVideoMidpoint)),this.player.on(a.default.AD_THIRD_QUARTILE,this._trackMoat.bind(this,o.default.AdVideoThirdQuartile)),this.player.on(a.default.AD_COMPLETED,this._trackMoat.bind(this,o.default.AdVideoComplete)),this.player.on(a.default.AD_RESUMED,this._trackMoat.bind(this,o.default.AdPlaying)),this.player.on(a.default.AD_VOLUME_CHANGE,this._trackMoat.bind(this,o.default.AdVolumeChange))}return(0,s.default)(t,[{key:"_onAdStart",value:function(e){if(e.data&&e.data.isDai){var t=e.data,r=t.dfpLineItemId,n=t.dfpCreativeId,i=t.duration,s=t.impressionId,a={level3:r,level4:n,slicer1:document.location.href,zMoatII:s};this.moatApiReference=window.initDaiMoatTracking(this.player.tech_.el(),a,i,d),this._trackMoat(o.default.AdVideoStart,e)}}},{key:"_trackMoat",value:function(e,t){if((1<arguments.length&&void 0!==t?t:{data:{}}).data.isDai){var r=this.player.muted()?0:this.player.volume();this.moatApiReference.dispatchEvent({type:e,adVolume:r})}}}],[{key:"init",value:function(){if(this.options_.useMoatDai){if(window.initDaiMoatTracking)return new t(this);u.default.recordGenericError(c,"Cannot initialize plugin: missing window.initDaiMoatTracking")}else c.info("plugin disabled")}}]),t}();videojs.registerPlugin("MoatDaiAdViewabilityPlugin",p.init),p.__DAI_PARTNER_CODE=d;var f=p;r.default=f},{"../events/ad-events":226,"../events/moat-ad-events":227,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"error-report":"error-report",log:"log"}],341:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.reduce"),e("core-js/modules/es.array.some"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../events/ad-events")),o=n(e("../events/player-events")),l=new(n(e("log")).default)("ParselyPlugin"),u=["_trackPlay","_trackPause"],c=["VIDUSDIGI","VIDASDIGI","VIDUKDIGI"],d=function(){function n(e,t){var r=this;(0,i.default)(this,n),this.player=e,this.originalBaseUrl="",this.parsely=t,u.forEach(function(e){r[e]=r[e].bind(r)}),this.player.on([a.default.AD_STARTED,a.default.AD_RESUMED,o.default.PLAY],this._trackPlay),this.player.on([o.default.ENDED,o.default.PAUSE,o.default.DISPOSE,a.default.AD_PAUSED],this._trackPause)}return(0,s.default)(n,[{key:"_trackPlay",value:function(){if(this.parsely.videoPlaying=!0,this.parsely.video){this.originalBaseUrl=this.originalBaseUrl||this._getParselyOverrideUrl()||this._getPageLocation();var e=this._playerMetaData(),t=this._getParselyMetadata(e);this.parsely.video.trackPlay(e.id,t,this._getBaseUrl())}}},{key:"_getParselyMetadata",value:function(e){return{title:e.title,section:function(e,t){if(t&&0<t.length){if(t.some(function(e){return 0<=c.indexOf(e)}))return"Digital Originals"}return e}(e.show_name,e.ni_codes),tags:function(e){return[e.ni_codes,e.keywords,e.peoples].reduce(function(e,t){return t?e.concat(t):e},[])}(e),image_url:e.poster,pub_date_tmsp:function(e){return new Date(e).getTime()}(e.createdate)}}},{key:"_trackPause",value:function(e){if(this.parsely.videoPlaying=!1,this.parsely.video){var t=this._playerMetaData(),r=this._getParselyMetadata(t);this.parsely.video.trackPause(t.id,r,this._getBaseUrl()),e&&e.type===o.default.ENDED&&this.parsely.video.reset(t.id)}}},{key:"_playerMetaData",value:function(){return this.player.options_.metadata}},{key:"_getBaseUrl",value:function(){return this._isPrimaryVideo()?this.originalBaseUrl:""}},{key:"_isPrimaryVideo",value:function(){var e=this.player.options_;return void 0===e.playlistIndex||0===e.playlistIndex}},{key:"_getParselyOverrideUrl",value:function(){return this.player.options_.original_user_options.parselyPageUrl}},{key:"_getPageLocation",value:function(){return window.location.href}}],[{key:"init",value:function(){this.options_.live?l.info("Cannot track: tracking disabled for live player"):window.PARSELY?this.options_.use_parsely?new n(this,window.PARSELY):l.info("plugin disabled"):l.info("Cannot track: missing window.PARSELY")}}]),n}();videojs.registerPlugin("ParselyPlugin",d.init);var p=d;r.default=p},{"../events/ad-events":226,"../events/player-events":228,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.concat":147,"core-js/modules/es.array.for-each":150,"core-js/modules/es.array.index-of":152,"core-js/modules/es.array.reduce":157,"core-js/modules/es.array.some":159,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.define-property":169,log:"log"}],342:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),e("core-js/modules/es.parse-float"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../utils/persist-controls")),s=n(e("../events/player-events")),a=n(e("log")),o=n(e("../utils/projector-utils")),l=new a.default("PersistListeners");function u(){var t=this;t.options_.use_persist_listeners?t.on(s.default.READY,function(){var e=i.default.get("volume");void 0!==e&&t.volume(parseFloat(e)),t.on(s.default.VOLUME_CHANGE,function(){i.default.set("volume",t.volume()),o.default.isRadioPlayer(t.options_)||i.default.set("muted",t.muted())})}):l.info("plugin disabled")}videojs.registerPlugin("PersistListeners",u);var c=u;r.default=c},{"../events/player-events":228,"../utils/persist-controls":295,"../utils/projector-utils":296,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169,"core-js/modules/es.parse-float":176,log:"log"}],343:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/assertThisInitialized")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("@babel/runtime/helpers/get")),d=n(e("@babel/runtime/helpers/inherits")),p=n(e("../events/player-events")),f=n(e("../lib/google-ads/ad-utils")),i=new(n(e("log")).default)("PlaybackOutroComponent"),h=videojs.getComponent("Component"),m=["onFinishedPlaying","onStartedPlaying","onReplayClick"],b=function(e){function i(e,t){var r;(0,s.default)(this,i),(r=(0,o.default)(this,(0,u.default)(i).call(this,e))).disabled=!1,r.hide(),m.forEach(function(e){r[e]=r[e].bind((0,l.default)(r))}),e.on(p.default.ENDED,r.onFinishedPlaying),e.on(p.default.PLAY,r.onStartedPlaying);var n=e.options_.title||t.message;return r.setMessage(n),r.on(r.el(),"click",r.onReplayClick),r}return(0,d.default)(i,e),(0,a.default)(i,[{key:"createEl",value:function(){return(0,c.default)((0,u.default)(i.prototype),"createEl",this).call(this,"div",{className:"bvp-playback-outro",innerHTML:'<div class="bvp-playback-outro__message"></div>\n        <button class="bvp-playback-outro__replay-button" aria-label="Replay" title="Replay" aria-live="polite"/>'})}},{key:"setMessage",value:function(e){e&&(this.$(".bvp-playback-outro__message").textContent=e)}},{key:"onFinishedPlaying",value:function(){this.disabled||this.show()}},{key:"onStartedPlaying",value:function(){this.disabled||this.hide()}},{key:"onReplayClick",value:function(){var e=this.player_.options_.plugins.GoogleAdsPlugin,t=f.default.canDisplayAds(e)&&f.default.hasPreroll(e);if(this.player_.trigger(p.default.REPLAY),t)return this.hide(),void this.player_.trigger(p.default.PLAY_PREROLL);this.player_.play()}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}}]),i}(h);videojs.registerPlugin("PlaybackOutroPlugin",function(){this.options_.use_playback_outro?videojs.registerComponent("PlaybackOutro",b):i.info("plugin disabled")});var v=b;r.default=v},{"../events/player-events":228,"../lib/google-ads/ad-utils":242,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],344:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../utils/projector-utils")),o=n(e("../events/player-events")),l=new(n(e("log")).default)("PosterPlugin"),u=["onPlayerReady","onPlayerEnded"],c=function(){function r(e){var t=this;(0,i.default)(this,r),this.player=e,this.autoplay=e.options_.original_user_options.autoplay,this.posterUrl=e.options_.posterUrl,this.showPosterSlate=e.options_.poster_as_slate,this.hasLoadedPoster=!1,u.forEach(function(e){t[e]=t[e].bind(t)}),e.on(o.default.READY,this.onPlayerReady),e.on(o.default.ENDED,this.onPlayerEnded)}return(0,s.default)(r,[{key:"onPlayerReady",value:function(){if(this.showPosterSlate)return a.default.isMobile()||this.player.addClass("blvs-poster-as-slate"),void this.loadPoster();this.autoplay||this.loadPoster()}},{key:"onPlayerEnded",value:function(){this.loadPoster(),this.player.hasStarted(!1)}},{key:"loadPoster",value:function(){this.hasLoadedPoster||(a.default.isMobile()?this.player.el_.setAttribute("poster",this.posterUrl):this.player.poster(this.posterUrl),this.hasLoadedPoster=!0)}}],[{key:"init",value:function(){this.options_.use_poster_slate?new r(this):l.info("plugin disabled")}}]),r}();videojs.registerPlugin("PosterPlugin",c.init);var d=c;r.default=d},{"../events/player-events":228,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],345:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=new(n(e("log")).default)("SmoothScrubbingPlugin"),d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleMouseMove",value:function(e){(0,l.default)((0,o.default)(t.prototype),"handleMouseMove",this).call(this,e),this.player_.trigger("timeupdate")}}]),t}(videojs.getComponent("SeekBar"));function p(){var r=this;if(r.options_.use_smooth_scrub){var n=r.currentTime.bind(r);r.currentTime=function(e){var t=n(e);return void 0!==e&&(r.cache_.currentTime=e),t},videojs.registerComponent("SeekBar",d)}else c.info("plugin disabled")}videojs.registerPlugin("SmoothScrubbingPlugin",p);var f=p;r.default=f},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169,log:"log"}],346:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("../events/player-events")),l=n(e("../utils/VisibilityMonitor")),u=n(e("log")),c=e("bvp-constant"),d=n(e("../utils/projector-utils")),p=["startCountdown","stopCountdown","onTimeUpdate","onSeekEnd","reloadPlayer","dispose"],f=new u.default("StreamWatchdog"),h=function(){function n(e,t){var r=this;(0,i.default)(this,n),(0,a.default)(this,"isLive",void 0),(0,a.default)(this,"options",void 0),(0,a.default)(this,"pastTime",void 0),(0,a.default)(this,"player",void 0),(0,a.default)(this,"timeout",void 0),(0,a.default)(this,"videoTag",void 0),(0,a.default)(this,"countdownId",void 0),this.countdownId=null,this.isLive=Boolean(e.options_.original_user_options.live),this.options=t,this.pastTime=null,this.player=e,this.timeout=this.isLive?this.options.liveStreamTimeout:this.options.vodStreamTimeout,p.forEach(function(e){r[e]=r[e].bind(r)})}return(0,s.default)(n,[{key:"start",value:function(){d.default.isMobile()||d.default.isSafariDesktop()||(l.default.isPageVisible()&&this.player.on(o.default.PLAY,this.startCountdown),this.player.on(o.default.TIMEUPDATE,this.onTimeUpdate),this.player.on(o.default.DISPOSE,this.dispose),this.player.on([o.default.ENDED,o.default.PAUSE,o.default.ERROR],this.stopCountdown),this.videoTag=this.player.tech_.el(),this.videoTag.addEventListener("seeked",this.onSeekEnd))}},{key:"onTimeUpdate",value:function(){var e=this.player.currentTime(),t=this.player.paused(),r=this.player.seeking(),n=this.player.scrubbing();t||r||n||e&&this.pastTime!==e&&(this.pastTime=e,this.startCountdown())}},{key:"onSeekEnd",value:function(){this.pastTime=null}},{key:"reloadPlayer",value:function(){if(this.player.techName_!==c.CHROMECAST_TECH_NAME){f.warn("Stream playback stalled, triggering a reload request"),this.stopCountdown();var e={type:"watchdog-reload",details:"Playback stalled for ".concat(this.timeout,"s")};this.player.trigger({type:o.default.WATCHDOG_RELOAD,data:e})}}},{key:"startCountdown",value:function(){window.clearTimeout(this.countdownId),this.countdownId=window.setTimeout(this.reloadPlayer,this.timeout)}},{key:"stopCountdown",value:function(){window.clearTimeout(this.countdownId)}},{key:"dispose",value:function(){this.stopCountdown(),this.videoTag.removeEventListener("seeked",this.onSeekEnd),this.player=this.options=this.videoTag=null}}]),n}();videojs.registerPlugin("StreamWatchdogPlugin",function(e){var t=this;if(t.options_.use_stream_watchdog){var r=new h(t,e);t.on(o.default.READY,function(){t.tech_&&r.start()})}else f.info("plugin disabled")});var m=h;r.default=m},{"../events/player-events":228,"../utils/VisibilityMonitor":284,"../utils/projector-utils":296,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-constant":"bvp-constant","core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],347:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("../events/player-events")),p=n(e("../events/ad-events")),f=new(n(e("log")).default)("TitleBarComponent"),h=videojs.getComponent("Component"),m=["onAdCompleted","onAdLoaded","onFinishedPlaying","onPause","onPlay","onUserActive","onUserInactive"],b="bvp-title-bar__visible",v=function(e){function r(e){var t;return(0,i.default)(this,r),t=(0,a.default)(this,(0,l.default)(r).call(this,e)),m.forEach(function(e){t[e]=t[e].bind((0,o.default)(t))}),t.isAdPlaying=!1,t.isEmpty=!e.options_.title,t.isActive=!1,t.setTitle(e.options_.title),e.on([p.default.AD_COMPLETED,d.default.ADS_TIMEOUT_ERROR],t.onAdCompleted),e.on(p.default.AD_LOADED,t.onAdLoaded),e.on(d.default.ENDED,t.onFinishedPlaying),e.on(d.default.PAUSE,t.onPause),e.on(d.default.PLAY,t.onPlay),e.on(d.default.USER_ACTIVE,t.onUserActive),e.on(d.default.USER_INACTIVE,t.onUserInactive),t}return(0,c.default)(r,e),(0,s.default)(r,[{key:"createEl",value:function(){return(0,u.default)((0,l.default)(r.prototype),"createEl",this).call(this,"div",{className:"bvp-title-bar",innerHTML:'<div class="bvp-title-bar__text"></div>'})}},{key:"setTitle",value:function(e){this.$(".bvp-title-bar__text").textContent=e}},{key:"show",value:function(){this.addClass(b)}},{key:"hide",value:function(){this.removeClass(b)}},{key:"onAdLoaded",value:function(){this.isAdPlaying=!0,this.hide()}},{key:"onAdCompleted",value:function(){this.isAdPlaying=!1}},{key:"onPause",value:function(){this.isEmpty||this.player_.ended()||this.show()}},{key:"onPlay",value:function(){this.isEmpty||this.isActive||this.hide()}},{key:"onUserActive",value:function(){this.isActive=!0,this.isEmpty||this.player_.ended()||this.isAdPlaying||this.show()}},{key:"onUserInactive",value:function(){this.isActive=!1,this.player_.paused()||this.hide()}},{key:"onFinishedPlaying",value:function(){this.hide()}}],[{key:"init",value:function(){this.options_.use_title_bar?videojs.registerComponent("TitleBar",r):f.info("plugin disabled")}}]),r}(h);videojs.registerPlugin("TitleBarPlugin",v.init);var y=v;r.default=y},{"../events/ad-events":226,"../events/player-events":228,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.array.for-each":150,"core-js/modules/es.object.define-property":169,log:"log"}],348:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=r._TEST_VIEWABILITY_CONFIG=void 0;var s=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("log")),u=n(e("../../utils/ViewabilityMonitor")),c=i(e("../../events/player-events")),d=new l.default("ViewabilityPlugin"),p={livephoenix:0},f=p;r._TEST_VIEWABILITY_CONFIG=f;var h=function(){function n(e,t){var r=this;(0,s.default)(this,n),(0,o.default)(this,"_viewabilityMonitor",void 0),(0,o.default)(this,"dispose",function(){r._viewabilityMonitor.dispose()}),e.on(c.default.DISPOSE,this.dispose),this._viewabilityMonitor=new u.default(e.el_,t),e.options_.isViewable=this._viewabilityMonitor.isViewable(),this._viewabilityMonitor.on(u.Events.Viewable,function(){d.info("Player becomes viewable"),e.options_.isViewable=!0,e.trigger(c.default.VIEWABLE)}),this._viewabilityMonitor.on(u.Events.Unviewable,function(){d.info("Player becomes unviewable"),e.options_.isViewable=!1,e.trigger(c.default.UNVIEWABLE)})}return(0,a.default)(n,null,[{key:"register",value:function(){var e=(this.options_.ad_tag_cust_params_preroll||{}).location,t=p[e];if((t=isNaN(t)?.5:t)<=0)d.info("Plugin disabled for location: ",e);else{if(this.options_.useViewabilityPlugin)return new n(this,t);d.info("Plugin disabled")}}}]),n}();r.default=h,videojs.registerPlugin("ViewabilityPlugin",h.register)},{"../../events/player-events":228,"../../utils/ViewabilityMonitor":283,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"core-js/modules/es.object.define-property":169,log:"log"}],349:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),o=i(e("@babel/runtime/helpers/defineProperty")),l=i(e("log")),u=i(e("../../events/player-events")),c=i(e("../../events/ad-events")),d=n(e("../../utils/ViewabilityMonitor")),p=new l.default("ViewableAdImpressionPlugin"),f=function(){function r(e){var t=this;(0,s.default)(this,r),(0,o.default)(this,"_playerOptions",void 0),(0,o.default)(this,"_viewabilityMonitor",void 0),(0,o.default)(this,"_currentTimer",null),(0,o.default)(this,"_isAdPlaying",void 0),(0,o.default)(this,"_isViewable",!1),this._playerOptions=e.options_,this._viewabilityMonitor=new d.default(e.el_,.5),this._isViewable=this._viewabilityMonitor.isViewable(),this._viewabilityMonitor.on(d.Events.Viewable,function(){t._isViewable=!0,!t._playerOptions.passedViewableAdImpressionCheck&&t._isAdPlaying&&t._startViewabilityTimer()}),this._viewabilityMonitor.on(d.Events.Unviewable,function(){t._isViewable=!1,t._stopViewabilityTimer()}),e.on(u.default.DISPOSE,function(){return t._viewabilityMonitor.dispose()}),e.on(c.default.AD_STARTED,function(){t._playerOptions.passedViewableAdImpressionCheck=!1,t._isAdPlaying=!0,t._isViewable&&t._startViewabilityTimer()}),e.on([c.default.AD_COMPLETED,u.default.ADS_TIMEOUT_ERROR,u.default.DISPOSE],function(){t._playerOptions.passedViewableAdImpressionCheck=!1,t._isAdPlaying=!1,t._stopViewabilityTimer()})}return(0,a.default)(r,[{key:"_startViewabilityTimer",value:function(){var e=this;this._currentTimer||(this._currentTimer=window.setTimeout(function(){p.info("Passed veiwable Ad impression check"),e._playerOptions.passedViewableAdImpressionCheck=!0,e._currentTimer=null},2200))}},{key:"_stopViewabilityTimer",value:function(){this._currentTimer&&(p.info("Viewable Ad impression check stopped"),window.clearTimeout(this._currentTimer),this._currentTimer=null)}}],[{key:"register",value:function(){if(this.options_.useViewableAdImpressionPlugin)return new r(this);p.info("Plugin disabled")}}]),r}();r.default=f,videojs.registerPlugin("ViewableAdImpressionPlugin",f.register)},{"../../events/ad-events":226,"../../events/player-events":228,"../../utils/ViewabilityMonitor":283,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"core-js/modules/es.object.define-property":169,log:"log"}],350:[function(e,t,r){"use strict";e("core-js/modules/es.object.define-property"),e("core-js/modules/es.regexp.flags"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=window.YouboraLib.adapters.Videojs.extend({playListener:function(){this.flags.isStarted||(this.lastSrc=this.getResource(),this._startEvent())}});r.default=n},{"core-js/modules/es.object.define-property":169,"core-js/modules/es.regexp.flags":180}],351:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("@babel/runtime/helpers/defineProperty")),o=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),s=n(e("log")),l=e("bvp-shims"),u=n(e("../../utils/datetime-utils")),c=n(e("../../events/player-events")),d=n(e("../../utils/projector-utils")),p=n(e("../../utils/cookies")),f=n(e("error-report")),h=n(e("./CustomAdapter"));function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var b=new s.default("Youbora"),v=["_onPlay","_onSubscriberStatusChange","_onFatalError","_onDispose"],y={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed",UNKNOWN:"unknown"},g=function(){function s(e){var t=this;if((0,o.default)(this,s),e.options_.use_youbora)if(d.default.isHlsSupported()){v.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))}),this.player=e,this.options=this.player.options_,this.isLive=Boolean(+this.options.metadata.live);var r=this.options.metadata.id,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(r,!0).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},function(e,t,r){return Object.assign({},e.original_user_options.analyticsParams,{"content.customDimension.1":l.version,"content.customDimension.2":Boolean(e.original_user_options.autoplay).toString(),"content.customDimension.3":function(e){var t=e?new Date(e):new Date;return u.default.formatForReporting(t)}(e.metadata.bb_pub_d),"content.customDimension.4":function(e){if(e.live)return"long-form";if(e.form_type)return e.form_type;return"short-form"}(e.metadata),"content.customDimension.5":function(e){return e.show_name?e.show_name:"N/A"}(e.metadata),"content.customDimension.6":function(){var e=window.location;return"".concat(e.host).concat(e.pathname)}(),"content.customDimension.7":t,"content.customDimension.8":r,"content.customDimension.9":function(){var e=window._fence;if(e)try{return e.isBBGSubscriber?y.SUBSCRIBED:y.UNSUBSCRIBED}catch(e){f.default.recordGenericError(b,"Error accessing window._fence",e)}return y.UNKNOWN}(),"content.customDimension.11":"WEB"})}(this.options,r,this.player.currentSrc()),{},function(e,t,r){return{"content.enableAnalytics":!0,"content.isLive":e,"content.title":t,"content.duration":function(e){var t=e.metadata.duration;if(t)return Math.floor(+t/1e3);return 0}(r)}}(this.isLive,function(e){var t="";e.metadata.title&&(t+=e.metadata.title);return t}(this.options),this.options),{username:p.default.get("session_id"),properties:function(e,t){var r=t?new Date(t):null,n=r?r.getFullYear():"";return{content_id:e,year:n}}(r,function(e,t){return e?void 0:t.createdate}(this.isLive,this.options.metadata))});if(window.youboraPlugin.setOptions(n),window.youboraPlugin.setAdapter(this._getVideoJsAdapter()),this._addListeners(),this.options.log_debug){var i=window.YouboraLib.Log;i.logLevel=i.Level.DEBUG}}else b.warn("Plugin not enabled for non-Html5 techs.");else b.info("plugin disabled")}return(0,i.default)(s,[{key:"_getVideoJsAdapter",value:function(){return new h.default(this.player)}},{key:"_addListeners",value:function(){this.player.on(c.default.PLAY,this._onPlay),this.player.on(c.default.SUBSCRIBER_STATUS_CHANGE,this._onSubscriberStatusChange),this.player.on(c.default.FATAL_ERROR,this._onFatalError),this.player.on(c.default.DISPOSE,this._onDispose)}},{key:"_onDispose",value:function(){window.youboraPlugin.removeAdapter()}},{key:"_onPlay",value:function(){this.player&&window.youboraPlugin&&this._sendChangedEntity("content.customDimension.8",this.player.currentSrc())}},{key:"_onSubscriberStatusChange",value:function(e){var t=e.data,r=(void 0===t?{}:t).isBBGSubscriber?y.SUBSCRIBED:y.UNSUBSCRIBED;this._sendChangedEntity("content.customDimension.9",r)}},{key:"_sendChangedEntity",value:function(e,t){this.player&&window.youboraPlugin&&window.youboraPlugin.setOptions((0,a.default)({},e,t))}},{key:"_onFatalError",value:function(e){this.player&&window.youboraPlugin&&window.youboraPlugin.fireFatalError(e.error)}}],[{key:"init",value:function(){new s(this)}}]),s}();videojs.registerPlugin("YouboraIntegration",g.init);var _=g;r.default=_},{"../../events/player-events":228,"../../utils/cookies":286,"../../utils/datetime-utils":288,"../../utils/projector-utils":296,"./CustomAdapter":350,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"bvp-shims":"bvp-shims","core-js/modules/es.array.concat":147,"core-js/modules/es.array.filter":148,"core-js/modules/es.array.for-each":150,"core-js/modules/es.date.to-string":164,"core-js/modules/es.object.assign":167,"core-js/modules/es.object.define-properties":168,"core-js/modules/es.object.define-property":169,"core-js/modules/es.object.get-own-property-descriptor":172,"core-js/modules/es.object.get-own-property-descriptors":173,"core-js/modules/es.object.keys":174,"core-js/modules/es.object.to-string":175,"core-js/modules/es.regexp.to-string":181,"core-js/modules/es.symbol":192,"core-js/modules/web.dom-collections.for-each":193,"error-report":"error-report",log:"log"}],352:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),l=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),a=n(e("../utils/event-target")),d=n(e("../utils/video-tag-generator")),p=function(e){function a(e,t){var r;if((0,i.default)(this,a),(r=(0,o.default)(this,(0,l.default)(a).call(this))).element=e,r.settings=t,r.tagGenerator=new d.default(t),!e)throw new Error("View element is not provided");return r}return(0,c.default)(a,e),(0,s.default)(a,[{key:"preRender",value:function(){throw new Error("Required method preRender is not implemented.")}},{key:"render",value:function(){this.trigger(a.ON_BEFORE_RENDER);var e=this,t=this.settings.dataSetup,r=this.dispose.bind(this),n=this.tagGenerator.generateVideoTag(),i=n.id;if(this.preRender(n)){var s;t.id=i;try{s=window.videojs(i,t)}catch(e){return this.element=null,void this.trigger(a.ON_ERROR,{error:e})}return s.ready(function(){e.element=null,e.trigger(a.ON_RENDER,{player:this})}),s.on("dispose",r),this._addCustomPlayerSetting(s,t),s}this.trigger(a.ON_ERROR,{error:new Error("Failed to pre-render video element")})}},{key:"_addCustomPlayerSetting",value:function(e,t){t.hidePlayerControls&&e.addClass("vjs-hide-player-controls"),t.useCustomBufferingAnimation&&e.addClass("vjs-hide-default-buffering-animation")}},{key:"dispose",value:function(){this.element=this.settings=this.tagGenerator=null,this.trigger(a.ON_DISPOSE),(0,u.default)((0,l.default)(a.prototype),"removeAllEventListeners",this).call(this)}}]),a}(a.default);Object.defineProperties(p,{ON_BEFORE_RENDER:{value:"beforeRender"},ON_RENDER:{value:"render"},ON_DISPOSE:{value:"dispose"},ON_ERROR:{value:"error"}});var f=p;r.default=f},{"../utils/event-target":290,"../utils/video-tag-generator":301,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-properties":168,"core-js/modules/es.object.define-property":169}],353:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/inherits")),u=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"preRender",value:function(e){return this.element.innerHTML="",this.element.appendChild(e),!0}}]),t}(n(e("./View")).default);r.default=u},{"./View":352,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],354:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("./View")),c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"preRender",value:function(e){var t=this.element.parentNode;return t?(t.replaceChild(e,this.element),!0):(this.trigger(u.default.ON_ERROR,{error:new Error("Missing parent node. Cannot attach the video player")}),!1)}}]),t}(u.default);r.default=c},{"./View":352,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":17,"core-js/modules/es.object.define-property":169}],355:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),a=n(e("../js/utils/query-string")),o=function(){function t(e){(0,i.default)(this,t),this.params=a.default.parseQueryString(e)}return(0,s.default)(t,[{key:"get",value:function(e){if(this.has(e))return Array.isArray(this.params[e])?this.params[e][0]:this.params[e]}},{key:"getAll",value:function(e){return this.has(e)?Array.isArray(this.params[e])?this.params[e]:[this.params[e]]:[]}},{key:"has",value:function(e){return this.params.hasOwnProperty(e)}}]),t}();r.default=o},{"../js/utils/query-string":297,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"core-js/modules/es.object.define-property":169}],356:[function(e,t,r){"use strict";var n,i;e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(i=n=n||{}).PREROLL="preroll",i.MIDROLL="midroll";var s=n;r.default=s},{"core-js/modules/es.object.define-property":169}],357:[function(e,t,r){"use strict";var n,i;e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(i=n=n||{}).BUSINESS="business",i.COJP="cojp";var s=n;r.default=s},{"core-js/modules/es.object.define-property":169}],358:[function(e,t,r){"use strict";var n,i;e("core-js/modules/es.object.define-property"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(i=n=n||{}).LIVE="live",i.VOD="vod";var s=n;r.default=s},{"core-js/modules/es.object.define-property":169}]},{},[214]);